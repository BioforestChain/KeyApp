{"version":3,"file":"index-a601d5c3.mjs","sources":["../../dist/lib/wif/index.mjs"],"sourcesContent":["import { Buffer } from '../buffer.mjs';\nimport { bs58check } from '../bs58check/index.mjs';\nexport function decodeRaw(buffer, version) {\n    // check version only if defined\n    if (version !== undefined && buffer[0] !== version)\n        throw new Error('Invalid network version');\n    // uncompressed\n    if (buffer.length === 33) {\n        return {\n            version: buffer[0],\n            privateKey: buffer.slice(1, 33),\n            compressed: false,\n        };\n    }\n    // invalid length\n    if (buffer.length !== 34)\n        throw new Error('Invalid WIF length');\n    // invalid compression flag\n    if (buffer[33] !== 0x01)\n        throw new Error('Invalid compression flag');\n    return {\n        version: buffer[0],\n        privateKey: buffer.slice(1, 33),\n        compressed: true,\n    };\n}\nexport function encodeRaw(version, privateKey, compressed) {\n    var result = Buffer.alloc(compressed ? 34 : 33);\n    result.writeUInt8(version, 0);\n    privateKey.copy(result, 1);\n    if (compressed) {\n        result[33] = 0x01;\n    }\n    return result;\n}\nexport function decode(string, version) {\n    return decodeRaw(bs58check.decode(string), version);\n}\nexport function encode(version, privateKey, compressed) {\n    //   if (typeof version !== 'number')\n    //   return bs58check.encode(\n    //     encodeRaw(version.version, version.privateKey, version.compressed),\n    //   );\n    return bs58check.encode(encodeRaw(version, privateKey, compressed));\n}\n//# sourceMappingURL=index.mjs.map"],"names":[],"mappings":";;;AAEO,SAAS,SAAS,CAAC,MAAM,EAAE,OAAO,EAAE;AAC3C;AACA,IAAI,IAAI,OAAO,KAAK,SAAS,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,OAAO;AACtD,QAAQ,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAA;AAClD;AACA,IAAI,IAAI,MAAM,CAAC,MAAM,KAAK,EAAE,EAAE;AAC9B,QAAQ,OAAO;AACf,YAAY,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;AAC9B,YAAY,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;AAC3C,YAAY,UAAU,EAAE,KAAK;AAC7B,SAAS,CAAA;AACT,KAAI;AACJ;AACA,IAAI,IAAI,MAAM,CAAC,MAAM,KAAK,EAAE;AAC5B,QAAQ,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAA;AAC7C;AACA,IAAI,IAAI,MAAM,CAAC,EAAE,CAAC,KAAK,IAAI;AAC3B,QAAQ,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;AACnD,IAAI,OAAO;AACX,QAAQ,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;AAC1B,QAAQ,UAAU,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;AACvC,QAAQ,UAAU,EAAE,IAAI;AACxB,KAAK,CAAA;AACL,CAAA;AACO,SAAS,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE;AAC3D,IAAI,IAAI,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE,CAAC,CAAA;AACnD,IAAI,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC,CAAA;AACjC,IAAI,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;AAC9B,IAAI,IAAI,UAAU,EAAE;AACpB,QAAQ,MAAM,CAAC,EAAE,CAAC,GAAG,IAAI,CAAA;AACzB,KAAI;AACJ,IAAI,OAAO,MAAM,CAAA;AACjB,CAAA;AACO,SAAS,MAAM,CAAC,MAAM,EAAE,OAAO,EAAE;AACxC,IAAI,OAAO,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAA;AACvD,CAAA;AACO,SAAS,MAAM,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE;AACxD;AACA;AACA;AACA;AACA,IAAI,OAAO,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC,CAAA;AACvE;;;;"}