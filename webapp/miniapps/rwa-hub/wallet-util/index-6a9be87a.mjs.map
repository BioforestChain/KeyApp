{"version":3,"file":"index-6a9be87a.mjs","sources":["../../dist/lib/ethereum-util/index.mjs"],"sourcesContent":["import { Buffer } from '../buffer.mjs';\nimport { createKeccakSync } from '../hash-wasm/keccak.mjs';\nimport { pointCompress } from '../tiny-secp256k1/index.mjs';\nexport const keccakHex = (data, bits) => {\n    return createKeccakSync(bits).update(data).digest('hex');\n};\nexport const keccak256Buffer = (publicKey) => {\n    const hash = createKeccakSync(256);\n    return Buffer.from(hash.update(publicKey).digest());\n};\nexport const importPublic = async (publickKey) => {\n    if (publickKey.length !== 64) {\n        publickKey = pointCompress(publickKey, false).slice(1);\n    }\n    return publickKey;\n};\nexport const publicToAddress = async (pubKey) => {\n    return (await keccak256Buffer(pubKey)).slice(-20);\n};\nexport const addHexPrefix = (str) => {\n    return isHexPrefixed(str) ? str : `0x${str}`;\n};\nexport const isHexPrefixed = (str) => {\n    return str.startsWith('0x');\n};\nexport const bufferToHex = (buf) => {\n    return `0x${buf.toString('hex')}`;\n};\nexport const stripHexPrefix = (address) => {\n    return /^0x/i.test(address) ? address.slice(2) : address;\n};\nexport const toChecksumAddress = async (address) => {\n    address = stripHexPrefix(address).toLowerCase();\n    const hash = await keccakHex(address, 256);\n    let ret = '0x';\n    for (let i = 0; i < address.length; i++) {\n        const char = address[i];\n        if (parseInt(hash[i], 16) >= 8) {\n            ret += char.toUpperCase();\n        }\n        else {\n            ret += char;\n        }\n    }\n    return ret;\n};\n//# sourceMappingURL=index.mjs.map"],"names":[],"mappings":";;;;;;AAGY,MAAC,SAAS,GAAG,CAAC,IAAI,EAAE,IAAI,KAAK;AACzC,IAAI,OAAO,gBAAgB,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;AAC5D,EAAC;AACW,MAAC,eAAe,GAAG,CAAC,SAAS,KAAK;AAC9C,IAAI,MAAM,IAAI,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAA;AACtC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,CAAC,CAAA;AACvD,EAAC;AACW,MAAC,YAAY,GAAG,OAAO,UAAU,KAAK;AAClD,IAAI,IAAI,UAAU,CAAC,MAAM,KAAK,EAAE,EAAE;AAClC,QAAQ,UAAU,GAAG,aAAa,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;AAC9D,KAAI;AACJ,IAAI,OAAO,UAAU,CAAA;AACrB,EAAC;AACW,MAAC,eAAe,GAAG,OAAO,MAAM,KAAK;AACjD,IAAI,OAAO,CAAC,MAAM,eAAe,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAA;AACrD,EAAC;AACW,MAAC,YAAY,GAAG,CAAC,GAAG,KAAK;AACrC,IAAI,OAAO,aAAa,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAA;AAChD,EAAC;AACW,MAAC,aAAa,GAAG,CAAC,GAAG,KAAK;AACtC,IAAI,OAAO,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;AAC/B,EAAC;AACW,MAAC,WAAW,GAAG,CAAC,GAAG,KAAK;AACpC,IAAI,OAAO,CAAC,EAAE,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;AACrC,EAAC;AACW,MAAC,cAAc,GAAG,CAAC,OAAO,KAAK;AAC3C,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,OAAO,CAAA;AAC5D,EAAC;AACW,MAAC,iBAAiB,GAAG,OAAO,OAAO,KAAK;AACpD,IAAI,OAAO,GAAG,cAAc,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,CAAA;AACnD,IAAI,MAAM,IAAI,GAAG,MAAM,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,CAAA;AAC9C,IAAI,IAAI,GAAG,GAAG,IAAI,CAAA;AAClB,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7C,QAAQ,MAAM,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,CAAA;AAC/B,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;AACxC,YAAY,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,CAAA;AACrC,SAAQ;AACR,aAAa;AACb,YAAY,GAAG,IAAI,IAAI,CAAA;AACvB,SAAQ;AACR,KAAI;AACJ,IAAI,OAAO,GAAG,CAAA;AACd;;;;"}