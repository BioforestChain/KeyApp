<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第二十章：DWEB 授权 | BFM Pay</title>
    <meta name="description" content="多链钱包移动应用">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/KeyApp/assets/style.7tXciQL9.css" as="style">
    <link rel="preload stylesheet" href="/KeyApp/vp-icons.css" as="style">
    
    <script type="module" src="/KeyApp/assets/app.Bd6-Q5QW.js"></script>
    <link rel="preload" href="/KeyApp/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/KeyApp/assets/chunks/theme.D69trygC.js">
    <link rel="modulepreload" href="/KeyApp/assets/chunks/framework.B0we9iV-.js">
    <link rel="modulepreload" href="/KeyApp/assets/white-book_06-安全篇_03-DWEB授权_index.md.BU45X-eK.lean.js">
    <link rel="icon" type="image/webp" href="/logos/logo-64.webp">
    <meta name="theme-color" content="#667eea">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-7b9c78f5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-40706e9a></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-40706e9a>Skip to content</a><!--]--><!----><header class="VPNav" data-v-7b9c78f5 data-v-bc64e723><div class="VPNavBar" data-v-bc64e723 data-v-c8e9477f><div class="wrapper" data-v-c8e9477f><div class="container" data-v-c8e9477f><div class="title" data-v-c8e9477f><div class="VPNavBarTitle has-sidebar" data-v-c8e9477f data-v-72abb8a5><a class="title" href="/KeyApp/" data-v-72abb8a5><!--[--><!--]--><!--[--><img class="VPImage logo" src="/KeyApp/logos/logo-256.webp" alt data-v-87aa5da3><!--]--><span data-v-72abb8a5>BFM Pay</span><!--[--><!--]--></a></div></div><div class="content" data-v-c8e9477f><div class="content-body" data-v-c8e9477f><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c8e9477f><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c8e9477f data-v-cd6faacc><span id="main-nav-aria-label" class="visually-hidden" data-v-cd6faacc> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/KeyApp/" tabindex="0" data-v-cd6faacc data-v-6251b66a><!--[--><span data-v-6251b66a>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/KeyApp/download.html" tabindex="0" data-v-cd6faacc data-v-6251b66a><!--[--><span data-v-6251b66a>下载</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/KeyApp/white-book/" tabindex="0" data-v-cd6faacc data-v-6251b66a><!--[--><span data-v-6251b66a>开发说明书</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="./storybook/" tabindex="0" data-v-cd6faacc data-v-6251b66a><!--[--><span data-v-6251b66a>Storybook</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/KeyApp/contributing.html" tabindex="0" data-v-cd6faacc data-v-6251b66a><!--[--><span data-v-6251b66a>贡献指南</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/KeyApp/changelog.html" tabindex="0" data-v-cd6faacc data-v-6251b66a><!--[--><span data-v-6251b66a>更新日志</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-c8e9477f data-v-87442bd7><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-87442bd7 data-v-a78604af data-v-cc670d3e><span class="check" data-v-cc670d3e><span class="icon" data-v-cc670d3e><!--[--><span class="vpi-sun sun" data-v-a78604af></span><span class="vpi-moon moon" data-v-a78604af></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-c8e9477f data-v-be64d4e3 data-v-aafc0c4c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/BioforestChain/KeyApp" aria-label="github" target="_blank" rel="noopener" data-v-aafc0c4c data-v-325e88d2><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-c8e9477f data-v-78153cd8 data-v-3403a945><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-3403a945><span class="vpi-more-horizontal icon" data-v-3403a945></span></button><div class="menu" data-v-3403a945><div class="VPMenu" data-v-3403a945 data-v-7fbf5a97><!----><!--[--><!--[--><!----><div class="group" data-v-78153cd8><div class="item appearance" data-v-78153cd8><p class="label" data-v-78153cd8>Appearance</p><div class="appearance-action" data-v-78153cd8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-78153cd8 data-v-a78604af data-v-cc670d3e><span class="check" data-v-cc670d3e><span class="icon" data-v-cc670d3e><!--[--><span class="vpi-sun sun" data-v-a78604af></span><span class="vpi-moon moon" data-v-a78604af></span><!--]--></span></span></button></div></div></div><div class="group" data-v-78153cd8><div class="item social-links" data-v-78153cd8><div class="VPSocialLinks social-links-list" data-v-78153cd8 data-v-aafc0c4c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/BioforestChain/KeyApp" aria-label="github" target="_blank" rel="noopener" data-v-aafc0c4c data-v-325e88d2><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c8e9477f data-v-3d96a5f5><span class="container" data-v-3d96a5f5><span class="top" data-v-3d96a5f5></span><span class="middle" data-v-3d96a5f5></span><span class="bottom" data-v-3d96a5f5></span></span></button></div></div></div></div><div class="divider" data-v-c8e9477f><div class="divider-line" data-v-c8e9477f></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-7b9c78f5 data-v-d0e7b3f9><div class="container" data-v-d0e7b3f9><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-d0e7b3f9><span class="vpi-align-left menu-icon" data-v-d0e7b3f9></span><span class="menu-text" data-v-d0e7b3f9>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-d0e7b3f9 data-v-7d7dad9d><button data-v-7d7dad9d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-7b9c78f5 data-v-97da60e8><div class="curtain" data-v-97da60e8></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-97da60e8><span class="visually-hidden" id="sidebar-aria-label" data-v-97da60e8> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-432a0047><section class="VPSidebarItem level-0 is-link has-active" data-v-432a0047 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/" data-v-f17a2ac9><!--[--><h2 class="text" data-v-f17a2ac9>BFM Pay 软件开发说明书</h2><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><section class="VPSidebarItem level-1 collapsible is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/00-必读/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>AI 开发指南 - 必读</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/00-%E5%BF%85%E8%AF%BB/best-practices.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>最佳实践</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/01-产品篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第一篇：产品篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/01-产品篇/01-产品愿景/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第一章：产品愿景</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/01-产品篇/02-用户画像/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第二章：用户画像</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/01-产品篇/03-用户故事/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第三章：用户故事</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/02-设计篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第二篇：设计篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/02-设计篇/01-交互设计/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第四章：交互设计</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/02-设计篇/02-视觉设计/" data-v-f17a2ac9><!--[--><h4 class="text" data-v-f17a2ac9>第五章：视觉设计</h4><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/02-%E8%AE%BE%E8%AE%A1%E7%AF%87/02-%E8%A7%86%E8%A7%89%E8%AE%BE%E8%AE%A1/dark-mode.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>暗色模式最佳实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/02-%E8%AE%BE%E8%AE%A1%E7%AF%87/02-%E8%A7%86%E8%A7%89%E8%AE%BE%E8%AE%A1/theme-colors.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>主题配色系统</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/02-设计篇/03-设计原则/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第六章：设计原则</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第三篇：架构篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/01-技术选型/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第七章：技术需求</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/02-系统架构/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>系统架构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/03-导航系统/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>导航系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/04-状态管理/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>状态管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/05-离线能力/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>离线能力篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/06-错误处理/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>错误处理篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/07-性能预算/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>性能预算篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/03-架构篇/08-Amount类型系统/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Amount 类型系统</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第四篇：服务篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/01-服务架构/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第十一章：服务架构</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/02-链服务/" data-v-f17a2ac9><!--[--><h4 class="text" data-v-f17a2ac9>链服务</h4><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/02-%E9%93%BE%E6%9C%8D%E5%8A%A1/IAssetService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IAssetService 资产服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/02-%E9%93%BE%E6%9C%8D%E5%8A%A1/IChainService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IChainService 链信息服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/02-%E9%93%BE%E6%9C%8D%E5%8A%A1/IIdentityService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IIdentityService 身份服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/02-%E9%93%BE%E6%9C%8D%E5%8A%A1/IStakingService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IStakingService 质押服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/02-%E9%93%BE%E6%9C%8D%E5%8A%A1/ITransactionService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>ITransactionService 交易服务</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/02-链服务/实现规范/" data-v-f17a2ac9><!--[--><h5 class="text" data-v-f17a2ac9>链服务实现规范</h5><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-4 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/02-%E9%93%BE%E6%9C%8D%E5%8A%A1/%E5%AE%9E%E7%8E%B0%E8%A7%84%E8%8C%83/02-web3-adapters.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Web3 链适配器实现</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><section class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/03-平台服务/" data-v-f17a2ac9><!--[--><h4 class="text" data-v-f17a2ac9>平台服务</h4><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/03-%E5%B9%B3%E5%8F%B0%E6%9C%8D%E5%8A%A1/IBiometricService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IBiometricService 生物识别服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/03-%E5%B9%B3%E5%8F%B0%E6%9C%8D%E5%8A%A1/ICameraService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>ICameraService 相机服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/03-%E5%B9%B3%E5%8F%B0%E6%9C%8D%E5%8A%A1/IClipboardService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IClipboardService 剪贴板服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/03-%E5%B9%B3%E5%8F%B0%E6%9C%8D%E5%8A%A1/IDeepLinkService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IDeepLinkService 深度链接服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/03-%E5%B9%B3%E5%8F%B0%E6%9C%8D%E5%8A%A1/IHapticService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IHapticService 触觉反馈服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/03-%E5%B9%B3%E5%8F%B0%E6%9C%8D%E5%8A%A1/IShareService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IShareService 分享服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-%E6%9C%8D%E5%8A%A1%E7%AF%87/03-%E5%B9%B3%E5%8F%B0%E6%9C%8D%E5%8A%A1/IStorageService.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>IStorageService 安全存储服务</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/04-事件系统/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>事件系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/05-Mock服务规范/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Mock 服务规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/06-服务定义系统/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>服务定义系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/07-链配置管理/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>链配置管理服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/08-钱包数据存储/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>钱包数据存储服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/04-服务篇/09-联系人服务/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>联系人服务</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-组件篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第五篇：组件篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><section class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-组件篇/01-基础组件/" data-v-f17a2ac9><!--[--><h4 class="text" data-v-f17a2ac9>基础组件</h4><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/01-%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/Button.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Button 按钮</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/01-%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/Card.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Card 卡片</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/01-%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/Dialog.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Dialog 对话框</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/01-%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/Input.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Input 输入框</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/01-%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/Sheet.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Sheet 底部抽屉</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/01-%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/Toast.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Toast 轻提示</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-组件篇/02-通用组件/" data-v-f17a2ac9><!--[--><h4 class="text" data-v-f17a2ac9>通用组件</h4><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/02-%E9%80%9A%E7%94%A8%E7%BB%84%E4%BB%B6/AddressDisplay.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>AddressDisplay 地址显示</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/02-%E9%80%9A%E7%94%A8%E7%BB%84%E4%BB%B6/AmountDisplay.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>AmountDisplay 金额显示</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/02-%E9%80%9A%E7%94%A8%E7%BB%84%E4%BB%B6/AnimatedNumber.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>AnimatedNumber 数字动画</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/02-%E9%80%9A%E7%94%A8%E7%BB%84%E4%BB%B6/Contact.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Contact 联系人组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/02-%E9%80%9A%E7%94%A8%E7%BB%84%E4%BB%B6/QRCode.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>QRCode 二维码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/02-%E9%80%9A%E7%94%A8%E7%BB%84%E4%BB%B6/Scanner.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Scanner 二维码扫描器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/02-%E9%80%9A%E7%94%A8%E7%BB%84%E4%BB%B6/TokenIcon.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>TokenIcon 代币图标</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-组件篇/03-钱包组件/" data-v-f17a2ac9><!--[--><h4 class="text" data-v-f17a2ac9>钱包组件</h4><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/03-%E9%92%B1%E5%8C%85%E7%BB%84%E4%BB%B6/ChainSelector.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>ChainSelector 链选择器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/03-%E9%92%B1%E5%8C%85%E7%BB%84%E4%BB%B6/TransactionItem.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>TransactionItem 交易记录项</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/03-%E9%92%B1%E5%8C%85%E7%BB%84%E4%BB%B6/WalletCard.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>WalletCard 钱包卡片</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/03-%E9%92%B1%E5%8C%85%E7%BB%84%E4%BB%B6/WalletConfig.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>WalletConfig 钱包配置</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-组件篇/04-布局组件/" data-v-f17a2ac9><!--[--><h4 class="text" data-v-f17a2ac9>布局组件</h4><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/04-%E5%B8%83%E5%B1%80%E7%BB%84%E4%BB%B6/AppLayout.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>AppLayout 应用布局</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/04-%E5%B8%83%E5%B1%80%E7%BB%84%E4%BB%B6/Header.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Header 页面头部</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-%E7%BB%84%E4%BB%B6%E7%AF%87/04-%E5%B8%83%E5%B1%80%E7%BB%84%E4%BB%B6/TabBar.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>TabBar 底部导航栏</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-组件篇/05-表单系统/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第十六章：表单规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/05-组件篇/06-交互规范/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第十七章：交互规范</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link has-active" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/06-安全篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第六篇：安全篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/06-安全篇/01-密钥管理/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>密钥管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/06-安全篇/02-身份认证/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>身份认证</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/06-安全篇/03-DWEB授权/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第二十章：DWEB 授权</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/06-安全篇/04-安全审计清单/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>安全审计清单</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/07-国际化篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第七篇：国际化篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/07-国际化篇/01-多语言支持/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>多语言支持</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/07-国际化篇/02-本地化规范/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第二十二章：本地化规范</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-测试篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第八篇：测试篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-测试篇/01-测试策略/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第二十三章：测试策略</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-测试篇/02-Vitest配置/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>单元测试规范</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-测试篇/03-Playwright配置/" data-v-f17a2ac9><!--[--><h4 class="text" data-v-f17a2ac9>第二十五章：Playwright 配置</h4><!--]--></a><!----></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-%E6%B5%8B%E8%AF%95%E7%AF%87/03-Playwright%E9%85%8D%E7%BD%AE/e2e-best-practices.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>E2E 测试最佳实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-%E6%B5%8B%E8%AF%95%E7%AF%87/03-Playwright%E9%85%8D%E7%BD%AE/storybook-visual-testing.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>Storybook 视觉测试最佳实践</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-测试篇/04-性能测试/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>性能测试规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-测试篇/05-安全测试/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>安全测试规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/08-测试篇/06-测试网络/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>公共 RPC 与测试网络接入指南</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/09-部署篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>第九篇：部署篇</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/09-部署篇/01-构建配置/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>构建配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/09-部署篇/02-发布流程/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>第二十七章：发布流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/09-部署篇/03-数据迁移/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>数据迁移篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/09-部署篇/04-监控告警/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>监控告警篇</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/10-生态篇/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>Bio 生态系统</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/10-%E7%94%9F%E6%80%81%E7%AF%87/01-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>架构设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/10-%E7%94%9F%E6%80%81%E7%AF%87/02-BioSDK%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>BioSDK 开发指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/10-%E7%94%9F%E6%80%81%E7%AF%87/03-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>小程序开发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/10-%E7%94%9F%E6%80%81%E7%AF%87/04-%E8%AE%A2%E9%98%85%E7%B3%BB%E7%BB%9F.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>订阅系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/10-%E7%94%9F%E6%80%81%E7%AF%87/05-%E5%AE%9E%E7%8E%B0%E7%8A%B6%E6%80%81.html" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>实现状态</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" tabindex="0" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/" data-v-f17a2ac9><!--[--><h3 class="text" data-v-f17a2ac9>附录</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-f17a2ac9><span class="vpi-chevron-right caret-icon" data-v-f17a2ac9></span></div></div><div class="items" data-v-f17a2ac9><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/A-术语表/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>附录 A：术语表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/B-链网络列表/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>附录 B：链网络列表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/C-mpay迁移指南/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>附录 C：mpay 迁移指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/D-API参考/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>附录 D：API 参考</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/E-状态机规范/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>附录 E: 状态机规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/F-边界条件目录/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>附录 F: 边界条件目录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/G-网络故障矩阵/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>附录 G: 网络故障矩阵</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/H-开发规范/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>开发规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f17a2ac9 data-v-f17a2ac9><div class="item" data-v-f17a2ac9><div class="indicator" data-v-f17a2ac9></div><a class="VPLink link link" href="/KeyApp/white-book/附录/I-外部服务提供商/" data-v-f17a2ac9><!--[--><p class="text" data-v-f17a2ac9>附录 I：外部服务提供商</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-7b9c78f5 data-v-d9f43846><div class="VPDoc has-sidebar has-aside" data-v-d9f43846 data-v-b060b9b3><!--[--><!--]--><div class="container" data-v-b060b9b3><div class="aside" data-v-b060b9b3><div class="aside-curtain" data-v-b060b9b3></div><div class="aside-container" data-v-b060b9b3><div class="aside-content" data-v-b060b9b3><div class="VPDocAside" data-v-b060b9b3 data-v-da5cf118><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-da5cf118 data-v-4ebe5a19><div class="content" data-v-4ebe5a19><div class="outline-marker" data-v-4ebe5a19></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-4ebe5a19>On this page</div><ul class="VPDocOutlineItem root" data-v-4ebe5a19 data-v-fba01d8a><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-da5cf118></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-b060b9b3><div class="content-container" data-v-b060b9b3><!--[--><!--]--><main class="main" data-v-b060b9b3><div style="position:relative;" class="vp-doc _KeyApp_white-book_06-%E5%AE%89%E5%85%A8%E7%AF%87_03-DWEB%E6%8E%88%E6%9D%83_" data-v-b060b9b3><div><h1 id="第二十章-dweb-授权" tabindex="-1">第二十章：DWEB 授权 <a class="header-anchor" href="#第二十章-dweb-授权" aria-label="Permalink to &quot;第二十章：DWEB 授权&quot;">​</a></h1><blockquote><p>定义 Plaoc 协议的授权流程</p></blockquote><hr><h2 id="_20-1-dweb-协议概述" tabindex="-1">20.1 DWEB 协议概述 <a class="header-anchor" href="#_20-1-dweb-协议概述" aria-label="Permalink to &quot;20.1 DWEB 协议概述&quot;">​</a></h2><p>BFM Pay 通过 Plaoc 协议与其他 DWEB 应用进行跨应用通讯：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────┐     Plaoc 协议      ┌─────────────────┐</span></span>
<span class="line"><span>│   DApp (请求方)  │ ◄─────────────────► │  BFM Pay (钱包)  │</span></span>
<span class="line"><span>│                 │   getAddress        │                 │</span></span>
<span class="line"><span>│  商城/游戏/DeFi  │   signature         │  授权/签名/查询   │</span></span>
<span class="line"><span>│                 │   assetBalance      │                 │</span></span>
<span class="line"><span>└─────────────────┘                     └─────────────────┘</span></span></code></pre></div><hr><h2 id="_20-2-请求类型" tabindex="-1">20.2 请求类型 <a class="header-anchor" href="#_20-2-请求类型" aria-label="Permalink to &quot;20.2 请求类型&quot;">​</a></h2><table tabindex="0"><thead><tr><th>请求</th><th>说明</th><th>风险等级</th></tr></thead><tbody><tr><td>getAddress</td><td>获取钱包地址</td><td>低</td></tr><tr><td>signature</td><td>签名消息/交易</td><td>高</td></tr><tr><td>assetBalance</td><td>查询资产余额</td><td>低</td></tr></tbody></table><hr><h2 id="_20-3-地址授权-getaddress" tabindex="-1">20.3 地址授权 (getAddress) <a class="header-anchor" href="#_20-3-地址授权-getaddress" aria-label="Permalink to &quot;20.3 地址授权 (getAddress)&quot;">​</a></h2><h3 id="请求格式" tabindex="-1">请求格式 <a class="header-anchor" href="#请求格式" aria-label="Permalink to &quot;请求格式&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetAddressRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;main&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;network&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;all&#39;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  chainName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // type=&#39;network&#39; 时必须</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="授权类型" tabindex="-1">授权类型 <a class="header-anchor" href="#授权类型" aria-label="Permalink to &quot;授权类型&quot;">​</a></h3><table tabindex="0"><thead><tr><th>类型</th><th>说明</th><th>返回数据</th></tr></thead><tbody><tr><td>main</td><td>当前钱包所有链地址</td><td>钱包名、各链地址、公钥</td></tr><tr><td>network</td><td>指定链的所有钱包地址</td><td>该链下所有地址</td></tr><tr><td>all</td><td>所有钱包所有地址</td><td>完整地址列表</td></tr></tbody></table><h3 id="授权页面" tabindex="-1">授权页面 <a class="header-anchor" href="#授权页面" aria-label="Permalink to &quot;授权页面&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/pages/authorize/address.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AuthorizeAddressPage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">eventId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useActivityParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eventId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt;()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> searchParams</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useSearchParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> searchParams.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;main&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;network&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;all&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> chainName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> searchParams.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;chainName&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dappInfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useDappInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(eventId)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wallets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(walletStore, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.wallets)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">selectedAddresses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setSelectedAddresses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]&gt;([])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleAuthorize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 验证钱包锁</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> patternKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> requestWalletLock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">patternKey) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 返回地址给 DApp</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sendAddressResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(eventId, selectedAddresses)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleReject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    sendRejectResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(eventId, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;User rejected&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;p-4 space-y-6&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* DApp 信息 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DappInfoCard dapp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{dappInfo} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 授权说明 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Alert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IconInfoCircle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AlertDescription</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> === &#39;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39; &amp;&amp; &#39;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">该应用请求获取您当前钱包的地址</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> === &#39;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">network</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39; &amp;&amp; `</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">该应用请求获取您在</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">chainName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">上的地址</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">`}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> === &#39;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39; &amp;&amp; &#39;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">该应用请求获取您所有钱包的地址</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AlertDescription</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Alert</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 地址选择 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">AddressList</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{type}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        chainName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{chainName}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        selected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{selectedAddresses}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        onSelect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{setSelectedAddresses}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 操作按钮 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex gap-3&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button variant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;outline&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleReject} className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex-1&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">          拒绝</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleAuthorize} className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex-1&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">          授权</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="_20-4-签名授权-signature" tabindex="-1">20.4 签名授权 (signature) <a class="header-anchor" href="#_20-4-签名授权-signature" aria-label="Permalink to &quot;20.4 签名授权 (signature)&quot;">​</a></h2><h3 id="签名类型" tabindex="-1">签名类型 <a class="header-anchor" href="#签名类型" aria-label="Permalink to &quot;签名类型&quot;">​</a></h3><table tabindex="0"><thead><tr><th>类型</th><th>场景</th><th>显示内容</th></tr></thead><tbody><tr><td>message</td><td>登录验证</td><td>原始消息文本</td></tr><tr><td>transfer</td><td>转账</td><td>收款地址、金额、手续费</td></tr><tr><td>contract</td><td>合约调用</td><td>合约地址、方法、参数</td></tr><tr><td>entity</td><td>NFT 操作</td><td>操作类型、资产详情</td></tr></tbody></table><h3 id="签名数据格式" tabindex="-1">签名数据格式 <a class="header-anchor" href="#签名数据格式" aria-label="Permalink to &quot;签名数据格式&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SignatureData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;message&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;transfer&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;contract&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;entity&#39;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  chainName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  senderAddress</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // type=&#39;message&#39;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // type=&#39;transfer&#39;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  receiveAddress</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  balance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  fee</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  assetType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // type=&#39;contract&#39;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  contractAddress</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  methodName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unknown</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="签名页面" tabindex="-1">签名页面 <a class="header-anchor" href="#签名页面" aria-label="Permalink to &quot;签名页面&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/pages/authorize/signature.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AuthorizeSignaturePage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">eventId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useActivityParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eventId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt;()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> searchParams</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useSearchParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signatureData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    decodeURIComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(searchParams.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;signaturedata&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">??</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;[]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SignatureData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dappInfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useDappInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(eventId)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleSign</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 验证钱包锁</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> patternKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> requestWalletLock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">patternKey) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 解密助记词</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wallet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getCurrentWallet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mnemonic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> decryptMnemonic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wallet.encryptedMnemonic, patternKey)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 签名每个请求</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signatures</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      signatureData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> privateKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> derivePrivateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mnemonic, data.chainName)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, privateKey)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 返回签名给 DApp</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sendSignatureResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(eventId, signatures)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;p-4 space-y-6&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DappInfoCard dapp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{dappInfo} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 签名内容预览 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">signatureData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SignaturePreview key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{index} data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ))}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 风险提示 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">signatureData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;transfer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) &amp;&amp; (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Alert</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> variant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;warning&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">IconAlertTriangle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">AlertDescription</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">            请确认转账金额和收款地址正确</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;/</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">AlertDescription</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Alert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      )}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex gap-3&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button variant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;outline&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleReject} className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex-1&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">          拒绝</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleSign} className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex-1&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">          验证钱包锁确认</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="签名内容预览" tabindex="-1">签名内容预览 <a class="header-anchor" href="#签名内容预览" aria-label="Permalink to &quot;签名内容预览&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/components/authorize/signature-preview.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SignaturePreview</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SignatureData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (data.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;message&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Card</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CardHeader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CardTitle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;消息签名</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardTitle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardHeader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CardContent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pre className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text-sm bg-muted p-3 rounded overflow-auto&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pre</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardContent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Card</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (data.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;transfer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Card</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CardHeader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CardTitle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;转账签名</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardTitle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardHeader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardContent className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;space-y-3&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex justify-between&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text-muted-foreground&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">发送</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AddressDisplay address</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data.senderAddress} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex justify-between&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text-muted-foreground&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">接收</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AddressDisplay address</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data.receiveAddress!} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Separator </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex justify-between&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text-muted-foreground&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">金额</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AmountDisplay value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data.balance!} symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data.assetType!} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex justify-between&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text-muted-foreground&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">手续费</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AmountDisplay value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data.fee!} symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data.assetType!} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardContent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Card</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ... 其他类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="_20-5-deep-link-处理" tabindex="-1">20.5 Deep Link 处理 <a class="header-anchor" href="#_20-5-deep-link-处理" aria-label="Permalink to &quot;20.5 Deep Link 处理&quot;">​</a></h2><h3 id="url-格式" tabindex="-1">URL 格式 <a class="header-anchor" href="#url-格式" aria-label="Permalink to &quot;URL 格式&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>bfmpay://authorize/address/{eventId}?type=main</span></span>
<span class="line"><span>bfmpay://authorize/signature/{eventId}?signaturedata=...</span></span></code></pre></div><h3 id="路由配置" tabindex="-1">路由配置 <a class="header-anchor" href="#路由配置" aria-label="Permalink to &quot;路由配置&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/stackflow/stackflow.ts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">historySyncPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routes: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    AuthorizeAddressActivity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/authorize/address/:eventId&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    AuthorizeSignatureActivity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/authorize/signature/:eventId&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="deep-link-解析" tabindex="-1">Deep Link 解析 <a class="header-anchor" href="#deep-link-解析" aria-label="Permalink to &quot;Deep Link 解析&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/services/authorize/deep-link.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseAuthorizeDeepLink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AuthorizeRequest</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> parsed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (parsed.pathname.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/authorize/address/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parsed.pathname.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;address&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      eventId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      params: Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fromEntries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(parsed.searchParams),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (parsed.pathname.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/authorize/signature/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parsed.pathname.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signatureData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      decodeURIComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(parsed.searchParams.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;signaturedata&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">??</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;[]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;signature&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      eventId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      signatureData,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="_20-6-安全考虑" tabindex="-1">20.6 安全考虑 <a class="header-anchor" href="#_20-6-安全考虑" aria-label="Permalink to &quot;20.6 安全考虑&quot;">​</a></h2><h3 id="dapp-来源验证" tabindex="-1">DApp 来源验证 <a class="header-anchor" href="#dapp-来源验证" aria-label="Permalink to &quot;DApp 来源验证&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DappInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  icon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  verified</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 显示 DApp 信息，让用户确认来源</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DappInfoCard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dapp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dapp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DappInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Card</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardContent className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex items-center gap-4 py-4&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">img src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{dapp.icon} className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;size-12 rounded-lg&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flex items-center gap-2&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;font-medium&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{dapp.name}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dapp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">verified</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              &lt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">IconBadgeCheck</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;size-4 text-primary&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            )}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span className</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text-sm text-muted-foreground&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{dapp.domain}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">span</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CardContent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Card</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="风险提示" tabindex="-1">风险提示 <a class="header-anchor" href="#风险提示" aria-label="Permalink to &quot;风险提示&quot;">​</a></h3><ul><li>⚠️ 转账签名显示完整交易详情</li><li>⚠️ 大额转账额外警告</li><li>⚠️ 未知 DApp 显示风险提示</li><li>⚠️ 批量签名需逐一展示</li></ul><hr><h2 id="本章小结" tabindex="-1">本章小结 <a class="header-anchor" href="#本章小结" aria-label="Permalink to &quot;本章小结&quot;">​</a></h2><ul><li>支持地址授权和签名授权两种请求</li><li>签名前显示完整内容供用户确认</li><li>通过 Deep Link 接收授权请求</li><li>验证 DApp 来源，提示潜在风险</li></ul><hr><h2 id="下一篇" tabindex="-1">下一篇 <a class="header-anchor" href="#下一篇" aria-label="Permalink to &quot;下一篇&quot;">​</a></h2><p>完成安全篇后，继续阅读 <a href="./../../07-国际化篇/">第七篇：国际化篇</a>，了解多语言支持。</p></div></div></main><footer class="VPDocFooter" data-v-b060b9b3 data-v-0092c5aa><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-0092c5aa><span class="visually-hidden" id="doc-footer-aria-label" data-v-0092c5aa>Pager</span><div class="pager" data-v-0092c5aa><a class="VPLink link pager-link prev" href="/KeyApp/white-book/06-安全篇/02-身份认证/" data-v-0092c5aa><!--[--><span class="desc" data-v-0092c5aa>Previous page</span><span class="title" data-v-0092c5aa>身份认证</span><!--]--></a></div><div class="pager" data-v-0092c5aa><a class="VPLink link pager-link next" href="/KeyApp/white-book/06-安全篇/04-安全审计清单/" data-v-0092c5aa><!--[--><span class="desc" data-v-0092c5aa>Next page</span><span class="title" data-v-0092c5aa>安全审计清单</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-7b9c78f5 data-v-1af64ebd><div class="container" data-v-1af64ebd><p class="message" data-v-1af64ebd>Released under the MIT License.</p><p class="copyright" data-v-1af64ebd>Copyright © 2026 BioforestChain</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"ai-verification-plan.md\":\"CNhq17Gg\",\"changelog.md\":\"s6avxSRY\",\"contributing.md\":\"BIQbYKmH\",\"download.md\":\"C9_oKjti\",\"index.md\":\"DFazvCWJ\",\"white-book_00-必读_best-practices.md\":\"BxF0cUl9\",\"white-book_00-必读_index.md\":\"Bhj0gv-s\",\"white-book_01-产品篇_01-产品愿景_index.md\":\"BI7bRjbF\",\"white-book_01-产品篇_02-用户画像_index.md\":\"BeiI8jQi\",\"white-book_01-产品篇_03-用户故事_index.md\":\"BofqhtLN\",\"white-book_01-产品篇_index.md\":\"BkAA3Xc6\",\"white-book_02-设计篇_01-交互设计_index.md\":\"BnU2xVIk\",\"white-book_02-设计篇_02-视觉设计_dark-mode.md\":\"B2l1uPHE\",\"white-book_02-设计篇_02-视觉设计_index.md\":\"wbBzRBO_\",\"white-book_02-设计篇_02-视觉设计_theme-colors.md\":\"DlmqisK8\",\"white-book_02-设计篇_03-设计原则_index.md\":\"8ImY0Ur4\",\"white-book_02-设计篇_index.md\":\"D442Hxr-\",\"white-book_03-架构篇_01-技术选型_index.md\":\"DDZkY1uT\",\"white-book_03-架构篇_02-系统架构_index.md\":\"CG3XKc79\",\"white-book_03-架构篇_03-导航系统_index.md\":\"CjHTfZtP\",\"white-book_03-架构篇_04-状态管理_index.md\":\"j9Iwhhjd\",\"white-book_03-架构篇_05-离线能力_index.md\":\"BSOfjiCQ\",\"white-book_03-架构篇_06-错误处理_index.md\":\"BG8wbO5p\",\"white-book_03-架构篇_07-性能预算_index.md\":\"Do8mvuUX\",\"white-book_03-架构篇_08-amount类型系统_index.md\":\"DBAHH8uX\",\"white-book_03-架构篇_index.md\":\"CE1ECHDk\",\"white-book_04-服务篇_01-服务架构_index.md\":\"BqPDaA6Z\",\"white-book_04-服务篇_02-链服务_iassetservice.md\":\"CMis2d3x\",\"white-book_04-服务篇_02-链服务_ichainservice.md\":\"T_ZfOkWg\",\"white-book_04-服务篇_02-链服务_iidentityservice.md\":\"B3PfZeA7\",\"white-book_04-服务篇_02-链服务_index.md\":\"Dy5B6LER\",\"white-book_04-服务篇_02-链服务_istakingservice.md\":\"CajsNs0B\",\"white-book_04-服务篇_02-链服务_itransactionservice.md\":\"CNCqKPuq\",\"white-book_04-服务篇_02-链服务_实现规范_02-web3-adapters.md\":\"D9oArk4U\",\"white-book_04-服务篇_02-链服务_实现规范_index.md\":\"CVZU-SfR\",\"white-book_04-服务篇_03-平台服务_ibiometricservice.md\":\"BJo6IlUb\",\"white-book_04-服务篇_03-平台服务_icameraservice.md\":\"CzgqoG4u\",\"white-book_04-服务篇_03-平台服务_iclipboardservice.md\":\"Dcae-LWb\",\"white-book_04-服务篇_03-平台服务_ideeplinkservice.md\":\"Ck3hrVQ3\",\"white-book_04-服务篇_03-平台服务_ihapticservice.md\":\"DwV42qlI\",\"white-book_04-服务篇_03-平台服务_index.md\":\"gKXxapek\",\"white-book_04-服务篇_03-平台服务_ishareservice.md\":\"B2GAu4d-\",\"white-book_04-服务篇_03-平台服务_istorageservice.md\":\"Ce1_aWDz\",\"white-book_04-服务篇_04-事件系统_index.md\":\"C_dI8nIu\",\"white-book_04-服务篇_05-mock服务规范_index.md\":\"DGQCcz3n\",\"white-book_04-服务篇_06-服务定义系统_index.md\":\"D0ZhZcv0\",\"white-book_04-服务篇_07-链配置管理_index.md\":\"BPGo49Er\",\"white-book_04-服务篇_08-钱包数据存储_index.md\":\"Bj6B9It9\",\"white-book_04-服务篇_09-联系人服务_index.md\":\"DyFkcoDQ\",\"white-book_04-服务篇_index.md\":\"DZ2BphTa\",\"white-book_05-组件篇_01-基础组件_button.md\":\"BRs_ipls\",\"white-book_05-组件篇_01-基础组件_card.md\":\"P8wjpJ1G\",\"white-book_05-组件篇_01-基础组件_dialog.md\":\"BRpAHK8U\",\"white-book_05-组件篇_01-基础组件_index.md\":\"CSttwkp0\",\"white-book_05-组件篇_01-基础组件_input.md\":\"CFFBOmHY\",\"white-book_05-组件篇_01-基础组件_sheet.md\":\"Cw_jCU0d\",\"white-book_05-组件篇_01-基础组件_toast.md\":\"rnkwDuOd\",\"white-book_05-组件篇_02-通用组件_addressdisplay.md\":\"D4mj3nsI\",\"white-book_05-组件篇_02-通用组件_amountdisplay.md\":\"D7GrmDWj\",\"white-book_05-组件篇_02-通用组件_animatednumber.md\":\"Cu4L7nos\",\"white-book_05-组件篇_02-通用组件_contact.md\":\"CjXQqtWD\",\"white-book_05-组件篇_02-通用组件_index.md\":\"CF2DY31T\",\"white-book_05-组件篇_02-通用组件_qrcode.md\":\"Bj8tV2fD\",\"white-book_05-组件篇_02-通用组件_scanner.md\":\"BDsxzxeV\",\"white-book_05-组件篇_02-通用组件_tokenicon.md\":\"D0cQ54Ke\",\"white-book_05-组件篇_03-钱包组件_chainselector.md\":\"OQxGCU5c\",\"white-book_05-组件篇_03-钱包组件_index.md\":\"P6d-LHqr\",\"white-book_05-组件篇_03-钱包组件_transactionitem.md\":\"DWpZoddW\",\"white-book_05-组件篇_03-钱包组件_walletcard.md\":\"-kkhBRVN\",\"white-book_05-组件篇_03-钱包组件_walletconfig.md\":\"B4_E5ofe\",\"white-book_05-组件篇_04-布局组件_applayout.md\":\"DT6wlMy_\",\"white-book_05-组件篇_04-布局组件_header.md\":\"gq0F_ajw\",\"white-book_05-组件篇_04-布局组件_index.md\":\"BvIaMf67\",\"white-book_05-组件篇_04-布局组件_tabbar.md\":\"CNsy0nxz\",\"white-book_05-组件篇_05-表单系统_index.md\":\"y5H4g_Nf\",\"white-book_05-组件篇_06-交互规范_index.md\":\"DOI7fo0G\",\"white-book_05-组件篇_index.md\":\"CO4wV0fa\",\"white-book_06-安全篇_01-密钥管理_index.md\":\"DQCN0zjO\",\"white-book_06-安全篇_02-身份认证_index.md\":\"0GPnA8iv\",\"white-book_06-安全篇_03-dweb授权_index.md\":\"BU45X-eK\",\"white-book_06-安全篇_04-安全审计清单_index.md\":\"7h4Kvixh\",\"white-book_06-安全篇_index.md\":\"Bp1Z1ur-\",\"white-book_07-国际化篇_01-多语言支持_index.md\":\"BHxWW3ot\",\"white-book_07-国际化篇_02-本地化规范_index.md\":\"CU_NotL6\",\"white-book_07-国际化篇_index.md\":\"KbQKlc2Z\",\"white-book_08-测试篇_01-测试策略_index.md\":\"D9Z_p-vv\",\"white-book_08-测试篇_02-vitest配置_index.md\":\"uJ6cdSvH\",\"white-book_08-测试篇_03-playwright配置_e2e-best-practices.md\":\"UUzxjYUc\",\"white-book_08-测试篇_03-playwright配置_index.md\":\"BN-jo_hB\",\"white-book_08-测试篇_03-playwright配置_storybook-visual-testing.md\":\"CMp0aO3o\",\"white-book_08-测试篇_04-性能测试_index.md\":\"ChSJNB3B\",\"white-book_08-测试篇_05-安全测试_index.md\":\"DeGamALb\",\"white-book_08-测试篇_06-测试网络_index.md\":\"Ec8_NQH3\",\"white-book_08-测试篇_index.md\":\"CGh-aVWe\",\"white-book_09-部署篇_01-构建配置_index.md\":\"BMEiMmKE\",\"white-book_09-部署篇_02-发布流程_index.md\":\"06Qfx8zW\",\"white-book_09-部署篇_03-数据迁移_index.md\":\"DGs4pp6L\",\"white-book_09-部署篇_04-监控告警_index.md\":\"DihNF7-j\",\"white-book_09-部署篇_index.md\":\"DgX0FIwV\",\"white-book_10-生态篇_01-架构设计.md\":\"DFDfYTO0\",\"white-book_10-生态篇_02-biosdk开发指南.md\":\"DWYp2hfj\",\"white-book_10-生态篇_03-小程序开发.md\":\"DJjzWPRf\",\"white-book_10-生态篇_04-订阅系统.md\":\"F5Eir-FC\",\"white-book_10-生态篇_05-实现状态.md\":\"D-LXUuU8\",\"white-book_10-生态篇_index.md\":\"DcKvxyYc\",\"white-book_index.md\":\"DiWT60NV\",\"white-book_附录_a-术语表_index.md\":\"CJhpqB_b\",\"white-book_附录_b-链网络列表_index.md\":\"vA3LEDTp\",\"white-book_附录_c-mpay迁移指南_index.md\":\"BTA9T8eT\",\"white-book_附录_d-api参考_index.md\":\"DZ3-bgx2\",\"white-book_附录_e-状态机规范_index.md\":\"CrMz4nLO\",\"white-book_附录_f-边界条件目录_index.md\":\"DM8MlDnI\",\"white-book_附录_g-网络故障矩阵_index.md\":\"BaaBNmxQ\",\"white-book_附录_h-开发规范_index.md\":\"-yqBxtxx\",\"white-book_附录_i-外部服务提供商_index.md\":\"PYvaRKD1\",\"white-book_附录_index.md\":\"A6ZSqIyG\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"BFM Pay\",\"description\":\"多链钱包移动应用\",\"base\":\"/KeyApp/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logos/logo-256.webp\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"下载\",\"link\":\"/download\"},{\"text\":\"开发说明书\",\"link\":\"/white-book/\"},{\"text\":\"Storybook\",\"link\":\"./storybook/\"},{\"text\":\"贡献指南\",\"link\":\"/contributing\"},{\"text\":\"更新日志\",\"link\":\"/changelog\"}],\"sidebar\":{\"/white-book/\":[{\"text\":\"BFM Pay 软件开发说明书\",\"link\":\"/white-book/\",\"items\":[{\"text\":\"AI 开发指南 - 必读\",\"link\":\"/white-book/00-必读/\",\"items\":[{\"text\":\"最佳实践\",\"link\":\"/white-book/00-必读/best-practices\"}],\"collapsed\":false},{\"text\":\"第一篇：产品篇\",\"link\":\"/white-book/01-产品篇/\",\"items\":[{\"text\":\"第一章：产品愿景\",\"link\":\"/white-book/01-产品篇/01-产品愿景/\"},{\"text\":\"第二章：用户画像\",\"link\":\"/white-book/01-产品篇/02-用户画像/\"},{\"text\":\"第三章：用户故事\",\"link\":\"/white-book/01-产品篇/03-用户故事/\"}],\"collapsed\":false},{\"text\":\"第二篇：设计篇\",\"link\":\"/white-book/02-设计篇/\",\"items\":[{\"text\":\"第四章：交互设计\",\"link\":\"/white-book/02-设计篇/01-交互设计/\"},{\"text\":\"第五章：视觉设计\",\"link\":\"/white-book/02-设计篇/02-视觉设计/\",\"items\":[{\"text\":\"暗色模式最佳实践\",\"link\":\"/white-book/02-设计篇/02-视觉设计/dark-mode\"},{\"text\":\"主题配色系统\",\"link\":\"/white-book/02-设计篇/02-视觉设计/theme-colors\"}]},{\"text\":\"第六章：设计原则\",\"link\":\"/white-book/02-设计篇/03-设计原则/\"}],\"collapsed\":false},{\"text\":\"第三篇：架构篇\",\"link\":\"/white-book/03-架构篇/\",\"items\":[{\"text\":\"第七章：技术需求\",\"link\":\"/white-book/03-架构篇/01-技术选型/\"},{\"text\":\"系统架构\",\"link\":\"/white-book/03-架构篇/02-系统架构/\"},{\"text\":\"导航系统\",\"link\":\"/white-book/03-架构篇/03-导航系统/\"},{\"text\":\"状态管理\",\"link\":\"/white-book/03-架构篇/04-状态管理/\"},{\"text\":\"离线能力篇\",\"link\":\"/white-book/03-架构篇/05-离线能力/\"},{\"text\":\"错误处理篇\",\"link\":\"/white-book/03-架构篇/06-错误处理/\"},{\"text\":\"性能预算篇\",\"link\":\"/white-book/03-架构篇/07-性能预算/\"},{\"text\":\"Amount 类型系统\",\"link\":\"/white-book/03-架构篇/08-Amount类型系统/\"}],\"collapsed\":false},{\"text\":\"第四篇：服务篇\",\"link\":\"/white-book/04-服务篇/\",\"items\":[{\"text\":\"第十一章：服务架构\",\"link\":\"/white-book/04-服务篇/01-服务架构/\"},{\"text\":\"链服务\",\"link\":\"/white-book/04-服务篇/02-链服务/\",\"items\":[{\"text\":\"IAssetService 资产服务\",\"link\":\"/white-book/04-服务篇/02-链服务/IAssetService\"},{\"text\":\"IChainService 链信息服务\",\"link\":\"/white-book/04-服务篇/02-链服务/IChainService\"},{\"text\":\"IIdentityService 身份服务\",\"link\":\"/white-book/04-服务篇/02-链服务/IIdentityService\"},{\"text\":\"IStakingService 质押服务\",\"link\":\"/white-book/04-服务篇/02-链服务/IStakingService\"},{\"text\":\"ITransactionService 交易服务\",\"link\":\"/white-book/04-服务篇/02-链服务/ITransactionService\"},{\"text\":\"链服务实现规范\",\"link\":\"/white-book/04-服务篇/02-链服务/实现规范/\",\"items\":[{\"text\":\"Web3 链适配器实现\",\"link\":\"/white-book/04-服务篇/02-链服务/实现规范/02-web3-adapters\"}]}]},{\"text\":\"平台服务\",\"link\":\"/white-book/04-服务篇/03-平台服务/\",\"items\":[{\"text\":\"IBiometricService 生物识别服务\",\"link\":\"/white-book/04-服务篇/03-平台服务/IBiometricService\"},{\"text\":\"ICameraService 相机服务\",\"link\":\"/white-book/04-服务篇/03-平台服务/ICameraService\"},{\"text\":\"IClipboardService 剪贴板服务\",\"link\":\"/white-book/04-服务篇/03-平台服务/IClipboardService\"},{\"text\":\"IDeepLinkService 深度链接服务\",\"link\":\"/white-book/04-服务篇/03-平台服务/IDeepLinkService\"},{\"text\":\"IHapticService 触觉反馈服务\",\"link\":\"/white-book/04-服务篇/03-平台服务/IHapticService\"},{\"text\":\"IShareService 分享服务\",\"link\":\"/white-book/04-服务篇/03-平台服务/IShareService\"},{\"text\":\"IStorageService 安全存储服务\",\"link\":\"/white-book/04-服务篇/03-平台服务/IStorageService\"}]},{\"text\":\"事件系统\",\"link\":\"/white-book/04-服务篇/04-事件系统/\"},{\"text\":\"Mock 服务规范\",\"link\":\"/white-book/04-服务篇/05-Mock服务规范/\"},{\"text\":\"服务定义系统\",\"link\":\"/white-book/04-服务篇/06-服务定义系统/\"},{\"text\":\"链配置管理服务\",\"link\":\"/white-book/04-服务篇/07-链配置管理/\"},{\"text\":\"钱包数据存储服务\",\"link\":\"/white-book/04-服务篇/08-钱包数据存储/\"},{\"text\":\"联系人服务\",\"link\":\"/white-book/04-服务篇/09-联系人服务/\"}],\"collapsed\":true},{\"text\":\"第五篇：组件篇\",\"link\":\"/white-book/05-组件篇/\",\"items\":[{\"text\":\"基础组件\",\"link\":\"/white-book/05-组件篇/01-基础组件/\",\"items\":[{\"text\":\"Button 按钮\",\"link\":\"/white-book/05-组件篇/01-基础组件/Button\"},{\"text\":\"Card 卡片\",\"link\":\"/white-book/05-组件篇/01-基础组件/Card\"},{\"text\":\"Dialog 对话框\",\"link\":\"/white-book/05-组件篇/01-基础组件/Dialog\"},{\"text\":\"Input 输入框\",\"link\":\"/white-book/05-组件篇/01-基础组件/Input\"},{\"text\":\"Sheet 底部抽屉\",\"link\":\"/white-book/05-组件篇/01-基础组件/Sheet\"},{\"text\":\"Toast 轻提示\",\"link\":\"/white-book/05-组件篇/01-基础组件/Toast\"}]},{\"text\":\"通用组件\",\"link\":\"/white-book/05-组件篇/02-通用组件/\",\"items\":[{\"text\":\"AddressDisplay 地址显示\",\"link\":\"/white-book/05-组件篇/02-通用组件/AddressDisplay\"},{\"text\":\"AmountDisplay 金额显示\",\"link\":\"/white-book/05-组件篇/02-通用组件/AmountDisplay\"},{\"text\":\"AnimatedNumber 数字动画\",\"link\":\"/white-book/05-组件篇/02-通用组件/AnimatedNumber\"},{\"text\":\"Contact 联系人组件\",\"link\":\"/white-book/05-组件篇/02-通用组件/Contact\"},{\"text\":\"QRCode 二维码\",\"link\":\"/white-book/05-组件篇/02-通用组件/QRCode\"},{\"text\":\"Scanner 二维码扫描器\",\"link\":\"/white-book/05-组件篇/02-通用组件/Scanner\"},{\"text\":\"TokenIcon 代币图标\",\"link\":\"/white-book/05-组件篇/02-通用组件/TokenIcon\"}]},{\"text\":\"钱包组件\",\"link\":\"/white-book/05-组件篇/03-钱包组件/\",\"items\":[{\"text\":\"ChainSelector 链选择器\",\"link\":\"/white-book/05-组件篇/03-钱包组件/ChainSelector\"},{\"text\":\"TransactionItem 交易记录项\",\"link\":\"/white-book/05-组件篇/03-钱包组件/TransactionItem\"},{\"text\":\"WalletCard 钱包卡片\",\"link\":\"/white-book/05-组件篇/03-钱包组件/WalletCard\"},{\"text\":\"WalletConfig 钱包配置\",\"link\":\"/white-book/05-组件篇/03-钱包组件/WalletConfig\"}]},{\"text\":\"布局组件\",\"link\":\"/white-book/05-组件篇/04-布局组件/\",\"items\":[{\"text\":\"AppLayout 应用布局\",\"link\":\"/white-book/05-组件篇/04-布局组件/AppLayout\"},{\"text\":\"Header 页面头部\",\"link\":\"/white-book/05-组件篇/04-布局组件/Header\"},{\"text\":\"TabBar 底部导航栏\",\"link\":\"/white-book/05-组件篇/04-布局组件/TabBar\"}]},{\"text\":\"第十六章：表单规范\",\"link\":\"/white-book/05-组件篇/05-表单系统/\"},{\"text\":\"第十七章：交互规范\",\"link\":\"/white-book/05-组件篇/06-交互规范/\"}],\"collapsed\":true},{\"text\":\"第六篇：安全篇\",\"link\":\"/white-book/06-安全篇/\",\"items\":[{\"text\":\"密钥管理\",\"link\":\"/white-book/06-安全篇/01-密钥管理/\"},{\"text\":\"身份认证\",\"link\":\"/white-book/06-安全篇/02-身份认证/\"},{\"text\":\"第二十章：DWEB 授权\",\"link\":\"/white-book/06-安全篇/03-DWEB授权/\"},{\"text\":\"安全审计清单\",\"link\":\"/white-book/06-安全篇/04-安全审计清单/\"}],\"collapsed\":true},{\"text\":\"第七篇：国际化篇\",\"link\":\"/white-book/07-国际化篇/\",\"items\":[{\"text\":\"多语言支持\",\"link\":\"/white-book/07-国际化篇/01-多语言支持/\"},{\"text\":\"第二十二章：本地化规范\",\"link\":\"/white-book/07-国际化篇/02-本地化规范/\"}],\"collapsed\":true},{\"text\":\"第八篇：测试篇\",\"link\":\"/white-book/08-测试篇/\",\"items\":[{\"text\":\"第二十三章：测试策略\",\"link\":\"/white-book/08-测试篇/01-测试策略/\"},{\"text\":\"单元测试规范\",\"link\":\"/white-book/08-测试篇/02-Vitest配置/\"},{\"text\":\"第二十五章：Playwright 配置\",\"link\":\"/white-book/08-测试篇/03-Playwright配置/\",\"items\":[{\"text\":\"E2E 测试最佳实践\",\"link\":\"/white-book/08-测试篇/03-Playwright配置/e2e-best-practices\"},{\"text\":\"Storybook 视觉测试最佳实践\",\"link\":\"/white-book/08-测试篇/03-Playwright配置/storybook-visual-testing\"}]},{\"text\":\"性能测试规范\",\"link\":\"/white-book/08-测试篇/04-性能测试/\"},{\"text\":\"安全测试规范\",\"link\":\"/white-book/08-测试篇/05-安全测试/\"},{\"text\":\"公共 RPC 与测试网络接入指南\",\"link\":\"/white-book/08-测试篇/06-测试网络/\"}],\"collapsed\":true},{\"text\":\"第九篇：部署篇\",\"link\":\"/white-book/09-部署篇/\",\"items\":[{\"text\":\"构建配置\",\"link\":\"/white-book/09-部署篇/01-构建配置/\"},{\"text\":\"第二十七章：发布流程\",\"link\":\"/white-book/09-部署篇/02-发布流程/\"},{\"text\":\"数据迁移篇\",\"link\":\"/white-book/09-部署篇/03-数据迁移/\"},{\"text\":\"监控告警篇\",\"link\":\"/white-book/09-部署篇/04-监控告警/\"}],\"collapsed\":true},{\"text\":\"Bio 生态系统\",\"link\":\"/white-book/10-生态篇/\",\"items\":[{\"text\":\"架构设计\",\"link\":\"/white-book/10-生态篇/01-架构设计\"},{\"text\":\"BioSDK 开发指南\",\"link\":\"/white-book/10-生态篇/02-BioSDK开发指南\"},{\"text\":\"小程序开发\",\"link\":\"/white-book/10-生态篇/03-小程序开发\"},{\"text\":\"订阅系统\",\"link\":\"/white-book/10-生态篇/04-订阅系统\"},{\"text\":\"实现状态\",\"link\":\"/white-book/10-生态篇/05-实现状态\"}],\"collapsed\":true},{\"text\":\"附录\",\"link\":\"/white-book/附录/\",\"items\":[{\"text\":\"附录 A：术语表\",\"link\":\"/white-book/附录/A-术语表/\"},{\"text\":\"附录 B：链网络列表\",\"link\":\"/white-book/附录/B-链网络列表/\"},{\"text\":\"附录 C：mpay 迁移指南\",\"link\":\"/white-book/附录/C-mpay迁移指南/\"},{\"text\":\"附录 D：API 参考\",\"link\":\"/white-book/附录/D-API参考/\"},{\"text\":\"附录 E: 状态机规范\",\"link\":\"/white-book/附录/E-状态机规范/\"},{\"text\":\"附录 F: 边界条件目录\",\"link\":\"/white-book/附录/F-边界条件目录/\"},{\"text\":\"附录 G: 网络故障矩阵\",\"link\":\"/white-book/附录/G-网络故障矩阵/\"},{\"text\":\"开发规范\",\"link\":\"/white-book/附录/H-开发规范/\"},{\"text\":\"附录 I：外部服务提供商\",\"link\":\"/white-book/附录/I-外部服务提供商/\"}],\"collapsed\":true}]}],\"/\":[{\"text\":\"开始使用\",\"items\":[{\"text\":\"简介\",\"link\":\"/\"},{\"text\":\"下载安装\",\"link\":\"/download\"},{\"text\":\"更新日志\",\"link\":\"/changelog\"}]},{\"text\":\"开发者\",\"items\":[{\"text\":\"贡献指南\",\"link\":\"/contributing\"},{\"text\":\"软件开发说明书\",\"link\":\"/white-book/\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/BioforestChain/KeyApp\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2026 BioforestChain\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>