import{_ as e,c as t,o as a,ag as i}from"./chunks/framework.B0we9iV-.js";const f=JSON.parse('{"title":"02. FLIP 动画引擎 (FLIP Animation)","description":"","frontmatter":{},"headers":[],"relativePath":"white-book/01-Kernel-Ref/02-Window/02-FLIP-Animation.md","filePath":"white-book/01-Kernel-Ref/02-Window/02-FLIP-Animation.md"}'),n={name:"white-book/01-Kernel-Ref/02-Window/02-FLIP-Animation.md"};function l(r,o,d,c,s,m){return a(),t("div",null,[...o[0]||(o[0]=[i('<h1 id="_02-flip-动画引擎-flip-animation" tabindex="-1">02. FLIP 动画引擎 (FLIP Animation) <a class="header-anchor" href="#_02-flip-动画引擎-flip-animation" aria-label="Permalink to &quot;02. FLIP 动画引擎 (FLIP Animation)&quot;">​</a></h1><p>KeyApp 的标志性特征是其流畅的 <strong>App 打开/关闭动画</strong>，这完全基于 <strong>FLIP (First, Last, Invert, Play)</strong> 技术实现。</p><h2 id="原理" tabindex="-1">原理 <a class="header-anchor" href="#原理" aria-label="Permalink to &quot;原理&quot;">​</a></h2><ol><li><strong>First (初始态)</strong>: 获取图标 (<code>IconRef</code>) 在屏幕上的 <code>DOMRect</code>。</li><li><strong>Last (最终态)</strong>: 获取应用窗口 (<code>SlotRef</code>) 在屏幕上的 <code>DOMRect</code>。</li><li><strong>Invert (反转)</strong>: <ul><li>计算两个 Rect 之间的位移 (<code>deltaX</code>, <code>deltaY</code>) 和缩放比例 (<code>scaleX</code>, <code>scaleY</code>)。</li><li>将窗口元素通过 CSS <code>transform</code> 瞬间移动到图标的位置和大小，使其看起来像是在图标那里。</li></ul></li><li><strong>Play (播放)</strong>: <ul><li>移除 <code>transform</code>，并添加 <code>transition</code> 属性。</li><li>浏览器会自动补间，使窗口从图标位置平滑放大到全屏位置。</li></ul></li></ol><h2 id="性能优化" tabindex="-1">性能优化 <a class="header-anchor" href="#性能优化" aria-label="Permalink to &quot;性能优化&quot;">​</a></h2><ul><li><strong>Will-Change</strong>: 在动画开始前添加 <code>will-change: transform</code> 提示浏览器创建合成层。</li><li><strong>Layout ID</strong>: 利用 Framer Motion 的 <code>layoutId</code> 自动处理复杂的共享元素过渡。</li><li><strong>遮罩同步</strong>: 动画过程中，同步调整圆角 (<code>borderRadius</code>) 和遮罩，确保视觉连贯性。</li></ul>',6)])])}const g=e(n,[["render",l]]);export{f as __pageData,g as default};
