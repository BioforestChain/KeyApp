import{_ as o,c as t,o as a,ag as l}from"./chunks/framework.B0we9iV-.js";const g=JSON.parse('{"title":"02. 部署机制 (Deployment)","description":"","frontmatter":{},"headers":[],"relativePath":"white-book/90-DevOps/03-Release/02-Deployment.md","filePath":"white-book/90-DevOps/03-Release/02-Deployment.md"}'),r={name:"white-book/90-DevOps/03-Release/02-Deployment.md"};function i(s,e,n,c,d,p){return a(),t("div",null,[...e[0]||(e[0]=[l('<h1 id="_02-部署机制-deployment" tabindex="-1">02. 部署机制 (Deployment) <a class="header-anchor" href="#_02-部署机制-deployment" aria-label="Permalink to &quot;02. 部署机制 (Deployment)&quot;">​</a></h1><p>Code: <code>.github/workflows/cd.yml</code></p><p>KeyApp 采用基于 <code>gh-pages</code> 分支的自动化部署方案。</p><h2 id="部署流程" tabindex="-1">部署流程 <a class="header-anchor" href="#部署流程" aria-label="Permalink to &quot;部署流程&quot;">​</a></h2><ol><li><strong>触发</strong>: 代码合并到 <code>main</code> 分支。</li><li><strong>构建</strong>: GitHub Actions 启动构建任务，生成 <code>dist/</code> 产物。</li><li><strong>Force Push</strong>: <ul><li>Action 脚本会初始化一个新的 git 仓库。</li><li>将 <code>dist/</code> 内容作为唯一的 commit。</li><li>强制推送 (<code>git push -f</code>) 到 <code>gh-pages</code> 分支。</li></ul></li></ol><h2 id="为什么-force-push" tabindex="-1">为什么 Force Push? <a class="header-anchor" href="#为什么-force-push" aria-label="Permalink to &quot;为什么 Force Push?&quot;">​</a></h2><ul><li><strong>减小体积</strong>: 部署分支不需要保留历史记录，强制推送避免了 <code>.git</code> 目录无限膨胀。</li><li><strong>原子更新</strong>: 每次部署都是全新的状态，避免了增量更新可能导致的文件残留问题。</li></ul><h2 id="环境配置" tabindex="-1">环境配置 <a class="header-anchor" href="#环境配置" aria-label="Permalink to &quot;环境配置&quot;">​</a></h2><p>需要在 GitHub 仓库设置中：</p><ul><li>Settings -&gt; Pages -&gt; Source: 选择 <strong>Deploy from a branch</strong>。</li><li>Branch: 选择 <strong>gh-pages</strong> / <strong>root</strong>。</li></ul>',10)])])}const u=o(r,[["render",i]]);export{g as __pageData,u as default};
