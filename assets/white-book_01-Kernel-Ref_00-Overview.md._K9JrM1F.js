import{_ as a,c as e,o as i,ag as n}from"./chunks/framework.B0we9iV-.js";const k=JSON.parse('{"title":"00. 内核架构全景 (Kernel Overview)","description":"","frontmatter":{},"headers":[],"relativePath":"white-book/01-Kernel-Ref/00-Overview.md","filePath":"white-book/01-Kernel-Ref/00-Overview.md"}'),t={name:"white-book/01-Kernel-Ref/00-Overview.md"};function l(r,s,p,o,h,d){return i(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="_00-内核架构全景-kernel-overview" tabindex="-1">00. 内核架构全景 (Kernel Overview) <a class="header-anchor" href="#_00-内核架构全景-kernel-overview" aria-label="Permalink to &quot;00. 内核架构全景 (Kernel Overview)&quot;">​</a></h1><p>KeyApp 的内核 (<code>miniapp-runtime</code>) 是一个运行在浏览器主线程中的 <strong>微内核 (Micro-Kernel)</strong>。它的主要职责不是处理业务逻辑，而是管理 <strong>进程 (Process)</strong> 和 <strong>资源 (Resource)</strong>。</p><h2 id="核心组件" tabindex="-1">核心组件 <a class="header-anchor" href="#核心组件" aria-label="Permalink to &quot;核心组件&quot;">​</a></h2><ol><li><strong>Process Manager</strong>: 维护所有 DApp 的生命周期 (<code>MiniappInstance</code>)。</li><li><strong>Window Manager</strong>: 管理所有可见窗口 (<code>MiniappPresentation</code>) 及其 Z-Order 和动画。</li><li><strong>Iframe Sandbox</strong>: 为每个 DApp 创建隔离的执行环境。</li><li><strong>BioBridge</strong>: 提供宿主 (Host) 与微应用 (Miniapp) 之间的安全通信通道。</li></ol><h2 id="架构图" tabindex="-1">架构图 <a class="header-anchor" href="#架构图" aria-label="Permalink to &quot;架构图&quot;">​</a></h2><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Host (KeyApp Main Thread)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Kernel[Miniapp Kernel]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Store[Runtime Store]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        BridgeHost[BioBridge Host]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Kernel --&gt; Store</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Kernel --&gt; BridgeHost</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Sandbox (Iframe)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        BridgeGuest[BioBridge Guest]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DAppCode[DApp Code]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DAppCode --&gt; BridgeGuest</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BridgeHost &lt;--&gt;|postMessage| BridgeGuest</span></span></code></pre></div><h2 id="设计哲学" tabindex="-1">设计哲学 <a class="header-anchor" href="#设计哲学" aria-label="Permalink to &quot;设计哲学&quot;">​</a></h2><ul><li><strong>UI as a Function of State</strong>: 内核本身是一个基于 TanStack Store 的状态机。所有的 UI 变化（如窗口打开、关闭）都是状态变更的副作用。</li><li><strong>Isolation by Default</strong>: 默认情况下，DApp 无法访问任何系统资源，必须通过 Bridge 请求权限。</li></ul>`,8)])])}const g=a(t,[["render",l]]);export{k as __pageData,g as default};
