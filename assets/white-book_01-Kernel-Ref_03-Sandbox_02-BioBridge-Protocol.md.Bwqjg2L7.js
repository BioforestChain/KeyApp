import{_ as i,c as a,o as e,ag as t}from"./chunks/framework.B0we9iV-.js";const c=JSON.parse('{"title":"02. BioBridge 协议 (BioBridge Protocol)","description":"","frontmatter":{},"headers":[],"relativePath":"white-book/01-Kernel-Ref/03-Sandbox/02-BioBridge-Protocol.md","filePath":"white-book/01-Kernel-Ref/03-Sandbox/02-BioBridge-Protocol.md"}'),o={name:"white-book/01-Kernel-Ref/03-Sandbox/02-BioBridge-Protocol.md"};function n(l,s,r,p,h,d){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="_02-biobridge-协议-biobridge-protocol" tabindex="-1">02. BioBridge 协议 (BioBridge Protocol) <a class="header-anchor" href="#_02-biobridge-协议-biobridge-protocol" aria-label="Permalink to &quot;02. BioBridge 协议 (BioBridge Protocol)&quot;">​</a></h1><p><strong>BioBridge</strong> 是 Host 和 Guest (DApp) 之间的通信桥梁。</p><h2 id="通信机制" tabindex="-1">通信机制 <a class="header-anchor" href="#通信机制" aria-label="Permalink to &quot;通信机制&quot;">​</a></h2><p>基于 <code>window.postMessage</code> 实现双向 RPC 调用。</p><h3 id="_1-请求-request" tabindex="-1">1. 请求 (Request) <a class="header-anchor" href="#_1-请求-request" aria-label="Permalink to &quot;1. 请求 (Request)&quot;">​</a></h3><p>DApp -&gt; Host:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bio.wallet.requestAccounts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;params&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-响应-response" tabindex="-1">2. 响应 (Response) <a class="header-anchor" href="#_2-响应-response" aria-label="Permalink to &quot;2. 响应 (Response)&quot;">​</a></h3><p>Host -&gt; DApp:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="api-命名空间" tabindex="-1">API 命名空间 <a class="header-anchor" href="#api-命名空间" aria-label="Permalink to &quot;API 命名空间&quot;">​</a></h2><ul><li><code>bio.wallet.*</code>: 钱包相关 (连接、签名、转账)</li><li><code>bio.device.*</code>: 设备能力 (剪贴板、震动、生物识别)</li><li><code>bio.window.*</code>: 窗口控制 (关闭、全屏)</li></ul><h2 id="安全检查" tabindex="-1">安全检查 <a class="header-anchor" href="#安全检查" aria-label="Permalink to &quot;安全检查&quot;">​</a></h2><p>在处理任何请求之前，内核会检查：</p><ol><li><strong>Origin</strong>: 消息来源是否匹配 Manifest 中的定义。</li><li><strong>Permission</strong>: DApp 是否申请了对应的权限 (e.g., <code>wallet:write</code>).</li><li><strong>User Consent</strong>: 敏感操作 (签名、授权) 必须弹出系统级对话框供用户确认。</li></ol>`,15)])])}const g=i(o,[["render",n]]);export{c as __pageData,g as default};
