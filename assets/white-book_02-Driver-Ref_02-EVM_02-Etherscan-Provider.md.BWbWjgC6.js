import{_ as a,c as o,o as r,ag as t}from"./chunks/framework.B0we9iV-.js";const _=JSON.parse('{"title":"02. Etherscan Provider","description":"","frontmatter":{},"headers":[],"relativePath":"white-book/02-Driver-Ref/02-EVM/02-Etherscan-Provider.md","filePath":"white-book/02-Driver-Ref/02-EVM/02-Etherscan-Provider.md"}'),i={name:"white-book/02-Driver-Ref/02-EVM/02-Etherscan-Provider.md"};function c(d,e,s,n,l,h){return r(),o("div",null,[...e[0]||(e[0]=[t('<h1 id="_02-etherscan-provider" tabindex="-1">02. Etherscan Provider <a class="header-anchor" href="#_02-etherscan-provider" aria-label="Permalink to &quot;02. Etherscan Provider&quot;">​</a></h1><p>Code: <code>src/services/chain-adapter/providers/etherscan-provider.ts</code></p><p>适配 Etherscan V2 API 及其兼容实现 (如 Blockscout)。</p><h2 id="支持能力" tabindex="-1">支持能力 <a class="header-anchor" href="#支持能力" aria-label="Permalink to &quot;支持能力&quot;">​</a></h2><ul><li>✅ <code>getNativeBalance</code></li><li>✅ <code>getTransactionHistory</code>: 聚合 <code>txlist</code> (原生) 和 <code>tokentx</code> (ERC20)</li><li>✅ <code>getTokenBalances</code>: (部分支持)</li></ul><h2 id="聚合逻辑" tabindex="-1">聚合逻辑 <a class="header-anchor" href="#聚合逻辑" aria-label="Permalink to &quot;聚合逻辑&quot;">​</a></h2><p>Etherscan 将原生交易和代币交易分开返回。驱动层负责将它们聚合：</p><ol><li>并行请求 <code>txlist</code> 和 <code>tokentx</code>。</li><li>按 <code>hash</code> 进行分组。</li><li>如果一个 <code>hash</code> 同时存在于两者，合并为一个 <code>Transaction</code> 对象，并在 <code>assets</code> 数组中包含原生资产和代币资产。</li><li>按时间戳降序排列。</li></ol><h2 id="api-key-管理" tabindex="-1">API Key 管理 <a class="header-anchor" href="#api-key-管理" aria-label="Permalink to &quot;API Key 管理&quot;">​</a></h2><p>支持轮询多个 API Key，并自动处理限流 (429) 错误。</p>',10)])])}const P=a(i,[["render",c]]);export{_ as __pageData,P as default};
