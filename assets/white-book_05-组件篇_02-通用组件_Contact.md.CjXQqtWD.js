import{_ as t,c as s,o as i,ag as n}from"./chunks/framework.B0we9iV-.js";const c=JSON.parse('{"title":"Contact 联系人组件","description":"","frontmatter":{},"headers":[],"relativePath":"white-book/05-组件篇/02-通用组件/Contact.md","filePath":"white-book/05-组件篇/02-通用组件/Contact.md"}'),e={name:"white-book/05-组件篇/02-通用组件/Contact.md"};function l(h,a,r,d,p,o){return i(),s("div",null,[...a[0]||(a[0]=[n(`<h1 id="contact-联系人组件" tabindex="-1">Contact 联系人组件 <a class="header-anchor" href="#contact-联系人组件" aria-label="Permalink to &quot;Contact 联系人组件&quot;">​</a></h1><blockquote><p>联系人头像、名片、选择器等组件</p></blockquote><hr><h2 id="功能概述" tabindex="-1">功能概述 <a class="header-anchor" href="#功能概述" aria-label="Permalink to &quot;功能概述&quot;">​</a></h2><p>联系人系统包含以下组件：</p><ul><li><strong>ContactAvatar</strong>: 联系人头像显示</li><li><strong>ContactCard</strong>: 联系人名片（用于分享）</li><li><strong>ContactPickerJob</strong>: 联系人选择器</li><li><strong>AddressInput</strong>: 地址输入（支持联系人匹配）</li></ul><hr><h2 id="contactavatar" tabindex="-1">ContactAvatar <a class="header-anchor" href="#contactavatar" aria-label="Permalink to &quot;ContactAvatar&quot;">​</a></h2><h3 id="属性规范" tabindex="-1">属性规范 <a class="header-anchor" href="#属性规范" aria-label="Permalink to &quot;属性规范&quot;">​</a></h3><table tabindex="0"><thead><tr><th>属性</th><th>类型</th><th>必需</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>src</td><td>string</td><td>N</td><td>-</td><td>头像 URL（avatar: 协议或图片 URL）</td></tr><tr><td>size</td><td>number</td><td>N</td><td>40</td><td>头像尺寸（px）</td></tr><tr><td>className</td><td>string</td><td>N</td><td>-</td><td>自定义样式类</td></tr></tbody></table><h3 id="头像协议" tabindex="-1">头像协议 <a class="header-anchor" href="#头像协议" aria-label="Permalink to &quot;头像协议&quot;">​</a></h3><p>头像支持两种格式：</p><ol><li><strong>avatar: 协议</strong>: <code>avatar:XXXXXXXX</code>（8 字符 base64 编码的 Avataaars 参数）</li><li><strong>图片 URL</strong>: 标准图片 URL</li></ol><h3 id="头像生成" tabindex="-1">头像生成 <a class="header-anchor" href="#头像生成" aria-label="Permalink to &quot;头像生成&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 从地址生成头像</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateAvatarFromAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(address: string, seed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number): string</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 返回 avatar: 协议 URL</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 示例: &quot;avatar:A2BxY3Dz&quot;</span></span></code></pre></div><hr><h2 id="contactcard" tabindex="-1">ContactCard <a class="header-anchor" href="#contactcard" aria-label="Permalink to &quot;ContactCard&quot;">​</a></h2><h3 id="属性规范-1" tabindex="-1">属性规范 <a class="header-anchor" href="#属性规范-1" aria-label="Permalink to &quot;属性规范&quot;">​</a></h3><table tabindex="0"><thead><tr><th>属性</th><th>类型</th><th>必需</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>string</td><td>Y</td><td>-</td><td>联系人名称</td></tr><tr><td>addresses</td><td>ContactAddressInfo[]</td><td>Y</td><td>-</td><td>地址列表</td></tr><tr><td>avatar</td><td>string</td><td>N</td><td>-</td><td>头像 URL</td></tr><tr><td>address</td><td>string</td><td>N</td><td>-</td><td>主地址（用于生成二维码）</td></tr></tbody></table><h3 id="显示规则" tabindex="-1">显示规则 <a class="header-anchor" href="#显示规则" aria-label="Permalink to &quot;显示规则&quot;">​</a></h3><ul><li>名片宽度固定 320px</li><li>头像尺寸 64px</li><li>仅显示有自定义标签的地址徽章</li><li>二维码包含联系人协议数据</li></ul><hr><h2 id="contactpickerjob" tabindex="-1">ContactPickerJob <a class="header-anchor" href="#contactpickerjob" aria-label="Permalink to &quot;ContactPickerJob&quot;">​</a></h2><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>chainType</td><td>ChainType</td><td>N</td><td>目标链类型，用于验证地址</td></tr></tbody></table><h3 id="显示规则-1" tabindex="-1">显示规则 <a class="header-anchor" href="#显示规则-1" aria-label="Permalink to &quot;显示规则&quot;">​</a></h3><ul><li>按联系人分组显示，每组包含： <ul><li>头像 + 名称（组头）</li><li>该联系人的所有地址（可点击）</li></ul></li><li>地址按钮最小高度 44px（移动端推荐触控区域）</li><li>无效地址（不匹配目标链）显示为禁用状态</li></ul><h3 id="地址兼容性" tabindex="-1">地址兼容性 <a class="header-anchor" href="#地址兼容性" aria-label="Permalink to &quot;地址兼容性&quot;">​</a></h3><p>BioForest 链地址互相兼容（共享相同密钥体系）：</p><ul><li>bfmeta、ccchain、pmchain、bfchainv2 等</li></ul><p>Ethereum 和 BSC 地址格式相同，互相兼容。</p><hr><h2 id="addressinput-联系人匹配" tabindex="-1">AddressInput 联系人匹配 <a class="header-anchor" href="#addressinput-联系人匹配" aria-label="Permalink to &quot;AddressInput 联系人匹配&quot;">​</a></h2><h3 id="功能" tabindex="-1">功能 <a class="header-anchor" href="#功能" aria-label="Permalink to &quot;功能&quot;">​</a></h3><p>当输入地址匹配已保存的联系人时：</p><ul><li>左侧显示联系人头像</li><li>显示两行：用户名 + 地址</li><li>右侧显示清除按钮</li></ul><h3 id="建议下拉" tabindex="-1">建议下拉 <a class="header-anchor" href="#建议下拉" aria-label="Permalink to &quot;建议下拉&quot;">​</a></h3><p>聚焦时显示联系人建议：</p><ul><li>按搜索词过滤（匹配名称或地址）</li><li>显示头像、名称、地址</li><li>无效地址显示为禁用状态</li></ul><hr><h2 id="数据结构" tabindex="-1">数据结构 <a class="header-anchor" href="#数据结构" aria-label="Permalink to &quot;数据结构&quot;">​</a></h2><h3 id="contactaddress" tabindex="-1">ContactAddress <a class="header-anchor" href="#contactaddress" aria-label="Permalink to &quot;ContactAddress&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContactAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  address</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 自定义标签，最多 10 字符</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  isDefault</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="contact" tabindex="-1">Contact <a class="header-anchor" href="#contact" aria-label="Permalink to &quot;Contact&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Contact</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  avatar</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // avatar: 协议 URL</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  addresses</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ContactAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 最多 3 个地址</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  memo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       // 私有备注，不分享</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  createdAt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  updatedAt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="地址标签显示" tabindex="-1">地址标签显示 <a class="header-anchor" href="#地址标签显示" aria-label="Permalink to &quot;地址标签显示&quot;">​</a></h2><h3 id="规则" tabindex="-1">规则 <a class="header-anchor" href="#规则" aria-label="Permalink to &quot;规则&quot;">​</a></h3><ul><li><strong>仅显示自定义标签</strong>：没有设置标签时不显示任何内容</li><li><strong>不回退到链类型</strong>：不自动显示检测到的链类型</li><li><strong>最大宽度</strong>：4rem（约 10 字符），超出截断</li></ul><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><table tabindex="0"><thead><tr><th>场景</th><th>标签字段</th><th>显示</th></tr></thead><tbody><tr><td>有自定义标签</td><td>&quot;主账户&quot;</td><td>主账户</td></tr><tr><td>无标签</td><td>undefined</td><td>（不显示）</td></tr><tr><td>标签过长</td><td>&quot;我的交易所账户&quot;</td><td>我的交易所...</td></tr></tbody></table><hr><h2 id="存储规范" tabindex="-1">存储规范 <a class="header-anchor" href="#存储规范" aria-label="Permalink to &quot;存储规范&quot;">​</a></h2><h3 id="存储键" tabindex="-1">存储键 <a class="header-anchor" href="#存储键" aria-label="Permalink to &quot;存储键&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>bfm_address_book</span></span></code></pre></div><h3 id="存储格式" tabindex="-1">存储格式 <a class="header-anchor" href="#存储格式" aria-label="Permalink to &quot;存储格式&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StorageData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // 当前版本</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  contacts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Contact</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="版本说明" tabindex="-1">版本说明 <a class="header-anchor" href="#版本说明" aria-label="Permalink to &quot;版本说明&quot;">​</a></h3><ul><li><strong>v3</strong>（当前）：移除 chainType，使用自定义 label</li><li><strong>v2</strong>：多地址支持</li><li><strong>v1</strong>：单地址格式</li></ul><p><strong>注意</strong>：v3 为破坏性更新，不兼容旧版本数据。</p><hr><h2 id="本节小结" tabindex="-1">本节小结 <a class="header-anchor" href="#本节小结" aria-label="Permalink to &quot;本节小结&quot;">​</a></h2><ul><li>头像使用 Avataaars，支持从地址生成</li><li>联系人最多 3 个地址</li><li>地址标签仅显示自定义内容</li><li>BioForest 链地址互相兼容</li><li>存储版本 3，不迁移旧数据</li></ul>`,63)])])}const g=t(e,[["render",l]]);export{c as __pageData,g as default};
