import{_ as t,c as s,o as a,ag as i}from"./chunks/framework.B0we9iV-.js";const E=JSON.parse('{"title":"Architecture Map","description":"","frontmatter":{},"headers":[],"relativePath":"white-book/00-Manifesto/03-Architecture.md","filePath":"white-book/00-Manifesto/03-Architecture.md"}'),l={name:"white-book/00-Manifesto/03-Architecture.md"};function n(r,e,o,c,p,d){return a(),s("div",null,[...e[0]||(e[0]=[i(`<h1 id="architecture-map" tabindex="-1">Architecture Map <a class="header-anchor" href="#architecture-map" aria-label="Permalink to &quot;Architecture Map&quot;">​</a></h1><p>KeyApp follows a <strong>Layered Architecture</strong> inspired by Operating System design.</p><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;App Layer (DApps)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DApp1[Uniswap]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Miniapp[System Miniapps]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Shell Layer (System UI)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Router[Stackflow Router]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        SystemApps[Wallet / Settings]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Kernel Layer (Runtime)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Process[Process Manager]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Window[Window Manager]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Sandbox[Iframe Sandbox]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;State Layer (Reactive)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Stores[TanStack Store]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Queries[TanStack Query]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Service Layer (Logic)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        WalletCore[Wallet Core]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Identity[Biometric / Auth]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Platform[Platform Adapters]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Driver Layer (Chain)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        HAL[ApiProvider Interface]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        EVM[EVM Driver]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        UTXO[BTC Driver]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        TVM[Tron Driver]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    DApp1 --&gt; Sandbox</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Sandbox --&gt; ServiceLayer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SystemApps --&gt; StateLayer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    StateLayer --&gt; ServiceLayer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ServiceLayer --&gt; DriverLayer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ServiceLayer --&gt; Platform</span></span></code></pre></div><h2 id="navigation-paths-multi-dimensional-access" tabindex="-1">Navigation Paths (Multi-Dimensional Access) <a class="header-anchor" href="#navigation-paths-multi-dimensional-access" aria-label="Permalink to &quot;Navigation Paths (Multi-Dimensional Access)&quot;">​</a></h2><h3 id="_1-by-code-structure-physical-view" tabindex="-1">1. By Code Structure (Physical View) <a class="header-anchor" href="#_1-by-code-structure-physical-view" aria-label="Permalink to &quot;1. By Code Structure (Physical View)&quot;">​</a></h3><p>Mapping source directories to documentation books.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Architecture Layer</th><th style="text-align:left;">Code Path</th><th style="text-align:left;">Documentation Book</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Kernel</strong></td><td style="text-align:left;"><code>src/services/miniapp-runtime</code></td><td style="text-align:left;"><a href="./../01-Kernel-Ref/README.html"><code>01-Kernel-Ref</code></a></td></tr><tr><td style="text-align:left;"><strong>Drivers</strong></td><td style="text-align:left;"><code>src/services/chain-adapter</code></td><td style="text-align:left;"><a href="./../02-Driver-Ref/README.html"><code>02-Driver-Ref</code></a></td></tr><tr><td style="text-align:left;"><strong>UI System</strong></td><td style="text-align:left;"><code>src/components/ui</code>, <code>src/styles</code></td><td style="text-align:left;"><a href="./../03-UI-Ref/README.html"><code>03-UI-Ref</code></a></td></tr><tr><td style="text-align:left;"><strong>Platform</strong></td><td style="text-align:left;"><code>src/services/{biometric,camera,...}</code></td><td style="text-align:left;"><a href="./../04-Platform-Ref/README.html"><code>04-Platform-Ref</code></a></td></tr><tr><td style="text-align:left;"><strong>State</strong></td><td style="text-align:left;"><code>src/stores</code>, <code>src/queries</code></td><td style="text-align:left;"><a href="./../05-State-Ref/README.html"><code>05-State-Ref</code></a></td></tr><tr><td style="text-align:left;"><strong>Services</strong></td><td style="text-align:left;"><code>src/services/{chain-config,ecosystem,...}</code></td><td style="text-align:left;"><a href="./../06-Service-Ref/README.html"><code>06-Service-Ref</code></a></td></tr><tr><td style="text-align:left;"><strong>Wallet Logic</strong></td><td style="text-align:left;"><code>src/services/wallet</code>, <code>src/services/transaction</code></td><td style="text-align:left;"><a href="./../10-Wallet-Guide/README.html"><code>10-Wallet-Guide</code></a></td></tr><tr><td style="text-align:left;"><strong>DApps</strong></td><td style="text-align:left;"><code>src/components/ecosystem</code></td><td style="text-align:left;"><a href="./../11-DApp-Guide/README.html"><code>11-DApp-Guide</code></a></td></tr><tr><td style="text-align:left;"><strong>Shell</strong></td><td style="text-align:left;"><code>src/stackflow</code></td><td style="text-align:left;"><a href="./../12-Shell-Guide/README.html"><code>12-Shell-Guide</code></a></td></tr><tr><td style="text-align:left;"><strong>DevOps</strong></td><td style="text-align:left;"><code>vite.config.ts</code>, <code>.github</code></td><td style="text-align:left;"><a href="./../90-DevOps/README.html"><code>90-DevOps</code></a></td></tr></tbody></table><h3 id="_2-by-user-flow-logical-view" tabindex="-1">2. By User Flow (Logical View) <a class="header-anchor" href="#_2-by-user-flow-logical-view" aria-label="Permalink to &quot;2. By User Flow (Logical View)&quot;">​</a></h3><p>Tracing a feature across multiple layers.</p><ul><li><strong>Transaction Flow</strong>: <ul><li>Lifecycle: <a href="./../10-Wallet-Guide/03-Transaction-Flow/README.html"><code>10-Wallet-Guide/03-Transaction-Flow</code></a></li><li>State: <a href="./../05-State-Ref/02-Stores/01-Wallet-Store.html"><code>05-State-Ref/02-Stores/01-Wallet-Store</code></a></li><li>Driver: <a href="./../02-Driver-Ref/README.html"><code>02-Driver-Ref</code></a></li></ul></li><li><strong>Balance Refresh</strong>: <ul><li>Query: <a href="./../05-State-Ref/03-Queries/01-Balance-Query.html"><code>05-State-Ref/03-Queries/01-Balance-Query</code></a></li><li>Store: <a href="./../05-State-Ref/02-Stores/01-Wallet-Store.html"><code>05-State-Ref/02-Stores/01-Wallet-Store</code></a></li><li>Platform: <a href="./../04-Platform-Ref/04-Haptics.html"><code>04-Platform-Ref/04-Haptics</code></a></li></ul></li></ul>`,10)])])}const g=t(l,[["render",n]]);export{E as __pageData,g as default};
