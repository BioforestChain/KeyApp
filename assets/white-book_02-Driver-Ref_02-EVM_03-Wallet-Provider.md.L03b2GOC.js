import{_ as a,c as t,o as l,ag as i}from"./chunks/framework.B0we9iV-.js";const k=JSON.parse('{"title":"EVM Wallet Provider (ethwallet / bscwallet)","description":"","frontmatter":{},"headers":[],"relativePath":"white-book/02-Driver-Ref/02-EVM/03-Wallet-Provider.md","filePath":"white-book/02-Driver-Ref/02-EVM/03-Wallet-Provider.md"}'),s={name:"white-book/02-Driver-Ref/02-EVM/03-Wallet-Provider.md"};function o(n,e,r,c,h,d){return l(),t("div",null,[...e[0]||(e[0]=[i(`<h1 id="evm-wallet-provider-ethwallet-bscwallet" tabindex="-1">EVM Wallet Provider (ethwallet / bscwallet) <a class="header-anchor" href="#evm-wallet-provider-ethwallet-bscwallet" aria-label="Permalink to &quot;EVM Wallet Provider (ethwallet / bscwallet)&quot;">​</a></h1><blockquote><p><strong>Code Source</strong>:</p><ul><li><code>src/services/chain-adapter/providers/ethwallet-provider.effect.ts</code></li><li><code>src/services/chain-adapter/providers/bscwallet-provider.effect.ts</code></li></ul></blockquote><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p><code>ethwallet-v1</code> 与 <code>bscwallet-v1</code> 是基于 walletapi 的 EVM Indexer Provider。 它们负责：</p><ul><li><strong>交易列表</strong>：原生交易 + 代币交易混合输出</li><li><strong>余额/资产</strong>：依赖交易列表变化触发刷新，减少无效请求</li><li><strong>缓存策略</strong>：使用 <code>httpFetchCached</code> 的 TTL 策略避免重复请求</li></ul><h2 id="api-endpoints-walletapi" tabindex="-1">API Endpoints (walletapi) <a class="header-anchor" href="#api-endpoints-walletapi" aria-label="Permalink to &quot;API Endpoints (walletapi)&quot;">​</a></h2><h3 id="ethereum-ethwallet-v1" tabindex="-1">Ethereum (<code>ethwallet-v1</code>) <a class="header-anchor" href="#ethereum-ethwallet-v1" aria-label="Permalink to &quot;Ethereum (\`ethwallet-v1\`)&quot;">​</a></h3><ul><li>交易列表（原生）：<code>/wallet/eth/trans/normal/history</code></li><li>交易列表（ERC20）：<code>/wallet/eth/trans/erc20/history</code></li><li>余额（原生）：<code>/wallet/eth/balance</code></li><li>余额（代币）：<code>/wallet/eth/account/balance/v2</code></li><li>代币列表：<code>/wallet/eth/contract/tokens</code></li></ul><h3 id="bsc-bscwallet-v1" tabindex="-1">BSC (<code>bscwallet-v1</code>) <a class="header-anchor" href="#bsc-bscwallet-v1" aria-label="Permalink to &quot;BSC (\`bscwallet-v1\`)&quot;">​</a></h3><ul><li>交易列表（原生）：<code>/wallet/bsc/trans/normal/history</code></li><li>交易列表（BEP20）：<code>/wallet/bsc/trans/bep20/history</code></li><li>余额（原生）：<code>/wallet/bsc/balance</code></li><li>余额（代币）：<code>/wallet/bsc/account/balance/v2</code></li><li>代币列表：<code>/wallet/bsc/contract/tokens</code></li></ul><h2 id="behavior-notes" tabindex="-1">Behavior Notes <a class="header-anchor" href="#behavior-notes" aria-label="Permalink to &quot;Behavior Notes&quot;">​</a></h2><ol><li><p><strong>交易列表混合</strong><br> 原生/代币交易各自独立轮询，每个 contract 变化都会触发合并输出，避免等待全量返回。</p></li><li><p><strong>余额刷新策略</strong><br> 余额请求仅在交易列表发生变化时触发；通过 TTL 复用缓存减少重复请求。</p></li><li><p><strong>异常处理</strong><br><code>success: true + message: NOTOK</code> 会触发错误路径，避免缓存无效结果；<br><code>No transactions found</code> 视为正常空结果。</p></li></ol><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>在 <code>public/configs/default-chains.json</code> 中配置：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ethwallet-v1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;endpoint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://walletapi.bfmeta.info/wallet/eth&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>或：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bscwallet-v1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;endpoint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://walletapi.bfmeta.info/wallet/bsc&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,17)])])}const u=a(s,[["render",o]]);export{k as __pageData,u as default};
