{"version":3,"file":"p2pk-a90b7d58.mjs","sources":["../../dist/lib/bitcoin-lib/payments/p2ms.mjs","../../dist/lib/bitcoin-lib/payments/p2pk.mjs"],"sourcesContent":["import { bitcoin as BITCOIN_NETWORK } from '../networks.mjs';\nimport * as bscript from '../script.mjs';\nimport { isPoint, typeforce as typef } from '../types.mjs';\nimport * as lazy from './lazy.mjs';\nconst OPS = bscript.OPS;\nconst OP_INT_BASE = OPS.OP_RESERVED; // OP_1 - 1\nfunction stacksEqual(a, b) {\n    if (a.length !== b.length)\n        return false;\n    return a.every((x, i) => {\n        return x.equals(b[i]);\n    });\n}\n// input: OP_0 [signatures ...]\n// output: m [pubKeys ...] n OP_CHECKMULTISIG\nexport function p2ms(a, opts) {\n    if (!a.input &&\n        !a.output &&\n        !(a.pubkeys && a.m !== undefined) &&\n        !a.signatures)\n        throw new TypeError('Not enough data');\n    opts = Object.assign({ validate: true }, opts || {});\n    function isAcceptableSignature(x) {\n        return (bscript.isCanonicalScriptSignature(x) ||\n            (opts.allowIncomplete && x === OPS.OP_0) !== undefined);\n    }\n    typef({\n        network: typef.maybe(typef.Object),\n        m: typef.maybe(typef.Number),\n        n: typef.maybe(typef.Number),\n        output: typef.maybe(typef.Buffer),\n        pubkeys: typef.maybe(typef.arrayOf(isPoint)),\n        signatures: typef.maybe(typef.arrayOf(isAcceptableSignature)),\n        input: typef.maybe(typef.Buffer),\n    }, a);\n    const network = a.network || BITCOIN_NETWORK;\n    const o = { network };\n    let chunks = [];\n    let decoded = false;\n    function decode(output) {\n        if (decoded)\n            return;\n        decoded = true;\n        chunks = bscript.decompile(output);\n        o.m = chunks[0] - OP_INT_BASE;\n        o.n = chunks[chunks.length - 2] - OP_INT_BASE;\n        o.pubkeys = chunks.slice(1, -2);\n    }\n    lazy.prop(o, 'output', () => {\n        if (!a.m)\n            return;\n        if (!o.n)\n            return;\n        if (!a.pubkeys)\n            return;\n        return bscript.compile([].concat(OP_INT_BASE + a.m, a.pubkeys, OP_INT_BASE + o.n, OPS.OP_CHECKMULTISIG));\n    });\n    lazy.prop(o, 'm', () => {\n        if (!o.output)\n            return;\n        decode(o.output);\n        return o.m;\n    });\n    lazy.prop(o, 'n', () => {\n        if (!o.pubkeys)\n            return;\n        return o.pubkeys.length;\n    });\n    lazy.prop(o, 'pubkeys', () => {\n        if (!a.output)\n            return;\n        decode(a.output);\n        return o.pubkeys;\n    });\n    lazy.prop(o, 'signatures', () => {\n        if (!a.input)\n            return;\n        return bscript.decompile(a.input).slice(1);\n    });\n    lazy.prop(o, 'input', () => {\n        if (!a.signatures)\n            return;\n        return bscript.compile([OPS.OP_0].concat(a.signatures));\n    });\n    lazy.prop(o, 'witness', () => {\n        if (!o.input)\n            return;\n        return [];\n    });\n    lazy.prop(o, 'name', () => {\n        if (!o.m || !o.n)\n            return;\n        return `p2ms(${o.m} of ${o.n})`;\n    });\n    // extended validation\n    if (opts.validate) {\n        if (a.output) {\n            decode(a.output);\n            if (!typef.Number(chunks[0]))\n                throw new TypeError('Output is invalid');\n            if (!typef.Number(chunks[chunks.length - 2]))\n                throw new TypeError('Output is invalid');\n            if (chunks[chunks.length - 1] !== OPS.OP_CHECKMULTISIG)\n                throw new TypeError('Output is invalid');\n            if (o.m <= 0 || o.n > 16 || o.m > o.n || o.n !== chunks.length - 3)\n                throw new TypeError('Output is invalid');\n            if (!o.pubkeys.every((x) => isPoint(x)))\n                throw new TypeError('Output is invalid');\n            if (a.m !== undefined && a.m !== o.m)\n                throw new TypeError('m mismatch');\n            if (a.n !== undefined && a.n !== o.n)\n                throw new TypeError('n mismatch');\n            if (a.pubkeys && !stacksEqual(a.pubkeys, o.pubkeys))\n                throw new TypeError('Pubkeys mismatch');\n        }\n        if (a.pubkeys) {\n            if (a.n !== undefined && a.n !== a.pubkeys.length)\n                throw new TypeError('Pubkey count mismatch');\n            o.n = a.pubkeys.length;\n            if (o.n < o.m)\n                throw new TypeError('Pubkey count cannot be less than m');\n        }\n        if (a.signatures) {\n            if (a.signatures.length < o.m)\n                throw new TypeError('Not enough signatures provided');\n            if (a.signatures.length > o.m)\n                throw new TypeError('Too many signatures provided');\n        }\n        if (a.input) {\n            if (a.input[0] !== OPS.OP_0)\n                throw new TypeError('Input is invalid');\n            if (o.signatures.length === 0 ||\n                !o.signatures.every(isAcceptableSignature))\n                throw new TypeError('Input has invalid signature(s)');\n            if (a.signatures && !stacksEqual(a.signatures, o.signatures))\n                throw new TypeError('Signature mismatch');\n            if (a.m !== undefined && a.m !== a.signatures.length)\n                throw new TypeError('Signature count mismatch');\n        }\n    }\n    return Object.assign(o, a);\n}\n//# sourceMappingURL=p2ms.mjs.map","import { bitcoin as BITCOIN_NETWORK } from '../networks.mjs';\nimport * as bscript from '../script.mjs';\nimport { isPoint, typeforce as typef } from '../types.mjs';\nimport * as lazy from './lazy.mjs';\nconst OPS = bscript.OPS;\n// input: {signature}\n// output: {pubKey} OP_CHECKSIG\nexport function p2pk(a, opts) {\n    if (!a.input && !a.output && !a.pubkey && !a.input && !a.signature)\n        throw new TypeError('Not enough data');\n    opts = Object.assign({ validate: true }, opts || {});\n    typef({\n        network: typef.maybe(typef.Object),\n        output: typef.maybe(typef.Buffer),\n        pubkey: typef.maybe(isPoint),\n        signature: typef.maybe(bscript.isCanonicalScriptSignature),\n        input: typef.maybe(typef.Buffer),\n    }, a);\n    const _chunks = lazy.value(() => {\n        return bscript.decompile(a.input);\n    });\n    const network = a.network || BITCOIN_NETWORK;\n    const o = { name: 'p2pk', network };\n    lazy.prop(o, 'output', () => {\n        if (!a.pubkey)\n            return;\n        return bscript.compile([a.pubkey, OPS.OP_CHECKSIG]);\n    });\n    lazy.prop(o, 'pubkey', () => {\n        if (!a.output)\n            return;\n        return a.output.slice(1, -1);\n    });\n    lazy.prop(o, 'signature', () => {\n        if (!a.input)\n            return;\n        return _chunks()[0];\n    });\n    lazy.prop(o, 'input', () => {\n        if (!a.signature)\n            return;\n        return bscript.compile([a.signature]);\n    });\n    lazy.prop(o, 'witness', () => {\n        if (!o.input)\n            return;\n        return [];\n    });\n    // extended validation\n    if (opts.validate) {\n        if (a.output) {\n            if (a.output[a.output.length - 1] !== OPS.OP_CHECKSIG)\n                throw new TypeError('Output is invalid');\n            if (!isPoint(o.pubkey))\n                throw new TypeError('Output pubkey is invalid');\n            if (a.pubkey && !a.pubkey.equals(o.pubkey))\n                throw new TypeError('Pubkey mismatch');\n        }\n        if (a.signature) {\n            if (a.input && !a.input.equals(o.input))\n                throw new TypeError('Signature mismatch');\n        }\n        if (a.input) {\n            if (_chunks().length !== 1)\n                throw new TypeError('Input is invalid');\n            if (!bscript.isCanonicalScriptSignature(o.signature))\n                throw new TypeError('Input has invalid signature');\n        }\n    }\n    return Object.assign(o, a);\n}\n//# sourceMappingURL=p2pk.mjs.map"],"names":["OPS","bscript.OPS","bscript.isCanonicalScriptSignature","typef","BITCOIN_NETWORK","bscript.decompile","lazy.prop","bscript.compile","lazy.value"],"mappings":"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"}