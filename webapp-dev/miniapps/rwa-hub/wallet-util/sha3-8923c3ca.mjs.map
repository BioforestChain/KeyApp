{"version":3,"file":"sha3-8923c3ca.mjs","sources":["../../dist/lib/hash-wasm/sha3.mjs"],"sourcesContent":["import { createWasmPreparer } from './WASMInterface.mjs';\n/**\n * Load SHA-3 wasm\n */\nconst prepareSHA3_MAP = {\n    224: createWasmPreparer('sha3', 224 / 8),\n    256: createWasmPreparer('sha3', 256 / 8),\n    384: createWasmPreparer('sha3', 384 / 8),\n    512: createWasmPreparer('sha3', 512 / 8),\n};\nObject.setPrototypeOf(prepareSHA3_MAP, null);\nexport const getSha3Preparer = (bits) => {\n    if (bits in prepareSHA3_MAP === false) {\n        throw new Error(`Invalid variant! Valid values: ${Object.keys(prepareSHA3_MAP)}`);\n    }\n    return prepareSHA3_MAP[bits];\n};\n/**\n * Calculates SHA-3 hash\n * @param data Input data (string, Buffer or TypedArray)\n * @param bits Number of output bits. Valid values: 224, 256, 384, 512\n * @returns Computed hash as a hexadecimal string\n */\nexport const sha3 = async (data, bits = 512) => {\n    return (await getSha3Preparer(bits)()).calculate(data, bits, 0x06);\n};\n/**\n * Creates a new SHA-3 hash instance\n * @param bits Number of output bits. Valid values: 224, 256, 384, 512\n */\nexport const createSHA3 = async (bits = 512) => {\n    return createSHA3Sync(bits, await getSha3Preparer(bits)());\n};\n/**\n * Creates a new SHA-3 hash instance\n * @param bits Number of output bits. Valid values: 224, 256, 384, 512\n */\nexport const createSHA3Sync = (bits = 512, wasm = getSha3Preparer(bits).wasm) => {\n    const outputSize = bits / 8;\n    wasm.init(bits);\n    const obj = {\n        init: () => {\n            wasm.init(bits);\n            return obj;\n        },\n        update: (data) => {\n            wasm.update(data);\n            return obj;\n        },\n        digest: (outputType) => wasm.digest(outputType, 0x06),\n        save: () => wasm.save(),\n        load: (data) => {\n            wasm.load(data);\n            return obj;\n        },\n        blockSize: 200 - 2 * outputSize,\n        digestSize: outputSize,\n    };\n    return obj;\n};\n//# sourceMappingURL=sha3.mjs.map"],"names":[],"mappings":";;AACA;AACA;AACA;AACA,MAAM,eAAe,GAAG;AACxB,IAAI,GAAG,EAAE,kBAAkB,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AAC5C,IAAI,GAAG,EAAE,kBAAkB,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AAC5C,IAAI,GAAG,EAAE,kBAAkB,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AAC5C,IAAI,GAAG,EAAE,kBAAkB,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;AAC5C,CAAC,CAAA;AACD,MAAM,CAAC,cAAc,CAAC,eAAe,EAAE,IAAI,CAAC,CAAA;AAChC,MAAC,eAAe,GAAG,CAAC,IAAI,KAAK;AACzC,IAAI,IAAI,IAAI,IAAI,eAAe,KAAK,KAAK,EAAE;AAC3C,QAAQ,MAAM,IAAI,KAAK,CAAC,CAAC,+BAA+B,EAAE,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAA;AACzF,KAAI;AACJ,IAAI,OAAO,eAAe,CAAC,IAAI,CAAC,CAAA;AAChC,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,IAAI,GAAG,OAAO,IAAI,EAAE,IAAI,GAAG,GAAG,KAAK;AAChD,IAAI,OAAO,CAAC,MAAM,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;AACtE,EAAC;AACD;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,OAAO,IAAI,GAAG,GAAG,KAAK;AAChD,IAAI,OAAO,cAAc,CAAC,IAAI,EAAE,MAAM,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;AAC9D,EAAC;AACD;AACA;AACA;AACA;AACY,MAAC,cAAc,GAAG,CAAC,IAAI,GAAG,GAAG,EAAE,IAAI,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK;AACjF,IAAI,MAAM,UAAU,GAAG,IAAI,GAAG,CAAC,CAAA;AAC/B,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;AACnB,IAAI,MAAM,GAAG,GAAG;AAChB,QAAQ,IAAI,EAAE,MAAM;AACpB,YAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;AAC3B,YAAY,OAAO,GAAG,CAAA;AACtB,SAAS;AACT,QAAQ,MAAM,EAAE,CAAC,IAAI,KAAK;AAC1B,YAAY,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;AAC7B,YAAY,OAAO,GAAG,CAAA;AACtB,SAAS;AACT,QAAQ,MAAM,EAAE,CAAC,UAAU,KAAK,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;AAC7D,QAAQ,IAAI,EAAE,MAAM,IAAI,CAAC,IAAI,EAAE;AAC/B,QAAQ,IAAI,EAAE,CAAC,IAAI,KAAK;AACxB,YAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;AAC3B,YAAY,OAAO,GAAG,CAAA;AACtB,SAAS;AACT,QAAQ,SAAS,EAAE,GAAG,GAAG,CAAC,GAAG,UAAU;AACvC,QAAQ,UAAU,EAAE,UAAU;AAC9B,KAAK,CAAA;AACL,IAAI,OAAO,GAAG,CAAA;AACd;;;;"}