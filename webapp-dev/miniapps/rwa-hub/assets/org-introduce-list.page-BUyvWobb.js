import{r as m,j as e,f as o}from"./index-15D1tlVU.js";import{L as f}from"./loading-page-data-CCKDne7Y.js";import{N as d}from"./no-data-CDzRffdr.js";import{u as p}from"./use_flow-CkeMNJ0N.js";import{L as u}from"./list-item-CsDeqkSQ.js";import{N as g}from"./navbar-DAOi6kaL.js";import{d as x,P as h,g as b}from"./page-BL_iZuG4.js";import{u as j}from"./use_page_query_state-DR-eHdQu.js";import{L as w}from"./list-C6l4Q3bV.js";import{a as y,s as I,i as L,u as N,t as P,b as E}from"./dex-api-54xdAOHY.js";import"./preloader-DItl4yqJ.js";import"./messages-T-UDpzuG.js";import"./use_easy_state-D4HEqK2h.js";import"./list-C2Pi8W4W.js";import"./polyfills-BATEtbik.js";const J=x(i=>{const l=b(),a=j([],1,async(t,r)=>{const s=await l.trpcClient.profile.getProfileList.query();return t.push(...s),{content:t,nextPage:r+1,end:!0}}),[n]=p(E),c=async t=>{if(y()!==t){I(t),L.emit(t),o.preloader.show();try{await N(n.uid)}catch(s){throw P(String(s)),s}finally{o.preloader.hide()}}i.f7router.back()};return m.useEffect(()=>{a.loadFirst()},[]),e.jsxs(h,{name:"select-org",children:[e.jsx(g,{backLink:!0,title:"选择机构",color:"white",className:"text-white !filter-none",style:{"--f7-bars-bg-color-rgb":"100,15,243","--f7-bars-border-color":"transparent"}}),e.jsx("div",{className:"min-h-full w-full bg-white",children:e.jsx(w,{className:"m-0",children:a.render({loading:()=>e.jsx(f,{}),listEmpty:()=>e.jsx(d,{}),listItem:(t,r)=>e.jsx(u,{onClick:()=>{c(t.userId)},children:e.jsx("div",{className:"bg-gray flex w-full items-center justify-between rounded-3 p-2",children:e.jsxs("div",{className:"flex items-center justify-start",children:[" ",e.jsx("img",{src:"./images/logo.webp",className:"mr-2 h-6 w-auto rounded-full",alt:""})," ",t.name]})})},r)})})})]})});export{J as default};
