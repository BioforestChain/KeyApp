import{r as m,j as e,f as o}from"./index-CQoRotV0.js";import{L as f}from"./loading-page-data-BiZn-gxc.js";import{N as d}from"./no-data-BZNSMxiq.js";import{u as p}from"./use_flow-JGTGsfZ1.js";import{L as u}from"./list-item-CLfYZ1Rn.js";import{N as g}from"./navbar-DIMKluRQ.js";import{d as x,P as h,g as b}from"./page-C3-Jo2og.js";import{u as j}from"./use_page_query_state-Ch0Feqt_.js";import{L as w}from"./list-CZTNodH7.js";import{a as y,s as I,i as L,u as N,t as P,b as E}from"./dex-api-Cq_3td3P.js";import"./preloader-D58IadfG.js";import"./messages-BUgBjWr1.js";import"./use_easy_state-9wGY1NnM.js";import"./list-CP82UPn7.js";const G=x(i=>{const l=b(),a=j([],1,async(t,s)=>{const r=await l.trpcClient.profile.getProfileList.query();return t.push(...r),{content:t,nextPage:s+1,end:!0}}),[n]=p(E),c=async t=>{if(y()!==t){I(t),L.emit(t),o.preloader.show();try{await N(n.uid)}catch(r){throw P(String(r)),r}finally{o.preloader.hide()}}i.f7router.back()};return m.useEffect(()=>{a.loadFirst()},[]),e.jsxs(h,{name:"select-org",children:[e.jsx(g,{backLink:!0,title:"选择机构",color:"white",className:"text-white !filter-none",style:{"--f7-bars-bg-color-rgb":"100,15,243","--f7-bars-border-color":"transparent"}}),e.jsx("div",{className:"min-h-full w-full bg-white",children:e.jsx(w,{className:"m-0",children:a.render({loading:()=>e.jsx(f,{}),listEmpty:()=>e.jsx(d,{}),listItem:(t,s)=>e.jsx(u,{onClick:()=>{c(t.userId)},children:e.jsx("div",{className:"bg-gray flex w-full items-center justify-between rounded-3 p-2",children:e.jsxs("div",{className:"flex items-center justify-start",children:[" ",e.jsx("img",{src:"./images/logo.webp",className:"mr-2 h-6 w-auto rounded-full",alt:""})," ",t.name]})})},s)})})})]})});export{G as default};
