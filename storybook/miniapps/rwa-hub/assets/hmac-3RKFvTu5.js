import{g as a}from"./WASMInterface-DAdCfnXY.js";function p(t,r){const{blockSize:e}=t,i=a(r);if(i.length>e){t.update(i);const o=t.digest("binary");return t.init(),o}return new Uint8Array(i.buffer,i.byteOffset,i.length)}function f(t,r){t.init();const{blockSize:e}=t,i=p(t,r),o=new Uint8Array(e);o.set(i);const d=new Uint8Array(e);for(let n=0;n<e;n++){const c=o[n];d[n]=c^92,o[n]=c^54}t.update(o);const u={init:()=>(t.init(),t.update(o),u),update:n=>(t.update(n),u),digest:n=>{const c=t.digest("binary");return t.init(),t.update(d),t.update(c),t.digest(n)},save:()=>{throw new Error("save() not supported")},load:()=>{throw new Error("load() not supported")},blockSize:t.blockSize,digestSize:t.digestSize};return u}function g(t,r){if(!t||!t.then)throw new Error('Invalid hash function is provided! Usage: createHMAC(createMD5(), "key").');return t.then(e=>f(e,r))}const s=f;export{g as a,s as c};
