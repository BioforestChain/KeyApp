import{r as x,g as k,c as $,a as D,R as L,$ as d,e as O,f as I,j as n,d as y,V as E}from"./index-AshhoVut.js";import{d as R,P,e as S,S as F}from"./page-BnBmgj2e.js";import{u as U}from"./use_flow-Buvyb0TW.js";import{u as H,d as M,c as _}from"./dialog-w37VgwE_.js";import{N as B}from"./navbar-CWXVbsHK.js";import{T as V,D as q}from"./discover.page-3MPEOUat.js";import{l as z,c as G,u as J,b as K,o as Q,e as W}from"./dex-api-WCaY78Dk.js";import{N as X}from"./icon.component-Bbnu8uvo.js";import{p as Y}from"./messages-D1uWWbBR.js";import{O as Z,D as ee}from"./dex-paradise.page-711HsBZy.js";import{S as te}from"./setting.page-Cw2AtfIG.js";import"./use_easy_state-BCfQ0rqw.js";import"./pull-to-refresh-BEcMoqjd.js";import"./subnavbar-C_obbOeJ.js";import"./loading-page-data-6-Awkqnm.js";import"./preloader-Cr80DtbA.js";import"./no-data-C6uCQg27.js";import"./organization-profile.model-DEuuhspX.js";import"./asset-type-balance-BGw1Ilcq.js";import"./big-Dt19vo1Q.js";import"./date-time-format-CBKMROy6.js";import"./use_page_query_state-Dd2x2gMX.js";import"./use_refresh-BXPRqJ_V.js";import"./nilai-dialog-Dbtzo5f5.js";import"./list-item-C_pVthwN.js";import"./list-DTz1iW3n.js";import"./list-DOTUY-rD.js";import"./clipboard-CegwBCT4.js";import"./noop-ChEnm3CV.js";function T(){return T=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r])}return t},T.apply(this,arguments)}const A=x.forwardRef((t,a)=>{const{className:l,id:r,style:o,children:u,tabs:g}=t,c=k(t),b=x.useRef(null);x.useImperativeHandle(a,()=>({el:b.current}));const s=$(l,"views",{tabs:g},D(t));return L.createElement("div",T({id:r,style:o,className:s,ref:b},c),u)});A.displayName="f7-views";const ae={show(){const t=this;let a,l,r,o,u;for(var g=arguments.length,c=new Array(g),b=0;b<g;b++)c[b]=arguments[b];c.length===1&&c[0]&&c[0].constructor===Object?(a=c[0].tabEl,l=c[0].tabLinkEl,r=c[0].animate,o=c[0].tabRoute,u=c[0].animatedInit):([a,l,r,o]=c,typeof c[1]=="boolean"&&([a,r,l,o]=c,c.length>2&&l.constructor===Object&&([a,r,o,l]=c))),typeof r>"u"&&(r=!0);const s=d(a);if(o&&s[0]&&(s[0].f7TabRoute=o),!u&&(s.length===0||s.hasClass("tab-active")))return{$newTabEl:s,newTabEl:s[0]};let i;l&&(i=d(l));const v=s.parent(".tabs");if(v.length===0)return{$newTabEl:s,newTabEl:s[0]};t.swipeout&&(t.swipeout.allowOpen=!0);const h=[];function j(e){h.push(e)}function w(){h.forEach(e=>{e()})}let C=!1;if(v.parent().hasClass("tabs-animated-wrap")){v.parent()[r?"removeClass":"addClass"]("not-animated");const e=parseFloat(v.css("transition-duration").replace(",","."));r&&e&&(v.transitionEnd(w),C=!0);const p=(t.rtl?s.index():-s.index())*100;v.transform(`translate3d(${p}%,0,0)`)}let f;if(v[0].nodeName.toLowerCase()==="swiper-container"&&t.swiper){f=v[0].swiper;const e=f.slides.indexOf(s[0]);f&&f.activeIndex!==e?(C=!0,f.once("slideChangeTransitionEnd",()=>{w()}).slideTo(e,r?void 0:0)):f&&f.animating&&(C=!0,f.once("slideChangeTransitionEnd",()=>{w()}))}const m=v.children(".tab-active");if(m.removeClass("tab-active"),!u&&(!f||f&&!f.animating||f&&o)&&(m.hasClass("view")&&m.children(".page").length&&m.children(".page").each(e=>{d(e).trigger("page:tabhide"),t.emit("pageTabHide",e)}),m.trigger("tab:hide"),t.emit("tabHide",m[0])),s.addClass("tab-active"),!u&&(!f||f&&!f.animating||f&&o)&&(s.hasClass("view")&&s.children(".page").length&&s.children(".page").each(e=>{d(e).trigger("page:tabshow"),t.emit("pageTabShow",e)}),s.trigger("tab:show"),t.emit("tabShow",s[0])),!i&&(typeof a=="string"?i=d(`.tab-link[href="${a}"]`):i=d(`.tab-link[href="#${s.attr("id")}"]`),(!i||i&&i.length===0)&&d("[data-tab]").each(e=>{s.is(d(e).attr("data-tab"))&&(i=d(e))}),o&&(!i||i&&i.length===0)&&(i=d(`[data-route-tab-id="${o.route.tab.id}"]`),i.length===0&&(i=d(`.tab-link[href="${o.url}"]`))),i.length>1&&s.parents(".page").length&&(i=i.filter(e=>d(e).parents(".page")[0]===s.parents(".page")[0]),t.theme==="ios"&&i.length===0&&o))){const e=s.parents(".page"),p=d(t.navbar.getElByPage(e));i=p.find(`[data-route-tab-id="${o.route.tab.id}"]`),i.length===0&&(i=p.find(`.tab-link[href="${o.url}"]`))}if(i.length>0){let e;if(m&&m.length>0){const p=m.attr("id");p&&(e=d(`.tab-link[href="#${p}"]`),(!e||e&&e.length===0)&&(e=d(`.tab-link[data-route-tab-id="${p}"]`))),(!e||e&&e.length===0)&&d("[data-tab]").each(N=>{m.is(d(N).attr("data-tab"))&&(e=d(N))}),(!e||e&&e.length===0)&&(e=i.siblings(".tab-link-active"))}else o&&(e=i.siblings(".tab-link-active"));if(e&&e.length>1&&m&&m.parents(".page").length&&(e=e.filter(p=>d(p).parents(".page")[0]===m.parents(".page")[0])),e&&e.length>0&&e.removeClass("tab-link-active"),i&&i.length>0){i.addClass("tab-link-active");const p=i.parents(".tabbar, .tabbar-icons");t.toolbar&&p.length>0&&(p.hasClass("tabbar-highlight")||t.theme!=="ios")&&t.toolbar.setHighlight(p)}}return{$newTabEl:s,newTabEl:s[0],$oldTabEl:m,oldTabEl:m[0],onTabsChanged:j,animated:C}}},ie={name:"tabs",create(){const t=this;O(t,{tab:{show:ae.show.bind(t)}})},on:{"pageInit tabMounted":function(a){const r=d(a.el||a).find(".tabs-animated-wrap > .tabs > .tab-active")[0];if(!r)return;this.tab.show({tabEl:r,animatedInit:!0,animate:!1})}},clicks:{".tab-link":function(a,l){l===void 0&&(l={}),(a.attr("href")&&a.attr("href").indexOf("#")===0||a.attr("data-tab"))&&this.tab.show({tabEl:l.tab||a.attr("href"),tabLinkEl:a,animate:l.animate})}}};await I.loadModule(ie);const se="_nilaiDialog_y70y8_1",ne={nilaiDialog:se},re=({open:t,onRequireClose:a,closeByBackdropClick:l,children:r,...o})=>{const u=H({}),g=x.useRef(null);return x.useEffect(()=>{const c=u.current;if(c==null)return;const b=M.create({el:c,closeByBackdropClick:!1});return b.backdropEl.addEventListener("click",()=>{l&&a(!1,"backdrop")}),g.current=b,()=>{c.classList.add("modal-in"),b.close(!1),b.destroy()}},[u.current]),x.useEffect(()=>{t?g.current?.open():g.current?.close()},[g.current,t]),n.jsx("div",{ref:u,...o,style:{"--f7-dialog-bg-color-rgb":"transparent",backdropFilter:"none"},className:_("dialog","drop-shadow-spread-xl",ne.nilaiDialog,o.className),children:n.jsx("div",{className:"w-full text-base text-title",children:r})})},oe=({level:t,...a})=>n.jsx(re,{...a,children:n.jsxs("div",{className:"btn relative mx-auto flex w-full items-center justify-center",children:[n.jsx("img",{src:"./images/paradise/level_up_bg.webp",className:"-z-10 h-auto w-full",alt:""}),n.jsxs("div",{className:"absolute z-10 -mt-5 flex-col items-center justify-center",children:[n.jsx("p",{className:"mb-1.5 text-xl font-bold text-title",children:Y()}),n.jsx("img",{src:`./images/paradise/level_${t}.svg`,className:"h-auto w-20",alt:""})]}),n.jsx("button",{className:"absolute bottom-[20%]",onClick:()=>{a.onRequireClose(!1,"confirm")},children:n.jsx(X,{className:"icon-5 rounded-full border-tiny border-solid border-white p-0.5",name:"common-close"})})]})}),le=new F("paradise"),Fe=R(t=>{const[a,l]=U(le),r=a==="my",o=a==="paradise",u=a==="discover",g=a==="introduce",[c,b]=x.useState(!1),[s,i]=x.useState(0),v=x.useMemo(()=>[{state:"introduce",isActived:g,icon_n:"./images/tab1_n.svg",icon_s:"./images/tab1_s.svg"},{state:"paradise",isActived:o,icon_n:"./images/tab2_n.svg",icon_s:"./images/tab2_s.png"},{state:"discover",isActived:u,icon_n:"./images/tab3_n.svg",icon_s:"./images/tab3_s.svg"},{state:"my",isActived:r,icon_n:"./images/tab4_n.svg",icon_s:"./images/tab4_s.svg"}],[r,o,u,g]);return x.useEffect(()=>{const h=z.on(async({expired:j})=>{j&&(G(),await y(1e3),t.safeF7Navigater.login({reloadAll:!0}))});return y(1e3).then(()=>J(K.value.uid)),()=>{h()}},[]),x.useEffect(()=>{const h=Q(w=>{i(w),b(!0)}),j=W(w=>{w&&l("paradise")});return()=>{h(),j()}},[]),n.jsxs(P,{pageContent:!1,children:[n.jsx(B,{hidden:!0}),n.jsx(S,{className:"p-0",children:n.jsxs(A,{tabs:!0,className:"fixPageAni",children:[n.jsx(V,{bottom:!0,tabbar:!0,className:"tabs-toobal left-[15%] mb-4 h-15 w-[70%] rounded-full !bg-black",style:{"--f7-bars-border-color":"transparent"},children:v.map(h=>n.jsx("button",{className:_("flex flex-col items-center duration-300",h.isActived?"!text-primary":"!text-subtext"),onClick:()=>{l(h.state)},children:n.jsx("span",{className:"grid grid-cols-1 grid-rows-1",style:{gridTemplateAreas:"stack"},children:n.jsx("img",{src:h.isActived?h.icon_n:h.icon_s,className:"h-auto w-11",alt:""})})},h.state))}),n.jsx(E,{id:"introduce",tab:!0,tabActive:g,children:n.jsx(Z,{...t})}),n.jsx(E,{id:"paradise",tab:!0,tabActive:o,children:n.jsx(ee,{...t})}),n.jsx(E,{id:"discover",tab:!0,tabActive:u,children:n.jsx(q,{...t})}),n.jsx(E,{id:"my",tab:!0,tabActive:r,children:n.jsx(te,{...t})})]})}),n.jsx(oe,{open:c,level:s,onRequireClose:()=>{b(!1)}})]})});export{Fe as default};
