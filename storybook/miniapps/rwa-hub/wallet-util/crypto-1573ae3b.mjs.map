{"version":3,"file":"crypto-1573ae3b.mjs","sources":["../../dist/lib/bitcoin-lib/crypto.mjs"],"sourcesContent":["import { Buffer } from '../buffer.mjs';\nimport { createRIPEMD160Sync } from '../hash-wasm/ripemd160.mjs';\nimport { createSHA1Sync } from '../hash-wasm/sha1.mjs';\nimport { createSHA256Sync } from '../hash-wasm/sha256.mjs';\nexport function ripemd160(buffer) {\n    return Buffer.from(createRIPEMD160Sync().update(buffer).digest());\n}\nexport function sha1(buffer) {\n    return Buffer.from(createSHA1Sync().update(buffer).digest());\n}\nexport function sha256(buffer) {\n    return Buffer.from(createSHA256Sync().update(buffer).digest());\n}\nexport function hash160(buffer) {\n    return ripemd160(sha256(buffer));\n}\nexport function hash256(buffer) {\n    return sha256(sha256(buffer));\n}\nconst TAGS = [\n    'BIP0340/challenge',\n    'BIP0340/aux',\n    'BIP0340/nonce',\n    'TapLeaf',\n    'TapBranch',\n    'TapSighash',\n    'TapTweak',\n    'KeyAgg list',\n    'KeyAgg coefficient',\n];\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = Object.fromEntries(TAGS.map((tag) => {\n    const tagHash = sha256(Buffer.from(tag));\n    return [tag, Buffer.concat([tagHash, tagHash])];\n}));\nexport function taggedHash(prefix, data) {\n    return sha256(Buffer.concat([TAGGED_HASH_PREFIXES[prefix], data]));\n}\n//# sourceMappingURL=crypto.mjs.map"],"names":[],"mappings":";;;;;;AAIO,SAAS,SAAS,CAAC,MAAM,EAAE;AAClC,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,CAAA;AACrE,CAAA;AACO,SAAS,IAAI,CAAC,MAAM,EAAE;AAC7B,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,CAAA;AAChE,CAAA;AACO,SAAS,MAAM,CAAC,MAAM,EAAE;AAC/B,IAAI,OAAO,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,CAAA;AAClE,CAAA;AACO,SAAS,OAAO,CAAC,MAAM,EAAE;AAChC,IAAI,OAAO,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAA;AACpC,CAAA;AACO,SAAS,OAAO,CAAC,MAAM,EAAE;AAChC,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAA;AACjC,CAAA;AACA,MAAM,IAAI,GAAG;AACb,IAAI,mBAAmB;AACvB,IAAI,aAAa;AACjB,IAAI,eAAe;AACnB,IAAI,SAAS;AACb,IAAI,WAAW;AACf,IAAI,YAAY;AAChB,IAAI,UAAU;AACd,IAAI,aAAa;AACjB,IAAI,oBAAoB;AACxB,CAAC,CAAA;AACD;AACA,MAAM,oBAAoB,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK;AAClE,IAAI,MAAM,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;AAC5C,IAAI,OAAO,CAAC,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAA;AACnD,CAAC,CAAC,CAAC,CAAA;AACI,SAAS,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE;AACzC,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAA;AACtE;;;;"}