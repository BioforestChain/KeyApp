import{r as o,j as a}from"./iframe-Dp2Ali2n.js";import{c as b}from"./utils-4perknFd.js";import{u as W}from"./useTranslation-BYYU4Ehv.js";function A({wordCount:s=12,onComplete:m,onChange:l,className:h}){const{t:u}=W("security"),[n,d]=o.useState(Array(s).fill("")),[v,p]=o.useState(null);o.useEffect(()=>{d(Array(s).fill("")),l?.(Array(s).fill(""),!1)},[s]);const w=o.useCallback((t,e)=>{const r=e.trim().toLowerCase();if(r.includes(" ")){const I=r.split(/\s+/).filter(Boolean),c=[...n];I.forEach((N,x)=>{t+x<s&&(c[t+x]=N)}),d(c);const g=c.filter(Boolean).length===s;l?.(c,g),g&&m?.(c);return}const i=[...n];i[t]=r,d(i);const y=i.filter(Boolean).length===s;l?.(i,y),y&&m?.(i)},[n,s,l,m]),j=o.useCallback((t,e)=>{e.key===" "||e.key==="Tab"?(e.key===" "&&e.preventDefault(),document.querySelector(`[data-word-index="${t+1}"]`)?.focus()):e.key==="Backspace"&&!n[t]&&t>0&&document.querySelector(`[data-word-index="${t-1}"]`)?.focus()},[n]),k=o.useCallback(()=>{const t=Array(s).fill("");d(t),l?.(t,!1)},[s,l]),f=n.filter(Boolean).length;return a.jsxs("div",{className:b("space-y-3",h),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{"data-testid":"word-count-display",className:"text-muted-foreground text-sm",children:u("mnemonicInput.entered",{filled:f,total:s})}),f>0&&a.jsx("button",{type:"button","data-testid":"clear-mnemonic-button",onClick:k,className:"text-primary hover:text-primary/80 text-sm",children:u("mnemonicInput.clear")})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2 @xs:grid-cols-4 @md:gap-3",children:n.map((t,e)=>a.jsxs("div",{className:b("flex items-center gap-1 rounded-lg border px-2 py-1.5 transition-colors @xs:px-3 @xs:py-2",v===e?"border-primary bg-primary/5":"border-border bg-muted/30",t&&"border-secondary/50 bg-secondary/5"),children:[a.jsx("span",{className:"text-muted-foreground w-4 shrink-0 text-xs",children:e+1}),a.jsx("input",{type:"text",value:t,"data-word-index":e,onChange:r=>w(e,r.target.value),onKeyDown:r=>j(e,r),onFocus:()=>p(e),onBlur:()=>p(null),className:"placeholder:text-muted-foreground w-full bg-transparent text-sm font-medium outline-none",placeholder:"...",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:!1})]},e))})]})}A.__docgenInfo={description:"",methods:[],displayName:"MnemonicInput",props:{wordCount:{required:!1,tsType:{name:"union",raw:"12 | 24",elements:[{name:"literal",value:"12"},{name:"literal",value:"24"}]},description:"",defaultValue:{value:"12",computed:!1}},onComplete:{required:!1,tsType:{name:"signature",type:"function",raw:"(words: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"words"}],return:{name:"void"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(words: string[], isComplete: boolean) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"words"},{type:{name:"boolean"},name:"isComplete"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{A as M};
