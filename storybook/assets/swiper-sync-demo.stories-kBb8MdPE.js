import{r as p,j as e}from"./iframe-CLYHcCRY.js";import{S as x,a as u}from"./swiper-CkOD4_3z.js";import{C as h,S as y,u as g}from"./swiper-sync-context-EsBNRQTf.js";import{c as w}from"./utils-CDN07tui.js";import"./preload-helper-PPVm8Dsz.js";const o=["Page 1","Page 2","Page 3"];function j(){const[i,a]=p.useState(null),[n,l]=p.useState(null),[t,c]=p.useState(0);return e.jsxs("div",{className:"flex flex-col gap-8 p-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"方案一：Controller 模块（官方推荐）"}),e.jsxs("div",{className:"bg-muted rounded-lg p-4 font-mono text-sm",children:[e.jsxs("div",{children:["Progress: ",t.toFixed(3)]}),e.jsxs("div",{children:["Active Index: ",Math.round(t*(o.length-1))]})]}),e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-muted px-4 py-2 text-sm font-medium",children:"主 Swiper"}),e.jsx(x,{className:"h-48",modules:[h],controller:{control:n??void 0},onSwiper:a,onProgress:(s,r)=>c(r),children:o.map(s=>e.jsx(u,{className:"!flex items-center justify-center bg-gradient-to-br from-primary/20 to-primary/5",children:e.jsx("span",{className:"text-2xl font-bold",children:s})},s))})]}),e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-muted px-4 py-2 text-sm font-medium",children:"指示器 Swiper"}),e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(x,{className:"!w-24 !h-8",modules:[h],controller:{control:i??void 0},onSwiper:l,slidesPerView:1,resistance:!0,resistanceRatio:.5,children:o.map((s,r)=>e.jsx(u,{className:"!flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-primary-foreground font-bold",children:r+1})})},s))})})]}),e.jsx("div",{className:"flex gap-2",children:o.map((s,r)=>e.jsxs("button",{onClick:()=>i?.slideTo(r),className:"px-4 py-2 rounded-lg bg-muted hover:bg-muted/80",children:["Go to ",r+1]},r))})]})}function N(){const{onSwiper:i,controlledSwiper:a}=g("main","indicator"),[n,l]=p.useState(0);return e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-muted px-4 py-2 text-sm font-medium",children:"主 Swiper（独立组件）"}),e.jsx(x,{className:"h-48",modules:[h],controller:{control:a},onSwiper:i,onProgress:(t,c)=>l(c),children:o.map(t=>e.jsx(u,{className:"!flex items-center justify-center bg-gradient-to-br from-primary/20 to-primary/5",children:e.jsx("span",{className:"text-2xl font-bold",children:t})},t))}),e.jsxs("div",{className:"px-4 py-2 border-t bg-muted/50 font-mono text-xs",children:["Progress: ",n.toFixed(3)," | Index: ",Math.round(n*(o.length-1))]})]})}function b(){const{onSwiper:i,controlledSwiper:a}=g("indicator","main"),[n,l]=p.useState(0),t=o.length-1,c=s=>{const r=n*t,f=Math.abs(r-s);return Math.max(.3,1-f)};return e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-muted px-4 py-2 text-sm font-medium",children:"指示器 Swiper（独立组件）"}),e.jsxs("div",{className:"flex flex-col items-center gap-2 py-4",children:[e.jsx(x,{className:"!w-24 !h-8",modules:[h],controller:{control:a},onSwiper:i,onProgress:(s,r)=>l(r),slidesPerView:1,resistance:!0,resistanceRatio:.5,children:o.map((s,r)=>e.jsx(u,{className:"!flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center transition-opacity duration-75",style:{opacity:c(r)},children:e.jsx("span",{className:"text-xs text-primary-foreground font-bold",children:r+1})})},s))}),e.jsx("div",{className:"flex items-center gap-1",children:o.map((s,r)=>{const f=Math.round(n*t)===r;return e.jsx("span",{className:w("size-1.5 rounded-full transition-all duration-200",f?"bg-primary scale-125":"bg-muted-foreground/40")},r)})})]})]})}function S(){return e.jsx(y,{children:e.jsxs("div",{className:"flex flex-col gap-8 p-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"方案三：Context 封装模式"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"使用 SwiperSyncProvider + useSwiperMember + Controller 模块实现跨组件同步"}),e.jsx(N,{}),e.jsx(b,{})]})})}j.__docgenInfo={description:"方案一：Swiper Controller 模块（官方推荐）",methods:[],displayName:"SwiperSyncDemo"};S.__docgenInfo={description:"方案三：Context 封装 Demo",methods:[],displayName:"SwiperSyncDemoContext"};const D={title:"Ecosystem/SwiperSyncDemo",component:j,parameters:{layout:"fullscreen"}},d={},m={render:()=>e.jsx(S,{})};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:"{}",...d.parameters?.docs?.source},description:{story:"Controller 模块原理展示",...d.parameters?.docs?.description}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  render: () => <SwiperSyncDemoContext />
}`,...m.parameters?.docs?.source},description:{story:"Context 封装模式（跨组件同步）",...m.parameters?.docs?.description}}};const I=["Controller","ContextMode"];export{m as ContextMode,d as Controller,I as __namedExportsOrder,D as default};
