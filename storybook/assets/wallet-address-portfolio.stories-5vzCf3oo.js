import{j as t,Q as X,b as $,r as W}from"./iframe-CLYHcCRY.js";import{w as c,a as m,e as o}from"./index-BjIXEP53.js";import{W as O,b as p}from"./token-item-DyOE7C1T.js";import{u as H,c as Q,b as Y}from"./chain-config-CJhdu2xl.js";import{A as i}from"./amount-BQsqQYGO.js";import{c as K}from"./index-wSp7Vo6A.js";import"./index-D0E7N0oa.js";import"./preload-helper-PPVm8Dsz.js";import"./utils-CDN07tui.js";import"./wallet-card-lBwrkdsM.js";import"./hologram-canvas-C6Iy-dHW.js";import"./chain-icon-DENF18Nl.js";import"./address-display-BNCYVQQx.js";import"./web-DodBcwRj.js";import"./breakpoint-wIg8UP9C.js";import"./schemas-BX8BzOgD.js";import"./useTranslation-Cb2TYd22.js";import"./index-BII8D0GK.js";import"./IconCheck-B40OcL4a.js";import"./createReactComponent-wBEFsRbv.js";import"./IconCopy-BuWPXw-E.js";import"./IconChevronDown-CFusJApW.js";import"./IconSettings-CfxxGCFZ.js";import"./wallet-selector-CzdfjQ8k.js";import"./wallet-mini-card-IFcPmFMU.js";import"./token-icon-Dr_c_NXn.js";import"./transaction-item-CC63LXFY.js";import"./gradient-button-eh87wLHg.js";import"./index-Cih1Hrsb.js";import"./index-B_jtOnfb.js";import"./loading-spinner-DqC7JCd8.js";import"./empty-state-DX03tGcj.js";import"./skeleton-CAwtnORC.js";import"./amount-display-BRiBavrB.js";import"./NumberFlow-client-48rw3j0J-CN8CXYSF.js";import"./animated-number-DcLSzJ4j.js";import"./time-display-CIVcGCI1.js";import"./qr-code-aEqhiK5l.js";import"./index-Brvk0KZk.js";import"./icon-circle-DgObHDui.js";import"./error-boundary-BC2jZZ2a.js";import"./IconAlertCircle-BRQls_oc.js";import"./IconAlertTriangle-DbB-nqyx.js";import"./IconCircleCheck-7EIB1DCh.js";import"./IconInfoCircle-Brhpw96t.js";import"./button-DwhlsmiW.js";import"./useButton-AYI6L8Mv.js";import"./useRenderElement-VYtBqXlq.js";import"./IconDots-CjJ7rcnq.js";import"./IconShieldCheck-C5gl-f6m.js";import"./IconTrash-EzjdQ8NL.js";import"./IconCoins-DDfrCBdn.js";import"./IconSparkles-enyC7vew.js";import"./web-CGxU7K0N.js";import"./transaction-list-CQpKx25j.js";import"./swipeable-tabs-C9eerlxJ.js";import"./swiper-CkOD4_3z.js";import"./bioforest-uXX5qE5N.js";import"./address-format-DY2duW3A.js";const J=[{symbol:"BFT",name:"BFT",balance:"1234.56789012",decimals:8,chain:"bfmeta"},{symbol:"USDT",name:"USDT",balance:"500.00000000",decimals:8,chain:"bfmeta"},{symbol:"BTC",name:"Bitcoin",balance:"0.00123456",decimals:8,chain:"bfmeta"}],V=[{id:"tx1",type:"receive",status:"confirmed",amount:i.fromRaw("100000000",8,"BFT"),symbol:"BFT",address:"bCfAynSAKhzgKLi3BXyuh5k22GctLR72j",timestamp:new Date(Date.now()-36e5),chain:"bfmeta"},{id:"tx2",type:"send",status:"confirmed",amount:i.fromRaw("50000000",8,"BFT"),symbol:"BFT",address:"bAnotherAddress1234567890abcdef",timestamp:new Date(Date.now()-864e5),chain:"bfmeta"}];i.fromRaw("546",8,"BTC"),new Date(Date.now()-6e5),i.fromRaw("546",8,"BTC"),i.fromRaw("546",8,"BTC"),i.fromRaw("12168",8,"BTC");const _=[{id:"caacd034fd600a9a66cb9c841f39b81101e97e23068c8d73152f8741654139e1",type:"send",status:"confirmed",amount:i.fromRaw("149000000",6,"TRX"),symbol:"TRX",address:"TF17BgPaZYbz8oxbjhriubPDsA7ArKoLX3",timestamp:new Date(176769114e4),chain:"tron"},{id:"2b8d0c9e7f3a1b5e4d6c8a9f0e1d2c3b4a5f6e7d8c9b0a1f2e3d4c5b6a7f8e9d",type:"receive",status:"confirmed",amount:i.fromRaw("500000000",6,"TRX"),symbol:"TRX",address:"TAnahWWRPm6jhiYR6gMCE3eLDqL8LfCnVE",timestamp:new Date(176768e7),chain:"tron"},{id:"3c9e1d0f8a2b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d",type:"send",status:"confirmed",amount:i.fromRaw("1000000000",6,"TRX"),symbol:"TRX",address:"TRkJg1B9WgM8uXzthJJhBhX7K1GBqH9dXb",timestamp:new Date(176767e7),chain:"tron"}],Z=[{id:"0x1a2b3c4d5e6f7890abcdef1234567890abcdef1234567890abcdef1234567890",type:"send",status:"confirmed",amount:i.fromRaw("1000000000000000000",18,"ETH"),symbol:"ETH",address:"0x742d35Cc6634C0532925a3b844Bc9e7595f2bD38",timestamp:new Date(Date.now()-72e5),chain:"ethereum"},{id:"0x2b3c4d5e6f78901abcdef2345678901abcdef2345678901abcdef2345678901",type:"receive",status:"confirmed",amount:i.fromRaw("5000000000000000000",18,"ETH"),symbol:"ETH",address:"0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE",timestamp:new Date(Date.now()-864e5),chain:"ethereum"},{id:"0x3c4d5e6f789012abcdef3456789012abcdef3456789012abcdef3456789012",type:"send",status:"confirmed",amount:i.fromRaw("100000000",6,"USDC"),symbol:"USDC",address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",timestamp:new Date(Date.now()-1728e5),chain:"ethereum"}],ee=[{id:"0xbsc1234567890abcdef1234567890abcdef1234567890abcdef1234567890ab",type:"receive",status:"confirmed",amount:i.fromRaw("10000000000000000000",18,"BNB"),symbol:"BNB",address:"0x8894E0a0c962CB723c1976a4421c95949bE2D4E3",timestamp:new Date(Date.now()-36e5),chain:"binance"},{id:"0xbsc2345678901abcdef2345678901abcdef2345678901abcdef2345678901bc",type:"send",status:"confirmed",amount:i.fromRaw("5000000000000000000",18,"BNB"),symbol:"BNB",address:"0x28C6c06298d514Db089934071355E5743bf21d60",timestamp:new Date(Date.now()-144e5),chain:"binance"}];function z({children:a}){const e=H(),[n,r]=W.useState(!1);return W.useEffect(()=>{!n&&!e.snapshot&&!e.isLoading&&(r(!0),K(),Q.initialize())},[n,e.snapshot,e.isLoading]),e.error?t.jsx("div",{"data-testid":"chain-config-error",className:"flex h-96 items-center justify-center p-4",children:t.jsxs("div",{className:"text-destructive text-center",children:[t.jsx("p",{className:"font-medium",children:"Chain config error"}),t.jsx("p",{className:"text-sm",children:e.error})]})}):e.snapshot?t.jsx(t.Fragment,{children:a}):t.jsx("div",{"data-testid":"chain-config-loading",className:"flex h-96 items-center justify-center",children:t.jsx("div",{className:"text-muted-foreground text-center",children:t.jsx("p",{children:"Loading chain configuration..."})})})}const ae={ethereum:"0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045",tron:"TN3W4H6rK2ce4vX9YnFQHwKENnHjoxb3m9",bitcoin:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa",binance:"0x8894E0a0c962CB723c1976a4421c95949bE2D4E3",bfmeta:"bCfAynSAKhzgKLi3BXyuh5k22GctLR72j"};function te(a){const e=a.config&&"apiKeyEnv"in a.config?a.config.apiKeyEnv:void 0;return e?`${a.type} (${e})`:a.type}function ne(a){return a.apis.map((e,n)=>({...a,id:`${a.id}-api-${n}-${e.type}`,name:`${a.name} (${e.type})`,apis:[e],enabled:!0,source:"manual"}))}function re({chainId:a}){const e=H(),[n,r]=W.useState(!1);return W.useEffect(()=>{if(!e.snapshot||n)return;const s=e.snapshot.configs.find(l=>l.id===a);if(!s)return;if(e.snapshot.configs.some(l=>l.id===`${a}-api-0-${s.apis[0]?.type}`)){r(!0);return}const M=ne(s);Y.setState(l=>l.snapshot?{...l,snapshot:{...l.snapshot,configs:[...l.snapshot.configs,...M]}}:l),K(),r(!0)},[e.snapshot,n,a]),null}function oe({api:a,baseConfig:e,index:n,address:r}){const s=`${e.id}-api-${n}-${a.type}`,d=`cmp-${e.id}-${a.type}`;return t.jsxs("div",{className:"flex h-[640px] min-h-0 flex-col overflow-hidden rounded-xl border bg-background",children:[t.jsxs("div",{className:"shrink-0 border-b px-4 py-3",children:[t.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"truncate text-sm font-semibold",children:a.type}),t.jsx("p",{className:"text-muted-foreground truncate text-xs",children:a.endpoint})]}),t.jsxs("p",{className:"text-muted-foreground shrink-0 text-xs",children:["#",n]})]}),t.jsx("p",{className:"text-muted-foreground mt-1 line-clamp-1 text-xs",children:te(a)})]}),t.jsx(p,{chainId:s,address:r,chainName:e.name,testId:d,className:"flex-1 min-h-0"})]})}function h({chainId:a}){const n=H().snapshot?.configs.find(s=>s.id===a);if(!n)return t.jsxs("div",{className:"p-4 text-muted-foreground",children:["Chain config not found: ",a]});const r=ae[a]??"";return t.jsxs("div",{className:"space-y-4 p-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h2",{className:"text-lg font-semibold",children:n.name}),t.jsxs("p",{className:"text-muted-foreground text-sm",children:["Comparing ",n.apis.length," provider(s) from default-chains.json"]}),t.jsx("p",{className:"text-muted-foreground font-mono text-xs",children:r})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.apis.map((s,d)=>t.jsx(oe,{api:s,baseConfig:n,index:d,address:r},`${s.type}-${d}`))})]})}const U=()=>new $({defaultOptions:{queries:{retry:!1,staleTime:0}}}),f=a=>t.jsx(X,{client:U(),children:t.jsx(z,{children:t.jsx("div",{className:"bg-background mx-auto min-h-screen max-w-md",children:t.jsx(a,{})})})}),b=a=>e=>t.jsx(X,{client:U(),children:t.jsxs(z,{children:[t.jsx(re,{chainId:a}),t.jsx("div",{className:"bg-background mx-auto min-h-screen max-w-6xl",children:t.jsx(e,{})})]})}),da={title:"Wallet/WalletAddressPortfolio",component:O,parameters:{layout:"fullscreen"},tags:["autodocs"]},y={args:{chainId:"bfmeta",chainName:"BFMeta",tokens:J,transactions:V}},B={args:{chainId:"bfmeta",chainName:"BFMeta",tokens:[],transactions:[],tokensLoading:!0,transactionsLoading:!0},play:async({canvasElement:a})=>{const e=c(a);await m(()=>{const n=e.getByTestId("wallet-address-portfolio");o(n).toBeVisible();const r=n.querySelectorAll(".animate-pulse");o(r.length).toBeGreaterThan(0)})}},g={args:{chainId:"bfmeta",chainName:"BFMeta",tokens:[],transactions:[]},play:async({canvasElement:a})=>{const e=c(a);await m(()=>{const n=e.getByTestId("wallet-address-portfolio-token-list-empty");o(n).toBeVisible()})}},k={name:"Real Data: biochain-bfmeta",decorators:[f],parameters:{chromatic:{delay:5e3},docs:{description:{story:"Fetches real token balances and transactions from BFMeta chain using the actual chainProvider API."}}},render:()=>t.jsx(p,{chainId:"bfmeta",address:"bCfAynSAKhzgKLi3BXyuh5k22GctLR72j",chainName:"BFMeta",testId:"bfmeta-portfolio"}),play:async({canvasElement:a})=>{const e=c(a);await m(()=>{const n=e.getByTestId("bfmeta-portfolio");o(n).toBeVisible();const r=e.queryByTestId("bfmeta-portfolio-token-list"),s=e.queryByTestId("bfmeta-portfolio-token-list-empty"),d=n.querySelector(".animate-pulse");if(o(r||s||d).not.toBeNull(),r){const M=r.querySelectorAll('[data-testid^="token-item-"]');o(M.length).toBeGreaterThan(0)}},{timeout:15e3})}},v={name:"Real Data: eth-eth",decorators:[f],parameters:{chromatic:{delay:5e3},docs:{description:{story:"Fetches real token balances and transactions from Ethereum mainnet using blockscout API. Uses Vitalik address for real ETH transfers."}}},render:()=>t.jsx(p,{chainId:"ethereum",address:"0x75a6F48BF634868b2980c97CcEf467A127597e08",chainName:"Ethereum",testId:"ethereum-portfolio"}),play:async({canvasElement:a})=>{const e=c(a);await m(()=>{const n=e.getByTestId("ethereum-portfolio");o(n).toBeVisible();const r=e.queryByTestId("ethereum-portfolio-token-list");o(r).not.toBeNull();const s=r?.querySelectorAll('[data-testid^="token-item-"]');o(s?.length).toBeGreaterThan(0)},{timeout:15e3})}},T={name:"Real Data: bitcoin",decorators:[f],parameters:{chromatic:{delay:5e3},docs:{description:{story:"Fetches real balance and transactions from Bitcoin mainnet using mempool.space API."}}},render:()=>t.jsx(p,{chainId:"bitcoin",address:"bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq",chainName:"Bitcoin",testId:"bitcoin-portfolio"}),play:async({canvasElement:a})=>{const e=c(a);await m(()=>{const n=e.getByTestId("bitcoin-portfolio");o(n).toBeVisible();const r=e.queryByTestId("bitcoin-portfolio-token-list");o(r).not.toBeNull();const s=r?.querySelectorAll('[data-testid^="token-item-"]');o(s?.length).toBeGreaterThan(0)},{timeout:15e3})}},x={name:"Real Data: tron",decorators:[f],parameters:{chromatic:{delay:5e3},docs:{description:{story:"Fetches real balance and transactions from Tron mainnet using TronGrid API."}}},render:()=>t.jsx(p,{chainId:"tron",address:"TN3W4H6rK2ce4vX9YnFQHwKENnHjoxb3m9",chainName:"Tron",testId:"tron-portfolio"}),play:async({canvasElement:a})=>{const e=c(a);await m(()=>{const n=e.getByTestId("tron-portfolio");o(n).toBeVisible();const r=e.queryByTestId("tron-portfolio-token-list");o(r).not.toBeNull();const s=r?.querySelectorAll('[data-testid^="token-item-"]');o(s?.length).toBeGreaterThan(0)},{timeout:15e3})}},w={name:"Real Data: binance",decorators:[f],parameters:{chromatic:{delay:5e3},docs:{description:{story:"Fetches real BNB balance from BSC mainnet using public RPC."}}},render:()=>t.jsx(p,{chainId:"binance",address:"0x8894E0a0c962CB723c1976a4421c95949bE2D4E3",chainName:"BNB Smart Chain",testId:"binance-portfolio"}),play:async({canvasElement:a})=>{const e=c(a);await m(()=>{const n=e.getByTestId("binance-portfolio");o(n).toBeVisible();const r=e.queryByTestId("binance-portfolio-token-list");o(r).not.toBeNull();const s=r?.querySelectorAll('[data-testid^="token-item-"]');o(s?.length).toBeGreaterThan(0)},{timeout:15e3})}},E={name:"Compare Providers: BFMeta",decorators:[b("bfmeta")],parameters:{chromatic:{delay:8e3},docs:{description:{story:"Dynamically compares all providers configured in default-chains.json for BFMeta chain."}}},render:()=>t.jsx(h,{chainId:"bfmeta"})},S={name:"Compare Providers: Ethereum",decorators:[b("ethereum")],parameters:{chromatic:{delay:8e3},docs:{description:{story:"Dynamically compares all providers configured in default-chains.json for Ethereum chain."}}},render:()=>t.jsx(h,{chainId:"ethereum"})},I={name:"Compare Providers: Tron",decorators:[b("tron")],parameters:{chromatic:{delay:8e3},docs:{description:{story:"Dynamically compares all providers configured in default-chains.json for Tron chain."}}},render:()=>t.jsx(h,{chainId:"tron"})},F={name:"Compare Providers: Bitcoin",decorators:[b("bitcoin")],parameters:{chromatic:{delay:8e3},docs:{description:{story:"Dynamically compares all providers configured in default-chains.json for Bitcoin chain."}}},render:()=>t.jsx(h,{chainId:"bitcoin"})},N={name:"Compare Providers: Binance",decorators:[b("binance")],parameters:{chromatic:{delay:8e3},docs:{description:{story:"Dynamically compares all providers configured in default-chains.json for BNB Smart Chain."}}},render:()=>t.jsx(h,{chainId:"binance"})},u={name:"BFMeta - Normal Data",args:{chainId:"bfmeta",chainName:"BFMeta",tokens:[{symbol:"BFT",name:"BFT",balance:"1234.56789012",decimals:8,chain:"bfmeta"},{symbol:"USDT",name:"USDT",balance:"500.00",decimals:8,chain:"bfmeta"}],transactions:V,tokensSupported:!0,transactionsSupported:!0}},D={name:"BFMeta - Fallback Warning",args:{chainId:"bfmeta",chainName:"BFMeta",tokens:[{symbol:"BFT",name:"BFT",balance:"0",decimals:8,chain:"bfmeta"}],transactions:[],tokensSupported:!1,tokensFallbackReason:"All 2 provider(s) failed. Last error: Connection timeout",transactionsSupported:!1,transactionsFallbackReason:"No provider implements getTransactionHistory"},play:async({canvasElement:a})=>{const e=c(a);await m(()=>{o(e.getAllByTestId("provider-fallback-warning").length).toBeGreaterThanOrEqual(1)})}},C={name:"Ethereum - Normal Data (23.68 ETH)",args:{chainId:"ethereum",chainName:"Ethereum",tokens:[{symbol:"ETH",name:"Ethereum",balance:"23.683156206881918",decimals:18,chain:"ethereum"},{symbol:"USDC",name:"USD Coin",balance:"1500.00",decimals:6,chain:"ethereum"}],transactions:Z,tokensSupported:!0,transactionsSupported:!0}},P={name:"Ethereum - Fallback Warning",args:{chainId:"ethereum",chainName:"Ethereum",tokens:[{symbol:"ETH",name:"Ethereum",balance:"0",decimals:18,chain:"ethereum"}],transactions:[],tokensSupported:!1,tokensFallbackReason:"All providers failed: ethereum-rpc timeout, etherscan rate limited",transactionsSupported:!1,transactionsFallbackReason:"Blockscout API returned 503"},play:async({canvasElement:a})=>{const e=c(a);await m(()=>{o(e.getAllByTestId("provider-fallback-warning").length).toBeGreaterThanOrEqual(1)})}},j={name:"Binance - Normal Data (234.08 BNB)",args:{chainId:"binance",chainName:"BNB Smart Chain",tokens:[{symbol:"BNB",name:"BNB",balance:"234.084063038409",decimals:18,chain:"binance"},{symbol:"BUSD",name:"BUSD",balance:"2000.00",decimals:18,chain:"binance"}],transactions:ee,tokensSupported:!0,transactionsSupported:!0}},A={name:"Binance - Fallback Warning",args:{chainId:"binance",chainName:"BNB Smart Chain",tokens:[{symbol:"BNB",name:"BNB",balance:"0",decimals:18,chain:"binance"}],transactions:[],tokensSupported:!1,tokensFallbackReason:"BSC RPC node unreachable",transactionsSupported:!1,transactionsFallbackReason:"BscScan API key exhausted"},play:async({canvasElement:a})=>{const e=c(a);await m(()=>{o(e.getAllByTestId("provider-fallback-warning").length).toBeGreaterThanOrEqual(1)})}},R={name:"Tron - Normal Data (163,377 TRX)",args:{chainId:"tron",chainName:"Tron",tokens:[{symbol:"TRX",name:"Tron",balance:"163377.648279",decimals:6,chain:"tron"},{symbol:"USDT",name:"Tether",balance:"10000.00",decimals:6,chain:"tron"}],transactions:_,tokensSupported:!0,transactionsSupported:!0}},q={name:"Tron - Fallback Warning",args:{chainId:"tron",chainName:"Tron",tokens:[{symbol:"TRX",name:"Tron",balance:"0",decimals:6,chain:"tron"}],transactions:[],tokensSupported:!1,tokensFallbackReason:"TronGrid API rate limit exceeded",transactionsSupported:!1,transactionsFallbackReason:"All Tron providers failed"},play:async({canvasElement:a})=>{const e=c(a);await m(()=>{o(e.getAllByTestId("provider-fallback-warning").length).toBeGreaterThanOrEqual(1)})}},L={name:"Partial Fallback - Tokens OK, Transactions Failed",args:{chainId:"ethereum",chainName:"Ethereum",tokens:[{symbol:"ETH",name:"Ethereum",balance:"5.5",decimals:18,chain:"ethereum"}],transactions:[],tokensSupported:!0,transactionsSupported:!1,transactionsFallbackReason:"Etherscan API key invalid"}},G={name:"Empty Data - No Warning (Provider OK)",args:{chainId:"ethereum",chainName:"Ethereum",tokens:[],transactions:[],tokensSupported:!0,transactionsSupported:!0},play:async({canvasElement:a})=>{const e=c(a);await m(()=>{o(e.queryAllByTestId("provider-fallback-warning")).toHaveLength(0)})}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  args: {
    chainId: 'bfmeta',
    chainName: 'BFMeta',
    tokens: mockTokens,
    transactions: mockTransactions
  }
}`,...y.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  args: {
    chainId: 'bfmeta',
    chainName: 'BFMeta',
    tokens: [],
    transactions: [],
    tokensLoading: true,
    transactionsLoading: true
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      const portfolio = canvas.getByTestId('wallet-address-portfolio');
      expect(portfolio).toBeVisible();
      const pulsingElements = portfolio.querySelectorAll('.animate-pulse');
      expect(pulsingElements.length).toBeGreaterThan(0);
    });
  }
}`,...B.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: {
    chainId: 'bfmeta',
    chainName: 'BFMeta',
    tokens: [],
    transactions: []
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      const emptyState = canvas.getByTestId('wallet-address-portfolio-token-list-empty');
      expect(emptyState).toBeVisible();
    });
  }
}`,...g.parameters?.docs?.source}}};k.parameters={...k.parameters,docs:{...k.parameters?.docs,source:{originalSource:`{
  name: 'Real Data: biochain-bfmeta',
  decorators: [withChainConfig],
  parameters: {
    chromatic: {
      delay: 5000
    },
    docs: {
      description: {
        story: 'Fetches real token balances and transactions from BFMeta chain using the actual chainProvider API.'
      }
    }
  },
  render: () => <WalletAddressPortfolioFromProvider chainId="bfmeta" address="bCfAynSAKhzgKLi3BXyuh5k22GctLR72j" chainName="BFMeta" testId="bfmeta-portfolio" />,
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);

    // Wait for data to load - check component renders without error
    await waitFor(() => {
      const portfolio = canvas.getByTestId('bfmeta-portfolio');
      expect(portfolio).toBeVisible();

      // Check loading finished (either has tokens, empty state, or loading skeleton stopped)
      const tokenList = canvas.queryByTestId('bfmeta-portfolio-token-list');
      const tokenEmpty = canvas.queryByTestId('bfmeta-portfolio-token-list-empty');
      const loading = portfolio.querySelector('.animate-pulse');

      // Should have either: token list, empty state, or still loading
      expect(tokenList || tokenEmpty || loading).not.toBeNull();

      // If token list exists, verify it has items
      if (tokenList) {
        const tokenItems = tokenList.querySelectorAll('[data-testid^="token-item-"]');
        expect(tokenItems.length).toBeGreaterThan(0);
      }
    }, {
      timeout: 15000
    });
  }
}`,...k.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  name: 'Real Data: eth-eth',
  decorators: [withChainConfig],
  parameters: {
    chromatic: {
      delay: 5000
    },
    docs: {
      description: {
        story: 'Fetches real token balances and transactions from Ethereum mainnet using blockscout API. Uses Vitalik address for real ETH transfers.'
      }
    }
  },
  render: () => <WalletAddressPortfolioFromProvider chainId="ethereum" address="0x75a6F48BF634868b2980c97CcEf467A127597e08" chainName="Ethereum" testId="ethereum-portfolio" />,
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      const portfolio = canvas.getByTestId('ethereum-portfolio');
      expect(portfolio).toBeVisible();

      // Verify token list exists with actual tokens
      const tokenList = canvas.queryByTestId('ethereum-portfolio-token-list');
      expect(tokenList).not.toBeNull();
      const tokenItems = tokenList?.querySelectorAll('[data-testid^="token-item-"]');
      expect(tokenItems?.length).toBeGreaterThan(0);
    }, {
      timeout: 15000
    });
  }
}`,...v.parameters?.docs?.source}}};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:`{
  name: 'Real Data: bitcoin',
  decorators: [withChainConfig],
  parameters: {
    chromatic: {
      delay: 5000
    },
    docs: {
      description: {
        story: 'Fetches real balance and transactions from Bitcoin mainnet using mempool.space API.'
      }
    }
  },
  render: () => <WalletAddressPortfolioFromProvider chainId="bitcoin" address="bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq" chainName="Bitcoin" testId="bitcoin-portfolio" />,
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      const portfolio = canvas.getByTestId('bitcoin-portfolio');
      expect(portfolio).toBeVisible();

      // Verify token list exists with BTC balance
      const tokenList = canvas.queryByTestId('bitcoin-portfolio-token-list');
      expect(tokenList).not.toBeNull();
      const tokenItems = tokenList?.querySelectorAll('[data-testid^="token-item-"]');
      expect(tokenItems?.length).toBeGreaterThan(0);
    }, {
      timeout: 15000
    });
  }
}`,...T.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  name: 'Real Data: tron',
  decorators: [withChainConfig],
  parameters: {
    chromatic: {
      delay: 5000
    },
    docs: {
      description: {
        story: 'Fetches real balance and transactions from Tron mainnet using TronGrid API.'
      }
    }
  },
  render: () => <WalletAddressPortfolioFromProvider chainId="tron" address="TN3W4H6rK2ce4vX9YnFQHwKENnHjoxb3m9" chainName="Tron" testId="tron-portfolio" />,
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      const portfolio = canvas.getByTestId('tron-portfolio');
      expect(portfolio).toBeVisible();

      // Verify token list exists with TRX balance
      const tokenList = canvas.queryByTestId('tron-portfolio-token-list');
      expect(tokenList).not.toBeNull();
      const tokenItems = tokenList?.querySelectorAll('[data-testid^="token-item-"]');
      expect(tokenItems?.length).toBeGreaterThan(0);
    }, {
      timeout: 15000
    });
  }
}`,...x.parameters?.docs?.source}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  name: 'Real Data: binance',
  decorators: [withChainConfig],
  parameters: {
    chromatic: {
      delay: 5000
    },
    docs: {
      description: {
        story: 'Fetches real BNB balance from BSC mainnet using public RPC.'
      }
    }
  },
  render: () => <WalletAddressPortfolioFromProvider chainId="binance" address="0x8894E0a0c962CB723c1976a4421c95949bE2D4E3" chainName="BNB Smart Chain" testId="binance-portfolio" />,
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      const portfolio = canvas.getByTestId('binance-portfolio');
      expect(portfolio).toBeVisible();

      // Verify token list exists with BNB balance
      const tokenList = canvas.queryByTestId('binance-portfolio-token-list');
      expect(tokenList).not.toBeNull();
      const tokenItems = tokenList?.querySelectorAll('[data-testid^="token-item-"]');
      expect(tokenItems?.length).toBeGreaterThan(0);
    }, {
      timeout: 15000
    });
  }
}`,...w.parameters?.docs?.source}}};E.parameters={...E.parameters,docs:{...E.parameters?.docs,source:{originalSource:`{
  name: 'Compare Providers: BFMeta',
  decorators: [createCompareDecorator('bfmeta')],
  parameters: {
    chromatic: {
      delay: 8000
    },
    docs: {
      description: {
        story: 'Dynamically compares all providers configured in default-chains.json for BFMeta chain.'
      }
    }
  },
  render: () => <DynamicCompareProvidersGrid chainId="bfmeta" />
}`,...E.parameters?.docs?.source}}};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:`{
  name: 'Compare Providers: Ethereum',
  decorators: [createCompareDecorator('ethereum')],
  parameters: {
    chromatic: {
      delay: 8000
    },
    docs: {
      description: {
        story: 'Dynamically compares all providers configured in default-chains.json for Ethereum chain.'
      }
    }
  },
  render: () => <DynamicCompareProvidersGrid chainId="ethereum" />
}`,...S.parameters?.docs?.source}}};I.parameters={...I.parameters,docs:{...I.parameters?.docs,source:{originalSource:`{
  name: 'Compare Providers: Tron',
  decorators: [createCompareDecorator('tron')],
  parameters: {
    chromatic: {
      delay: 8000
    },
    docs: {
      description: {
        story: 'Dynamically compares all providers configured in default-chains.json for Tron chain.'
      }
    }
  },
  render: () => <DynamicCompareProvidersGrid chainId="tron" />
}`,...I.parameters?.docs?.source}}};F.parameters={...F.parameters,docs:{...F.parameters?.docs,source:{originalSource:`{
  name: 'Compare Providers: Bitcoin',
  decorators: [createCompareDecorator('bitcoin')],
  parameters: {
    chromatic: {
      delay: 8000
    },
    docs: {
      description: {
        story: 'Dynamically compares all providers configured in default-chains.json for Bitcoin chain.'
      }
    }
  },
  render: () => <DynamicCompareProvidersGrid chainId="bitcoin" />
}`,...F.parameters?.docs?.source}}};N.parameters={...N.parameters,docs:{...N.parameters?.docs,source:{originalSource:`{
  name: 'Compare Providers: Binance',
  decorators: [createCompareDecorator('binance')],
  parameters: {
    chromatic: {
      delay: 8000
    },
    docs: {
      description: {
        story: 'Dynamically compares all providers configured in default-chains.json for BNB Smart Chain.'
      }
    }
  },
  render: () => <DynamicCompareProvidersGrid chainId="binance" />
}`,...N.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  name: 'BFMeta - Normal Data',
  args: {
    chainId: 'bfmeta',
    chainName: 'BFMeta',
    tokens: [{
      symbol: 'BFT',
      name: 'BFT',
      balance: '1234.56789012',
      decimals: 8,
      chain: 'bfmeta'
    }, {
      symbol: 'USDT',
      name: 'USDT',
      balance: '500.00',
      decimals: 8,
      chain: 'bfmeta'
    }],
    transactions: mockTransactions,
    tokensSupported: true,
    transactionsSupported: true
  }
}`,...u.parameters?.docs?.source},description:{story:`ProviderFallbackWarning 截图验证 Stories

覆盖四种主要链的各种场景：
1. 正常数据（supported: true）
2. Fallback 警告（supported: false）`,...u.parameters?.docs?.description}}};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  name: 'BFMeta - Fallback Warning',
  args: {
    chainId: 'bfmeta',
    chainName: 'BFMeta',
    tokens: [{
      symbol: 'BFT',
      name: 'BFT',
      balance: '0',
      decimals: 8,
      chain: 'bfmeta'
    }],
    transactions: [],
    tokensSupported: false,
    tokensFallbackReason: 'All 2 provider(s) failed. Last error: Connection timeout',
    transactionsSupported: false,
    transactionsFallbackReason: 'No provider implements getTransactionHistory'
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      expect(canvas.getAllByTestId('provider-fallback-warning').length).toBeGreaterThanOrEqual(1);
    });
  }
}`,...D.parameters?.docs?.source}}};C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:`{
  name: 'Ethereum - Normal Data (23.68 ETH)',
  args: {
    chainId: 'ethereum',
    chainName: 'Ethereum',
    tokens: [{
      symbol: 'ETH',
      name: 'Ethereum',
      balance: '23.683156206881918',
      decimals: 18,
      chain: 'ethereum'
    }, {
      symbol: 'USDC',
      name: 'USD Coin',
      balance: '1500.00',
      decimals: 6,
      chain: 'ethereum'
    }],
    transactions: mockEthereumTransactions,
    tokensSupported: true,
    transactionsSupported: true
  }
}`,...C.parameters?.docs?.source}}};P.parameters={...P.parameters,docs:{...P.parameters?.docs,source:{originalSource:`{
  name: 'Ethereum - Fallback Warning',
  args: {
    chainId: 'ethereum',
    chainName: 'Ethereum',
    tokens: [{
      symbol: 'ETH',
      name: 'Ethereum',
      balance: '0',
      decimals: 18,
      chain: 'ethereum'
    }],
    transactions: [],
    tokensSupported: false,
    tokensFallbackReason: 'All providers failed: ethereum-rpc timeout, etherscan rate limited',
    transactionsSupported: false,
    transactionsFallbackReason: 'Blockscout API returned 503'
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      expect(canvas.getAllByTestId('provider-fallback-warning').length).toBeGreaterThanOrEqual(1);
    });
  }
}`,...P.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  name: 'Binance - Normal Data (234.08 BNB)',
  args: {
    chainId: 'binance',
    chainName: 'BNB Smart Chain',
    tokens: [{
      symbol: 'BNB',
      name: 'BNB',
      balance: '234.084063038409',
      decimals: 18,
      chain: 'binance'
    }, {
      symbol: 'BUSD',
      name: 'BUSD',
      balance: '2000.00',
      decimals: 18,
      chain: 'binance'
    }],
    transactions: mockBinanceTransactions,
    tokensSupported: true,
    transactionsSupported: true
  }
}`,...j.parameters?.docs?.source}}};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:`{
  name: 'Binance - Fallback Warning',
  args: {
    chainId: 'binance',
    chainName: 'BNB Smart Chain',
    tokens: [{
      symbol: 'BNB',
      name: 'BNB',
      balance: '0',
      decimals: 18,
      chain: 'binance'
    }],
    transactions: [],
    tokensSupported: false,
    tokensFallbackReason: 'BSC RPC node unreachable',
    transactionsSupported: false,
    transactionsFallbackReason: 'BscScan API key exhausted'
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      expect(canvas.getAllByTestId('provider-fallback-warning').length).toBeGreaterThanOrEqual(1);
    });
  }
}`,...A.parameters?.docs?.source}}};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`{
  name: 'Tron - Normal Data (163,377 TRX)',
  args: {
    chainId: 'tron',
    chainName: 'Tron',
    tokens: [{
      symbol: 'TRX',
      name: 'Tron',
      balance: '163377.648279',
      decimals: 6,
      chain: 'tron'
    }, {
      symbol: 'USDT',
      name: 'Tether',
      balance: '10000.00',
      decimals: 6,
      chain: 'tron'
    }],
    transactions: mockTronTransactions,
    tokensSupported: true,
    transactionsSupported: true
  }
}`,...R.parameters?.docs?.source}}};q.parameters={...q.parameters,docs:{...q.parameters?.docs,source:{originalSource:`{
  name: 'Tron - Fallback Warning',
  args: {
    chainId: 'tron',
    chainName: 'Tron',
    tokens: [{
      symbol: 'TRX',
      name: 'Tron',
      balance: '0',
      decimals: 6,
      chain: 'tron'
    }],
    transactions: [],
    tokensSupported: false,
    tokensFallbackReason: 'TronGrid API rate limit exceeded',
    transactionsSupported: false,
    transactionsFallbackReason: 'All Tron providers failed'
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      expect(canvas.getAllByTestId('provider-fallback-warning').length).toBeGreaterThanOrEqual(1);
    });
  }
}`,...q.parameters?.docs?.source}}};L.parameters={...L.parameters,docs:{...L.parameters?.docs,source:{originalSource:`{
  name: 'Partial Fallback - Tokens OK, Transactions Failed',
  args: {
    chainId: 'ethereum',
    chainName: 'Ethereum',
    tokens: [{
      symbol: 'ETH',
      name: 'Ethereum',
      balance: '5.5',
      decimals: 18,
      chain: 'ethereum'
    }],
    transactions: [],
    tokensSupported: true,
    // 余额查询成功
    transactionsSupported: false,
    // 交易历史查询失败
    transactionsFallbackReason: 'Etherscan API key invalid'
  }
}`,...L.parameters?.docs?.source}}};G.parameters={...G.parameters,docs:{...G.parameters?.docs,source:{originalSource:`{
  name: 'Empty Data - No Warning (Provider OK)',
  args: {
    chainId: 'ethereum',
    chainName: 'Ethereum',
    tokens: [],
    transactions: [],
    tokensSupported: true,
    // Provider 正常，只是没数据
    transactionsSupported: true
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    await waitFor(() => {
      // 应该没有警告
      expect(canvas.queryAllByTestId('provider-fallback-warning')).toHaveLength(0);
    });
  }
}`,...G.parameters?.docs?.source}}};const pa=["Default","Loading","Empty","RealDataBfmeta","RealDataEthereum","RealDataBitcoin","RealDataTron","RealDataBinance","CompareProvidersBfmeta","CompareProvidersEthereum","CompareProvidersTron","CompareProvidersBitcoin","CompareProvidersBinance","BFMetaNormalData","BFMetaFallbackWarning","EthereumNormalData","EthereumFallbackWarning","BinanceNormalData","BinanceFallbackWarning","TronNormalData","TronFallbackWarning","PartialFallback","EmptyButSupported"];export{D as BFMetaFallbackWarning,u as BFMetaNormalData,A as BinanceFallbackWarning,j as BinanceNormalData,E as CompareProvidersBfmeta,N as CompareProvidersBinance,F as CompareProvidersBitcoin,S as CompareProvidersEthereum,I as CompareProvidersTron,y as Default,g as Empty,G as EmptyButSupported,P as EthereumFallbackWarning,C as EthereumNormalData,B as Loading,L as PartialFallback,k as RealDataBfmeta,w as RealDataBinance,T as RealDataBitcoin,v as RealDataEthereum,x as RealDataTron,q as TronFallbackWarning,R as TronNormalData,pa as __namedExportsOrder,da as default};
