import{r as p,j as z}from"./iframe-CLYHcCRY.js";import{g as Qt,e as Mr,c as Sr,S as Tr,a as Or}from"./swiper-CkOD4_3z.js";import{W as Pr}from"./wallet-card-lBwrkdsM.js";import{u as Ir}from"./useWalletTheme-7pNeJVjW.js";import{r as Ar}from"./chain-config-CJhdu2xl.js";import{c as en}from"./utils-CDN07tui.js";import{r as ct}from"./index-VP7EfRUW.js";import{A as tn,x as be,y as ft,z as ze,B as Ue,D as wt,E as dt,G as kr,P as In,H as mt,J as Ke,K as An,L as Et,k as ve,j as Lt,M as Lr,N as Dr,O as tt,Q as Fr,S as Nr,T as _r,U as Ie,V as Hr,W as $r,X as jr,Y as Br,Z as Vr,_ as Wr,$ as zr,a0 as Ur,u as qr,F as Kr,t as Yr,p as kn,a as Xr,b as Gr,a1 as Ct,a2 as Zr,a3 as Jr,I as Qr,i as eo,a4 as to,R as no,n as me,o as ro,a5 as Ln,q as oo,a6 as Dn,c as so,d as io,e as ao,l as co,f as lo,h as uo,g as fo,a7 as mo,m as Fn,a8 as go,a9 as po,r as ho,s as yo,aa as xo,ab as bo,ac as vo,ad as Ro,ae as mn,af as gn,ag as wo}from"./useOpenInteractionType-BSW3JM8p.js";import{q as Kt,d as le,v as We,l as qe,w as pn,n as Be,i as Le,r as Nn,x as nn,p as nt,o as lt,y as Eo,z as _n,A as Co,h as rn,t as on,B as Dt,e as Mt,b as te,a as ie,C as St,f as gt,m as Yt,k as Hn,u as pt,E as ht}from"./useRenderElement-VYtBqXlq.js";import{b as $n,c as ue,g as Tt,d as jn,e as Bn,t as Ae,l as vt,f as Ot,h as Vn,u as Wn,o as Mo,s as st,i as So,j as To}from"./useBaseUiId-BsjBUoJJ.js";import{u as zn,a as Un}from"./useButton-AYI6L8Mv.js";/* empty css                     */import{I as Oo}from"./IconWallet-CS41G0Hm.js";import{I as Po}from"./IconPlus-DG2MtlDx.js";import{c as qn}from"./createReactComponent-wBEFsRbv.js";import{I as Io}from"./IconSearch-BkKI6Cti.js";const Ao=[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],ko=qn("outline","dots-vertical","DotsVertical",Ao);const Lo=[["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16l-3 -2l-2 2l-2 -2l-2 2l-2 -2l-3 2m4 -14h6m-6 4h6m-2 4h2",key:"svg-0"}]],Do=qn("outline","receipt","Receipt",Lo);function Fo(e){const{effect:t,swiper:n,on:r,setTranslate:s,setTransition:o,overwriteParams:c,perspective:i,recreateShadows:d,getEffectParams:f}=e;r("beforeInit",()=>{if(n.params.effect!==t)return;n.classNames.push(`${n.params.containerModifierClass}${t}`),i&&i()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const a=c?c():{};Object.assign(n.params,a),Object.assign(n.originalParams,a)}),r("setTranslate _virtualUpdated",()=>{n.params.effect===t&&s()}),r("setTransition",(a,h)=>{n.params.effect===t&&o(h)}),r("transitionEnd",()=>{if(n.params.effect===t&&d){if(!f||!f().slideShadows)return;n.slides.forEach(a=>{a.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>h.remove())}),d()}});let u;r("virtualUpdate",()=>{n.params.effect===t&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(s(),u=!1)}))})}function No(e,t){const n=Qt(t);return n!==t&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function _o({swiper:e,duration:t,transformElements:n,allSlides:r}){const{activeIndex:s}=e,o=c=>c.parentElement?c.parentElement:e.slides.find(d=>d.shadowRoot&&d.shadowRoot===c.parentNode);if(e.params.virtualTranslate&&t!==0){let c=!1,i;r?i=n:i=n.filter(d=>{const f=d.classList.contains("swiper-slide-transform")?o(d):d;return e.getSlideIndex(f)===s}),i.forEach(d=>{Mr(d,()=>{if(c||!e||e.destroyed)return;c=!0,e.animating=!1;const f=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(f)})})}}function Ho(e,t,n){const r=`swiper-slide-shadow${` swiper-slide-shadow-${e}`}`,s=Qt(t);let o=s.querySelector(`.${r.split(" ").join(".")}`);return o||(o=Sr("div",r.split(" ")),s.append(o)),o}function $o({swiper:e,extendParams:t,on:n}){t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Fo({effect:"cards",swiper:e,on:n,setTranslate:()=>{const{slides:o,activeIndex:c,rtlTranslate:i}=e,d=e.params.cardsEffect,{startTranslate:f,isTouched:u}=e.touchEventsData,a=i?-e.translate:e.translate;for(let h=0;h<o.length;h+=1){const b=o[h],x=b.progress,m=Math.min(Math.max(x,-4),4);let v=b.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(v-=o[0].swiperSlideOffset);let g=e.params.cssMode?-v-e.translate:-v,y=0;const E=-100*Math.abs(m);let w=1,l=-d.perSlideRotate*m,T=d.perSlideOffset-Math.abs(m)*.75;const C=e.virtual&&e.params.virtual.enabled?e.virtual.from+h:h,S=(C===c||C===c-1)&&m>0&&m<1&&(u||e.params.cssMode)&&a<f,I=(C===c||C===c+1)&&m<0&&m>-1&&(u||e.params.cssMode)&&a>f;if(S||I){const R=(1-Math.abs((Math.abs(m)-.5)/.5))**.5;l+=-28*m*R,w+=-.5*R,T+=96*R,y=`${(d.rotate||e.isHorizontal()?-25:0)*R*Math.abs(m)}%`}if(m<0?g=`calc(${g}px ${i?"-":"+"} (${T*Math.abs(m)}%))`:m>0?g=`calc(${g}px ${i?"-":"+"} (-${T*Math.abs(m)}%))`:g=`${g}px`,!e.isHorizontal()){const R=y;y=g,g=R}const A=m<0?`${1+(1-w)*m}`:`${1-(1-w)*m}`,D=`
        translate3d(${g}, ${y}, ${E}px)
        rotateZ(${d.rotate?i?-l:l:0}deg)
        scale(${A})
      `;if(d.slideShadows){let R=b.querySelector(".swiper-slide-shadow");R||(R=Ho("cards",b)),R&&(R.style.opacity=Math.min(Math.max((Math.abs(m)-.5)/.5,0),1))}b.style.zIndex=-Math.abs(Math.round(x))+o.length;const P=No(d,b);P.style.transform=D}},setTransition:o=>{const c=e.slides.map(i=>Qt(i));c.forEach(i=>{i.style.transitionDuration=`${o}ms`,i.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${o}ms`})}),_o({swiper:e,duration:o,transformElements:c})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}const jo=["top","right","bottom","left"],rt=Math.min,Me=Math.max,Pt=Math.round,Qe=Math.floor,$e=e=>({x:e,y:e}),Bo={left:"right",right:"left",bottom:"top",top:"bottom"},Vo={start:"end",end:"start"};function Xt(e,t,n){return Me(e,rt(t,n))}function Ve(e,t){return typeof e=="function"?e(t):e}function Se(e){return e.split("-")[0]}function Ye(e){return e.split("-")[1]}function sn(e){return e==="x"?"y":"x"}function an(e){return e==="y"?"height":"width"}const Wo=new Set(["top","bottom"]);function ke(e){return Wo.has(Se(e))?"y":"x"}function cn(e){return sn(ke(e))}function zo(e,t,n){n===void 0&&(n=!1);const r=Ye(e),s=cn(e),o=an(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=It(c)),[c,It(c)]}function Uo(e){const t=It(e);return[Gt(e),t,Gt(t)]}function Gt(e){return e.replace(/start|end/g,t=>Vo[t])}const hn=["left","right"],yn=["right","left"],qo=["top","bottom"],Ko=["bottom","top"];function Yo(e,t,n){switch(e){case"top":case"bottom":return n?t?yn:hn:t?hn:yn;case"left":case"right":return t?qo:Ko;default:return[]}}function Xo(e,t,n,r){const s=Ye(e);let o=Yo(Se(e),n==="start",r);return s&&(o=o.map(c=>c+"-"+s),t&&(o=o.concat(o.map(Gt)))),o}function It(e){return e.replace(/left|right|bottom|top/g,t=>Bo[t])}function Go(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kn(e){return typeof e!="number"?Go(e):{top:e,right:e,bottom:e,left:e}}function At(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function yt(e,t,n){return Math.floor(e/t)!==n}function it(e,t){return t<0||t>=e.current.length}function jt(e,t){return he(e,{disabledIndices:t})}function xn(e,t){return he(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function he(e,{startingIndex:t=-1,decrement:n=!1,disabledIndices:r,amount:s=1}={}){let o=t;do o+=n?-s:s;while(o>=0&&o<=e.current.length-1&&at(e,o,r));return o}function Zo(e,{event:t,orientation:n,loopFocus:r,rtl:s,cols:o,disabledIndices:c,minIndex:i,maxIndex:d,prevIndex:f,stopEvent:u=!1}){let a=f;const h=[],b={};let x=!1;{let g=null,y=-1;e.current.forEach((E,w)=>{if(E==null)return;const l=E.closest('[role="row"]');l&&(x=!0),(l!==g||y===-1)&&(g=l,y+=1,h[y]=[]),h[y].push(w),b[w]=y})}const m=x&&h.length>0&&h.some(g=>g.length!==o);function v(g){if(!m||f===-1)return;const y=b[f];if(y==null)return;const E=h[y].indexOf(f);let w=g==="up"?y-1:y+1;r&&(w<0?w=h.length-1:w>=h.length&&(w=0));const l=new Set;for(;w>=0&&w<h.length&&!l.has(w);){l.add(w);const T=h[w];if(T.length===0){w=g==="up"?w-1:w+1;continue}const C=Math.min(E,T.length-1);for(let S=C;S>=0;S-=1){const I=T[S];if(!at(e,I,c))return I}w=g==="up"?w-1:w+1,r&&(w<0?w=h.length-1:w>=h.length&&(w=0))}}if(t.key===tn){const g=v("up");if(g!==void 0)u&&be(t),a=g;else{if(u&&be(t),f===-1)a=d;else if(a=he(e,{startingIndex:a,amount:o,decrement:!0,disabledIndices:c}),r&&(f-o<i||a<0)){const y=f%o,E=d%o,w=d-(E-y);E===y?a=d:a=E>y?w:w-o}it(e,a)&&(a=f)}}if(t.key===ft){const g=v("down");g!==void 0?(u&&be(t),a=g):(u&&be(t),f===-1?a=i:(a=he(e,{startingIndex:f,amount:o,disabledIndices:c}),r&&f+o>d&&(a=he(e,{startingIndex:f%o-o,amount:o,disabledIndices:c}))),it(e,a)&&(a=f))}if(n==="both"){const g=Qe(f/o);t.key===(s?ze:Ue)&&(u&&be(t),f%o!==o-1?(a=he(e,{startingIndex:f,disabledIndices:c}),r&&yt(a,o,g)&&(a=he(e,{startingIndex:f-f%o-1,disabledIndices:c}))):r&&(a=he(e,{startingIndex:f-f%o-1,disabledIndices:c})),yt(a,o,g)&&(a=f)),t.key===(s?Ue:ze)&&(u&&be(t),f%o!==0?(a=he(e,{startingIndex:f,decrement:!0,disabledIndices:c}),r&&yt(a,o,g)&&(a=he(e,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:c}))):r&&(a=he(e,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:c})),yt(a,o,g)&&(a=f));const y=Qe(d/o)===g;it(e,a)&&(r&&y?a=t.key===(s?Ue:ze)?d:he(e,{startingIndex:f-f%o-1,disabledIndices:c}):a=f)}return a}function Jo(e,t,n){const r=[];let s=0;return e.forEach(({width:o,height:c},i)=>{let d=!1;for(n&&(s=0);!d;){const f=[];for(let u=0;u<o;u+=1)for(let a=0;a<c;a+=1)f.push(s+u+a*t);s%t+o<=t&&f.every(u=>r[u]==null)?(f.forEach(u=>{r[u]=i}),d=!0):s+=1}}),[...r]}function Qo(e,t,n,r,s){if(e===-1)return-1;const o=n.indexOf(e),c=t[e];switch(s){case"tl":return o;case"tr":return c?o+c.width-1:o;case"bl":return c?o+(c.height-1)*r:o;case"br":return n.lastIndexOf(e);default:return-1}}function es(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function at(e,t,n){if(typeof n=="function")return n(t);if(n)return n.includes(t);const r=e.current[t];return r?r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true":!1}function Bt(e,t,n){if(n&&!wt(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}function bn(e,t,n){let{reference:r,floating:s}=e;const o=ke(t),c=cn(t),i=an(c),d=Se(t),f=o==="y",u=r.x+r.width/2-s.width/2,a=r.y+r.height/2-s.height/2,h=r[i]/2-s[i]/2;let b;switch(d){case"top":b={x:u,y:r.y-s.height};break;case"bottom":b={x:u,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:a};break;case"left":b={x:r.x-s.width,y:a};break;default:b={x:r.x,y:r.y}}switch(Ye(t)){case"start":b[c]-=h*(n&&f?-1:1);break;case"end":b[c]+=h*(n&&f?-1:1);break}return b}const ts=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,i=o.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:a}=bn(f,r,d),h=r,b={},x=0;for(let m=0;m<i.length;m++){const{name:v,fn:g}=i[m],{x:y,y:E,data:w,reset:l}=await g({x:u,y:a,initialPlacement:r,placement:h,strategy:s,middlewareData:b,rects:f,platform:c,elements:{reference:e,floating:t}});u=y??u,a=E??a,b={...b,[v]:{...b[v],...w}},l&&x<=50&&(x++,typeof l=="object"&&(l.placement&&(h=l.placement),l.rects&&(f=l.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):l.rects),{x:u,y:a}=bn(f,h,d)),m=-1)}return{x:u,y:a,placement:h,strategy:s,middlewareData:b}};async function ut(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:c,elements:i,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:a="floating",altBoundary:h=!1,padding:b=0}=Ve(t,e),x=Kn(b),v=i[h?a==="floating"?"reference":"floating":a],g=At(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:f,rootBoundary:u,strategy:d})),y=a==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),w=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},l=At(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:y,offsetParent:E,strategy:d}):y);return{top:(g.top-l.top+x.top)/w.y,bottom:(l.bottom-g.bottom+x.bottom)/w.y,left:(g.left-l.left+x.left)/w.x,right:(l.right-g.right+x.right)/w.x}}const ns=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:i,platform:d,elements:f}=t,{mainAxis:u=!0,crossAxis:a=!0,fallbackPlacements:h,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...v}=Ve(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=Se(s),y=ke(i),E=Se(i)===i,w=await(d.isRTL==null?void 0:d.isRTL(f.floating)),l=h||(E||!m?[It(i)]:Uo(i)),T=x!=="none";!h&&T&&l.push(...Xo(i,m,x,w));const C=[i,...l],S=await ut(t,v),I=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(S[g]),a){const _=zo(s,c,w);I.push(S[_[0]],S[_[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(_=>_<=0)){var D,P;const _=(((D=o.flip)==null?void 0:D.index)||0)+1,j=C[_];if(j&&(!(a==="alignment"?y!==ke(j):!1)||A.every(M=>ke(M.placement)===y?M.overflows[0]>0:!0)))return{data:{index:_,overflows:A},reset:{placement:j}};let L=(P=A.filter(O=>O.overflows[0]<=0).sort((O,M)=>O.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(b){case"bestFit":{var R;const O=(R=A.filter(M=>{if(T){const N=ke(M.placement);return N===y||N==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(N=>N>0).reduce((N,k)=>N+k,0)]).sort((M,N)=>M[1]-N[1])[0])==null?void 0:R[0];O&&(L=O);break}case"initialPlacement":L=i;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function vn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rn(e){return jo.some(t=>e[t]>=0)}const rs=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ve(e,t);switch(r){case"referenceHidden":{const o=await ut(t,{...s,elementContext:"reference"}),c=vn(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Rn(c)}}}case"escaped":{const o=await ut(t,{...s,altBoundary:!0}),c=vn(o,n.floating);return{data:{escapedOffsets:c,escaped:Rn(c)}}}default:return{}}}}},Yn=new Set(["left","top"]);async function os(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=Se(n),i=Ye(n),d=ke(n)==="y",f=Yn.has(c)?-1:1,u=o&&d?-1:1,a=Ve(t,e);let{mainAxis:h,crossAxis:b,alignmentAxis:x}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:a.mainAxis||0,crossAxis:a.crossAxis||0,alignmentAxis:a.alignmentAxis};return i&&typeof x=="number"&&(b=i==="end"?x*-1:x),d?{x:b*u,y:h*f}:{x:h*f,y:b*u}}const ss=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:c,middlewareData:i}=t,d=await os(t,e);return c===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:c}}}}},is=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:c=!1,limiter:i={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...d}=Ve(e,t),f={x:n,y:r},u=await ut(t,d),a=ke(Se(s)),h=sn(a);let b=f[h],x=f[a];if(o){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=b+u[v],E=b-u[g];b=Xt(y,b,E)}if(c){const v=a==="y"?"top":"left",g=a==="y"?"bottom":"right",y=x+u[v],E=x-u[g];x=Xt(y,x,E)}const m=i.fn({...t,[h]:b,[a]:x});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:o,[a]:c}}}}}},as=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:c}=t,{offset:i=0,mainAxis:d=!0,crossAxis:f=!0}=Ve(e,t),u={x:n,y:r},a=ke(s),h=sn(a);let b=u[h],x=u[a];const m=Ve(i,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(d){const E=h==="y"?"height":"width",w=o.reference[h]-o.floating[E]+v.mainAxis,l=o.reference[h]+o.reference[E]-v.mainAxis;b<w?b=w:b>l&&(b=l)}if(f){var g,y;const E=h==="y"?"width":"height",w=Yn.has(Se(s)),l=o.reference[a]-o.floating[E]+(w&&((g=c.offset)==null?void 0:g[a])||0)+(w?0:v.crossAxis),T=o.reference[a]+o.reference[E]+(w?0:((y=c.offset)==null?void 0:y[a])||0)-(w?v.crossAxis:0);x<l?x=l:x>T&&(x=T)}return{[h]:b,[a]:x}}}},cs=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:c,elements:i}=t,{apply:d=()=>{},...f}=Ve(e,t),u=await ut(t,f),a=Se(s),h=Ye(s),b=ke(s)==="y",{width:x,height:m}=o.floating;let v,g;a==="top"||a==="bottom"?(v=a,g=h===(await(c.isRTL==null?void 0:c.isRTL(i.floating))?"start":"end")?"left":"right"):(g=a,v=h==="end"?"top":"bottom");const y=m-u.top-u.bottom,E=x-u.left-u.right,w=rt(m-u[v],y),l=rt(x-u[g],E),T=!t.middlewareData.shift;let C=w,S=l;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=y),T&&!h){const A=Me(u.left,0),D=Me(u.right,0),P=Me(u.top,0),R=Me(u.bottom,0);b?S=x-2*(A!==0||D!==0?A+D:Me(u.left,u.right)):C=m-2*(P!==0||R!==0?P+R:Me(u.top,u.bottom))}await d({...t,availableWidth:S,availableHeight:C});const I=await c.getDimensions(i.floating);return x!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Xn(e){const t=Be(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Le(e),o=s?e.offsetWidth:n,c=s?e.offsetHeight:r,i=Pt(n)!==o||Pt(r)!==c;return i&&(n=o,r=c),{width:n,height:r,$:i}}function ln(e){return le(e)?e:e.contextElement}function et(e){const t=ln(e);if(!Le(t))return $e(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Xn(t);let c=(o?Pt(n.width):n.width)/r,i=(o?Pt(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!i||!Number.isFinite(i))&&(i=1),{x:c,y:i}}const ls=$e(0);function Gn(e){const t=qe(e);return!Nn()||!t.visualViewport?ls:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function us(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qe(e)?!1:t}function Ze(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=ln(e);let c=$e(1);t&&(r?le(r)&&(c=et(r)):c=et(e));const i=us(o,n,r)?Gn(o):$e(0);let d=(s.left+i.x)/c.x,f=(s.top+i.y)/c.y,u=s.width/c.x,a=s.height/c.y;if(o){const h=qe(o),b=r&&le(r)?qe(r):r;let x=h,m=pn(x);for(;m&&r&&b!==x;){const v=et(m),g=m.getBoundingClientRect(),y=Be(m),E=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,w=g.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;d*=v.x,f*=v.y,u*=v.x,a*=v.y,d+=E,f+=w,x=qe(m),m=pn(x)}}return At({width:u,height:a,x:d,y:f})}function Ft(e,t){const n=Dt(e).scrollLeft;return t?t.left+n:Ze(We(e)).left+n}function Zn(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ft(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function fs(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",c=We(r),i=t?nn(t.floating):!1;if(r===c||i&&o)return n;let d={scrollLeft:0,scrollTop:0},f=$e(1);const u=$e(0),a=Le(r);if((a||!a&&!o)&&((rn(r)!=="body"||on(c))&&(d=Dt(r)),Le(r))){const b=Ze(r);f=et(r),u.x=b.x+r.clientLeft,u.y=b.y+r.clientTop}const h=c&&!a&&!o?Zn(c,d):$e(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+u.x+h.x,y:n.y*f.y-d.scrollTop*f.y+u.y+h.y}}function ds(e){return Array.from(e.getClientRects())}function ms(e){const t=We(e),n=Dt(e),r=e.ownerDocument.body,s=Me(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Me(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Ft(e);const i=-n.scrollTop;return Be(r).direction==="rtl"&&(c+=Me(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:i}}const wn=25;function gs(e,t){const n=qe(e),r=We(e),s=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,i=0,d=0;if(s){o=s.width,c=s.height;const u=Nn();(!u||u&&t==="fixed")&&(i=s.offsetLeft,d=s.offsetTop)}const f=Ft(r);if(f<=0){const u=r.ownerDocument,a=u.body,h=getComputedStyle(a),b=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,x=Math.abs(r.clientWidth-a.clientWidth-b);x<=wn&&(o-=x)}else f<=wn&&(o+=f);return{width:o,height:c,x:i,y:d}}const ps=new Set(["absolute","fixed"]);function hs(e,t){const n=Ze(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Le(e)?et(e):$e(1),c=e.clientWidth*o.x,i=e.clientHeight*o.y,d=s*o.x,f=r*o.y;return{width:c,height:i,x:d,y:f}}function En(e,t,n){let r;if(t==="viewport")r=gs(e,n);else if(t==="document")r=ms(We(e));else if(le(t))r=hs(t,n);else{const s=Gn(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return At(r)}function Jn(e,t){const n=nt(e);return n===t||!le(n)||lt(n)?!1:Be(n).position==="fixed"||Jn(n,t)}function ys(e,t){const n=t.get(e);if(n)return n;let r=Kt(e,[],!1).filter(i=>le(i)&&rn(i)!=="body"),s=null;const o=Be(e).position==="fixed";let c=o?nt(e):e;for(;le(c)&&!lt(c);){const i=Be(c),d=_n(c);!d&&i.position==="fixed"&&(s=null),(o?!d&&!s:!d&&i.position==="static"&&!!s&&ps.has(s.position)||on(c)&&!d&&Jn(e,c))?r=r.filter(u=>u!==c):s=i,c=nt(c)}return t.set(e,r),r}function xs(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const c=[...n==="clippingAncestors"?nn(t)?[]:ys(t,this._c):[].concat(n),r],i=c[0],d=c.reduce((f,u)=>{const a=En(t,u,s);return f.top=Me(a.top,f.top),f.right=rt(a.right,f.right),f.bottom=rt(a.bottom,f.bottom),f.left=Me(a.left,f.left),f},En(t,i,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function bs(e){const{width:t,height:n}=Xn(e);return{width:t,height:n}}function vs(e,t,n){const r=Le(t),s=We(t),o=n==="fixed",c=Ze(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const d=$e(0);function f(){d.x=Ft(s)}if(r||!r&&!o)if((rn(t)!=="body"||on(s))&&(i=Dt(t)),r){const b=Ze(t,!0,o,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else s&&f();o&&!r&&s&&f();const u=s&&!r&&!o?Zn(s,i):$e(0),a=c.left+i.scrollLeft-d.x-u.x,h=c.top+i.scrollTop-d.y-u.y;return{x:a,y:h,width:c.width,height:c.height}}function Vt(e){return Be(e).position==="static"}function Cn(e,t){if(!Le(e)||Be(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return We(e)===n&&(n=n.ownerDocument.body),n}function Qn(e,t){const n=qe(e);if(nn(e))return n;if(!Le(e)){let s=nt(e);for(;s&&!lt(s);){if(le(s)&&!Vt(s))return s;s=nt(s)}return n}let r=Cn(e,t);for(;r&&Eo(r)&&Vt(r);)r=Cn(r,t);return r&&lt(r)&&Vt(r)&&!_n(r)?n:r||Co(e)||n}const Rs=async function(e){const t=this.getOffsetParent||Qn,n=this.getDimensions,r=await n(e.floating);return{reference:vs(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ws(e){return Be(e).direction==="rtl"}const Es={convertOffsetParentRelativeRectToViewportRelativeRect:fs,getDocumentElement:We,getClippingRect:xs,getOffsetParent:Qn,getElementRects:Rs,getClientRects:ds,getDimensions:bs,getScale:et,isElement:le,isRTL:ws};function er(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Cs(e,t){let n=null,r;const s=We(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function c(i,d){i===void 0&&(i=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:u,top:a,width:h,height:b}=f;if(i||t(),!h||!b)return;const x=Qe(a),m=Qe(s.clientWidth-(u+h)),v=Qe(s.clientHeight-(a+b)),g=Qe(u),E={rootMargin:-x+"px "+-m+"px "+-v+"px "+-g+"px",threshold:Me(0,rt(1,d))||1};let w=!0;function l(T){const C=T[0].intersectionRatio;if(C!==d){if(!w)return c();C?c(!1,C):r=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!er(f,e.getBoundingClientRect())&&c(),w=!1}try{n=new IntersectionObserver(l,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(l,E)}n.observe(e)}return c(!0),o}function Mn(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=ln(e),u=s||o?[...f?Kt(f):[],...Kt(t)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const a=f&&i?Cs(f,n):null;let h=-1,b=null;c&&(b=new ResizeObserver(g=>{let[y]=g;y&&y.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),n()}),f&&!d&&b.observe(f),b.observe(t));let x,m=d?Ze(e):null;d&&v();function v(){const g=Ze(e);m&&!er(m,g)&&n(),m=g,x=requestAnimationFrame(v)}return n(),()=>{var g;u.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),a?.(),(g=b)==null||g.disconnect(),b=null,d&&cancelAnimationFrame(x)}}const Ms=ss,Ss=is,Ts=ns,Os=cs,Ps=rs,Is=as,As=(e,t,n)=>{const r=new Map,s={platform:Es,...n},o={...s.platform,_c:r};return ts(e,t,{...s,platform:o})};var ks=typeof document<"u",Ls=function(){},Rt=ks?p.useLayoutEffect:Ls;function kt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!kt(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!kt(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function tr(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sn(e,t){const n=tr(e);return Math.round(t*n)/n}function Wt(e){const t=p.useRef(e);return Rt(()=>{t.current=e}),t}function Ds(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:c}={},transform:i=!0,whileElementsMounted:d,open:f}=e,[u,a]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,b]=p.useState(r);kt(h,r)||b(r);const[x,m]=p.useState(null),[v,g]=p.useState(null),y=p.useCallback(M=>{M!==T.current&&(T.current=M,m(M))},[]),E=p.useCallback(M=>{M!==C.current&&(C.current=M,g(M))},[]),w=o||x,l=c||v,T=p.useRef(null),C=p.useRef(null),S=p.useRef(u),I=d!=null,A=Wt(d),D=Wt(s),P=Wt(f),R=p.useCallback(()=>{if(!T.current||!C.current)return;const M={placement:t,strategy:n,middleware:h};D.current&&(M.platform=D.current),As(T.current,C.current,M).then(N=>{const k={...N,isPositioned:P.current!==!1};_.current&&!kt(S.current,k)&&(S.current=k,ct.flushSync(()=>{a(k)}))})},[h,t,n,D,P]);Rt(()=>{f===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,a(M=>({...M,isPositioned:!1})))},[f]);const _=p.useRef(!1);Rt(()=>(_.current=!0,()=>{_.current=!1}),[]),Rt(()=>{if(w&&(T.current=w),l&&(C.current=l),w&&l){if(A.current)return A.current(w,l,R);R()}},[w,l,R,A,I]);const j=p.useMemo(()=>({reference:T,floating:C,setReference:y,setFloating:E}),[y,E]),L=p.useMemo(()=>({reference:w,floating:l}),[w,l]),O=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!L.floating)return M;const N=Sn(L.floating,u.x),k=Sn(L.floating,u.y);return i?{...M,transform:"translate("+N+"px, "+k+"px)",...tr(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:k}},[n,i,L.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:R,refs:j,elements:L,floatingStyles:O}),[u,R,j,L,O])}const Fs=(e,t)=>({...Ms(e),options:[e,t]}),Ns=(e,t)=>({...Ss(e),options:[e,t]}),_s=(e,t)=>({...Is(e),options:[e,t]}),Hs=(e,t)=>({...Ts(e),options:[e,t]}),$s=(e,t)=>({...Os(e),options:[e,t]}),js=(e,t)=>({...Ps(e),options:[e,t]});function Bs(e){const{open:t=!1,onOpenChange:n,elements:r={}}=e,s=$n(),o=dt()!=null,c=Mt(()=>new kr({open:t,onOpenChange:n,referenceElement:r.reference??null,floatingElement:r.floating??null,triggerElements:r.triggers??new In,floatingId:s,nested:o,noEmit:e.noEmit||!1})).current;return te(()=>{const i={open:t,floatingId:s};r.reference!==void 0&&(i.referenceElement=r.reference,i.domReferenceElement=le(r.reference)?r.reference:null),r.floating!==void 0&&(i.floatingElement=r.floating),c.update(i)},[t,s,r.reference,r.floating,c]),c.context.onOpenChange=n,c.context.nested=o,c.context.noEmit=e.noEmit||!1,c}function Vs(e={}){const{nodeId:t,externalTree:n}=e,r=Bs(e),s=e.rootContext||r,o={reference:s.useState("referenceElement"),floating:s.useState("floatingElement"),domReference:s.useState("domReferenceElement")},[c,i]=p.useState(null),d=p.useRef(null),f=mt(n);te(()=>{o.domReference&&(d.current=o.domReference)},[o.domReference]);const u=Ds({...e,elements:{...o,...c&&{reference:c}}}),a=p.useCallback(C=>{const S=le(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;i(S),u.refs.setReference(S)},[u.refs]),[h,b]=p.useState(null),[x,m]=p.useState(null);s.useSyncedValue("referenceElement",h),s.useSyncedValue("domReferenceElement",le(h)?h:null),s.useSyncedValue("floatingElement",x);const v=p.useCallback(C=>{(le(C)||C===null)&&(d.current=C,b(C)),(le(u.refs.reference.current)||u.refs.reference.current===null||C!==null&&!le(C))&&u.refs.setReference(C)},[u.refs,b]),g=p.useCallback(C=>{m(C),u.refs.setFloating(C)},[u.refs]),y=p.useMemo(()=>({...u.refs,setReference:v,setFloating:g,setPositionReference:a,domReference:d}),[u.refs,v,g,a]),E=p.useMemo(()=>({...u.elements,domReference:o.domReference}),[u.elements,o.domReference]),w=s.useState("open"),l=s.useState("floatingId"),T=p.useMemo(()=>({...u,dataRef:s.context.dataRef,open:w,onOpenChange:s.setOpen,events:s.context.events,floatingId:l,refs:y,elements:E,nodeId:t,rootStore:s}),[u,y,E,t,s,w,l]);return te(()=>{s.context.dataRef.current.floatingContext=T;const C=f?.nodesRef.current.find(S=>S.id===t);C&&(C.context=T)}),p.useMemo(()=>({...u,context:T,refs:y,elements:E,rootStore:s}),[u,y,E,T,s])}const zt=Fr&&Nr;function Ws(e,t={}){const n="rootStore"in e?e.rootStore:e,{events:r,dataRef:s}=n.context,{enabled:o=!0,visibleOnly:c=!0}=t,i=p.useRef(!1),d=Ke(),f=p.useRef(!0);p.useEffect(()=>{const a=n.select("domReferenceElement");if(!o)return;const h=qe(a);function b(){!n.select("open")&&Le(a)&&a===Et(tt(a))&&(i.current=!0)}function x(){f.current=!0}function m(){f.current=!1}return h.addEventListener("blur",b),zt&&(h.addEventListener("keydown",x,!0),h.addEventListener("pointerdown",m,!0)),()=>{h.removeEventListener("blur",b),zt&&(h.removeEventListener("keydown",x,!0),h.removeEventListener("pointerdown",m,!0))}},[n,o]),p.useEffect(()=>{if(!o)return;function a(h){(h.reason===jn||h.reason===Bn)&&(i.current=!0)}return r.on("openchange",a),()=>{r.off("openchange",a)}},[r,o]);const u=p.useMemo(()=>({onMouseLeave(){i.current=!1},onFocus(a){if(i.current)return;const h=Lt(a.nativeEvent);if(c&&le(h)){if(zt&&!a.relatedTarget){if(!f.current&&!Lr(h))return}else if(!Dr(h))return}n.setOpen(!0,ue(Tt,a.nativeEvent,a.currentTarget))},onBlur(a){i.current=!1;const h=a.relatedTarget,b=a.nativeEvent,x=le(h)&&h.hasAttribute(An("focus-guard"))&&h.getAttribute("data-type")==="outside";d.start(0,()=>{const m=n.select("domReferenceElement"),v=Et(m?m.ownerDocument:document);!h&&v===m||ve(s.current.floatingContext?.refs.floating.current,v)||ve(m,v)||x||n.context.triggerElements.hasElement(a.relatedTarget)||n.setOpen(!1,ue(Tt,b))})}}),[s,n,c,d]);return p.useMemo(()=>o?{reference:u,trigger:u}:{},[o,u])}const Zt=An("safe-polygon"),zs=`button,a,[role="button"],select,[tabindex]:not([tabindex="-1"]),${_r}`;function Us(e){return e?!!e.closest(zs):!1}function nr(e){const t=p.useRef(void 0),n=p.useRef(!1),r=p.useRef(void 0),s=p.useRef(!0),o=p.useRef(!1),c=p.useRef(()=>{}),i=p.useRef(!1),d=Ke(),f=Ke(),u=p.useRef(void 0);return p.useMemo(()=>{const a=e.context.dataRef.current;return a.hoverInteractionState||(a.hoverInteractionState={pointerTypeRef:t,interactedInsideRef:n,handlerRef:r,blockMouseMoveRef:s,performedPointerEventsMutationRef:o,unbindMouseMoveRef:c,restTimeoutPendingRef:i,openChangeTimeout:d,restTimeout:f,handleCloseOptionsRef:u}),a.hoverInteractionState},[e,t,n,r,s,o,c,i,d,f,u])}const qs=new Set(["click","mousedown"]);function Ks(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),s=n.useState("floatingElement"),o=n.useState("domReferenceElement"),{dataRef:c}=n.context,{enabled:i=!0,closeDelay:d=0,externalTree:f}=t,{pointerTypeRef:u,interactedInsideRef:a,handlerRef:h,performedPointerEventsMutationRef:b,unbindMouseMoveRef:x,restTimeoutPendingRef:m,openChangeTimeout:v,handleCloseOptionsRef:g}=nr(n),y=mt(f),E=dt(),w=ie(()=>a.current?!0:c.current.openEvent?qs.has(c.current.openEvent.type):!1),l=ie(()=>{const A=c.current.openEvent?.type;return A?.includes("mouse")&&A!=="mousedown"}),T=p.useCallback((A,D=!0)=>{const P=Ys(d,u.current);P&&!h.current?v.start(P,()=>n.setOpen(!1,ue(Ae,A))):D&&(v.clear(),n.setOpen(!1,ue(Ae,A)))},[d,h,n,u,v]),C=ie(()=>{x.current(),h.current=void 0}),S=ie(()=>{if(b.current){const A=tt(s).body;A.style.pointerEvents="",A.removeAttribute(Zt),b.current=!1}}),I=ie(A=>{const D=Lt(A);if(!Us(D)){a.current=!1;return}a.current=!0});te(()=>{r||(u.current=void 0,m.current=!1,a.current=!1,C(),S())},[r,u,m,a,C,S]),p.useEffect(()=>()=>{C()},[C]),p.useEffect(()=>S,[S]),te(()=>{if(i&&r&&g.current?.blockPointerEvents&&l()&&le(o)&&s){b.current=!0;const A=tt(s).body;A.setAttribute(Zt,"");const D=o,P=s,R=y?.nodesRef.current.find(_=>_.id===E)?.context?.elements.floating;return R&&(R.style.pointerEvents=""),A.style.pointerEvents="none",D.style.pointerEvents="auto",P.style.pointerEvents="auto",()=>{A.style.pointerEvents="",D.style.pointerEvents="",P.style.pointerEvents=""}}},[i,r,o,s,g,l,y,E,b]),p.useEffect(()=>{if(!i)return;function A(_){if(w()||!c.current.floatingContext||!n.select("open"))return;const j=n.context.triggerElements;_.relatedTarget&&j.hasElement(_.relatedTarget)||(S(),C(),w()||T(_))}function D(_){v.clear(),S(),h.current?.(_),C()}function P(_){w()||T(_,!1)}const R=s;return R&&(R.addEventListener("mouseleave",A),R.addEventListener("mouseenter",D),R.addEventListener("mouseleave",P),R.addEventListener("pointerdown",I,!0)),()=>{R&&(R.removeEventListener("mouseleave",A),R.removeEventListener("mouseenter",D),R.removeEventListener("mouseleave",P),R.removeEventListener("pointerdown",I,!0))}})}function Ys(e,t){return t&&!wt(t)?0:typeof e=="function"?e():e}function Ut(e){return typeof e=="function"?e():e}const Xs={current:null};function Gs(e,t={}){const n="rootStore"in e?e.rootStore:e,{dataRef:r,events:s}=n.context,{enabled:o=!0,delay:c=0,handleClose:i=null,mouseOnly:d=!1,restMs:f=0,move:u=!0,triggerElementRef:a=Xs,externalTree:h,isActiveTrigger:b=!0}=t,x=mt(h),{pointerTypeRef:m,interactedInsideRef:v,handlerRef:g,blockMouseMoveRef:y,performedPointerEventsMutationRef:E,unbindMouseMoveRef:w,restTimeoutPendingRef:l,openChangeTimeout:T,restTimeout:C,handleCloseOptionsRef:S}=nr(n),I=Ie(i),A=Ie(c),D=Ie(f);b&&(S.current=I.current?.__options);const P=ie(()=>v.current?!0:r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1),R=p.useCallback((O,M=!0)=>{const N=Bt(A.current,"close",m.current);N&&!g.current?T.start(N,()=>n.setOpen(!1,ue(Ae,O))):M&&(T.clear(),n.setOpen(!1,ue(Ae,O)))},[A,g,n,m,T]),_=ie(()=>{w.current(),g.current=void 0}),j=ie(()=>{if(E.current){const O=tt(n.select("domReferenceElement")).body;O.style.pointerEvents="",O.removeAttribute(Zt),E.current=!1}});p.useEffect(()=>{if(!o)return;function O(M){M.open||(T.clear(),C.clear(),y.current=!0,l.current=!1)}return s.on("openchange",O),()=>{s.off("openchange",O)}},[o,s,T,C,y,l]);const L=ie(O=>{if(P()||!r.current.floatingContext)return;const M=n.context.triggerElements;if(O.relatedTarget&&M.hasElement(O.relatedTarget))return;const N=a.current;I.current?.({...r.current.floatingContext,tree:x,x:O.clientX,y:O.clientY,onClose(){j(),_(),!P()&&N===n.select("domReferenceElement")&&R(O)}})(O)});return p.useEffect(()=>{if(!o)return;const O=a.current??(b?n.select("domReferenceElement"):null);if(!le(O))return;function M(B){if(T.clear(),y.current=!1,d&&!wt(m.current)||Ut(D.current)>0&&!Bt(A.current,"open"))return;const Y=Bt(A.current,"open",m.current),F=n.select("domReferenceElement"),X=n.context.triggerElements,Q=(X.hasElement(B.target)||X.hasMatchingElement(ne=>ve(ne,B.target)))&&(!F||!ve(F,B.target)),W=B.currentTarget??null,V=!n.select("open")||Q;Y?T.start(Y,()=>{V&&n.setOpen(!0,ue(Ae,B,W))}):V&&n.setOpen(!0,ue(Ae,B,W))}function N(B){if(P()){j();return}w.current();const Y=n.select("domReferenceElement"),F=tt(Y);C.clear(),l.current=!1;const X=n.context.triggerElements;if(B.relatedTarget&&X.hasElement(B.relatedTarget))return;if(I.current&&r.current.floatingContext){n.select("open")||T.clear();const W=a.current;g.current=I.current({...r.current.floatingContext,tree:x,x:B.clientX,y:B.clientY,onClose(){j(),_(),!P()&&W===n.select("domReferenceElement")&&R(B,!0)}});const V=g.current;V(B),F.addEventListener("mousemove",V),w.current=()=>{F.removeEventListener("mousemove",V)};return}(m.current!=="touch"||!ve(n.select("floatingElement"),B.relatedTarget))&&R(B)}function k(B){L(B)}return n.select("open")&&O.addEventListener("mouseleave",k),u&&O.addEventListener("mousemove",M,{once:!0}),O.addEventListener("mouseenter",M),O.addEventListener("mouseleave",N),()=>{O.removeEventListener("mouseleave",k),u&&O.removeEventListener("mousemove",M),O.removeEventListener("mouseenter",M),O.removeEventListener("mouseleave",N)}},[_,j,y,r,A,R,n,o,I,L,b,P,d,u,m,D,C,l,T,a,x,w,g]),p.useMemo(()=>{function O(M){m.current=M.pointerType}return{onPointerDown:O,onPointerEnter:O,onMouseMove(M){const{nativeEvent:N}=M,k=M.currentTarget,B=n.select("domReferenceElement"),Y=n.context.triggerElements,F=n.select("open"),X=(Y.hasElement(M.target)||Y.hasMatchingElement(W=>ve(W,M.target)))&&(!B||!ve(B,M.target));if(d&&!wt(m.current)||F&&!X||Ut(D.current)===0||!X&&l.current&&M.movementX**2+M.movementY**2<2)return;C.clear();function Q(){!y.current&&(!F||X)&&n.setOpen(!0,ue(Ae,N,k))}m.current==="touch"?ct.flushSync(()=>{Q()}):X&&F?Q():(l.current=!0,C.start(Ut(D.current),Q))}}},[y,d,n,m,D,C,l])}const Zs="Escape";function Nt(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function xt(e,t){return Nt(t,e===tn||e===ft,e===ze||e===Ue)}function qt(e,t,n){return Nt(t,e===ft,n?e===ze:e===Ue)||e==="Enter"||e===" "||e===""}function Js(e,t,n){return Nt(t,n?e===ze:e===Ue,e===ft)}function Qs(e,t,n,r){const s=n?e===Ue:e===ze,o=e===tn;return t==="both"||t==="horizontal"&&r&&r>1?e===Zs:Nt(t,s,o)}function ei(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),s=n.useState("floatingElement"),o=n.useState("domReferenceElement"),c=n.context.dataRef,{listRef:i,activeIndex:d,onNavigate:f=()=>{},enabled:u=!0,selectedIndex:a=null,allowEscape:h=!1,loopFocus:b=!1,nested:x=!1,rtl:m=!1,virtual:v=!1,focusItemOnOpen:g="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:E=!0,disabledIndices:w=void 0,orientation:l="vertical",parentOrientation:T,cols:C=1,scrollItemIntoView:S=!0,itemSizes:I,dense:A=!1,id:D,resetOnPointerLeave:P=!0,externalTree:R}=t,_=Hr(s),j=Ie(_),L=dt(),O=mt(R);te(()=>{c.current.orientation=l},[c,l]);const M=$r(o),N=p.useRef(g),k=p.useRef(a??-1),B=p.useRef(null),Y=p.useRef(!0),F=ie(H=>{f(k.current===-1?null:k.current,H)}),X=p.useRef(F),Q=p.useRef(!!s),W=p.useRef(r),V=p.useRef(!1),ne=p.useRef(!1),re=Ie(w),q=Ie(r),Z=Ie(S),pe=Ie(a),De=Ie(P),Te=ie(()=>{function H(se){v?O?.events.emit("virtualfocus",se):jr(se,{sync:V.current,preventScroll:!0})}const K=i.current[k.current],$=ne.current;K&&H(K),(V.current?se=>se():requestAnimationFrame)(()=>{const se=i.current[k.current]||K;if(!se)return;K||H(se);const fe=Z.current;fe&&xe&&($||!Y.current)&&se.scrollIntoView?.(typeof fe=="boolean"?{block:"nearest",inline:"nearest"}:fe)})});te(()=>{u&&(r&&s?(k.current=a??-1,N.current&&a!=null&&(ne.current=!0,F())):Q.current&&(k.current=-1,X.current()))},[u,r,s,a,F]),te(()=>{if(u){if(!r){V.current=!1;return}if(s)if(d==null){if(V.current=!1,pe.current!=null)return;if(Q.current&&(k.current=-1,Te()),(!W.current||!Q.current)&&N.current&&(B.current!=null||N.current===!0&&B.current==null)){let H=0;const K=()=>{i.current[0]==null?(H<2&&(H?requestAnimationFrame:queueMicrotask)(K),H+=1):(k.current=B.current==null||qt(B.current,l,m)||x?jt(i):xn(i),B.current=null,F())};K()}}else it(i,d)||(k.current=d,Te(),ne.current=!1)}},[u,r,s,d,pe,x,i,l,m,F,Te,re]),te(()=>{if(!u||s||!O||v||!Q.current)return;const H=O.nodesRef.current,K=H.find(se=>se.id===L)?.context?.elements.floating,$=Et(tt(s)),ee=H.some(se=>se.context&&ve(se.context.elements.floating,$));K&&!ee&&Y.current&&K.focus({preventScroll:!0})},[u,s,O,L,v]),te(()=>{X.current=F,W.current=r,Q.current=!!s}),te(()=>{r||(B.current=null,N.current=g)},[r,g]);const ye=d!=null,xe=p.useMemo(()=>{function H($){if(!q.current)return;const ee=i.current.indexOf($.currentTarget);ee!==-1&&k.current!==ee&&(k.current=ee,F($))}return{onFocus($){V.current=!0,H($)},onClick:({currentTarget:$})=>$.focus({preventScroll:!0}),onMouseMove($){V.current=!0,ne.current=!1,y&&H($)},onPointerLeave($){if(!q.current||!Y.current||$.pointerType==="touch")return;V.current=!0;const ee=$.relatedTarget;!y||i.current.includes(ee)||De.current&&(k.current=-1,F($),v||j.current?.focus({preventScroll:!0}))}}},[q,j,y,i,F,De,v]),G=p.useCallback(()=>T??O?.nodesRef.current.find(H=>H.id===L)?.context?.dataRef?.current.orientation,[L,O,T]),ae=ie(H=>{if(Y.current=!1,V.current=!0,H.which===229||!q.current&&H.currentTarget===j.current)return;if(x&&Qs(H.key,l,m,C)){xt(H.key,G())||be(H),n.setOpen(!1,ue(vt,H.nativeEvent)),Le(o)&&(v?O?.events.emit("virtualfocus",o):o.focus());return}const K=k.current,$=jt(i,w),ee=xn(i,w);if(M||(H.key==="Home"&&(be(H),k.current=$,F(H)),H.key==="End"&&(be(H),k.current=ee,F(H))),C>1){const se=I||Array.from({length:i.current.length},()=>({width:1,height:1})),fe=Jo(se,C,A),Ne=fe.findIndex(Ee=>Ee!=null&&!at(i,Ee,w)),He=fe.reduce((Ee,_e,U)=>_e!=null&&!at(i,_e,w)?U:Ee,-1),Oe=fe[Zo({current:fe.map(Ee=>Ee!=null?i.current[Ee]:null)},{event:H,orientation:l,loopFocus:b,rtl:m,cols:C,disabledIndices:es([...(typeof w!="function"?w:null)||i.current.map((Ee,_e)=>at(i,_e,w)?_e:void 0),void 0],fe),minIndex:Ne,maxIndex:He,prevIndex:Qo(k.current>ee?$:k.current,se,fe,C,H.key===ft?"bl":H.key===(m?ze:Ue)?"tr":"tl"),stopEvent:!0})];if(Oe!=null&&(k.current=Oe,F(H)),l==="both")return}if(xt(H.key,l)){if(be(H),r&&!v&&Et(H.currentTarget.ownerDocument)===H.currentTarget){k.current=qt(H.key,l,m)?$:ee,F(H);return}qt(H.key,l,m)?b?K>=ee?h&&K!==i.current.length?k.current=-1:(V.current=!1,k.current=$):k.current=he(i,{startingIndex:K,disabledIndices:w}):k.current=Math.min(ee,he(i,{startingIndex:K,disabledIndices:w})):b?K<=$?h&&K!==-1?k.current=i.current.length:(V.current=!1,k.current=ee):k.current=he(i,{startingIndex:K,decrement:!0,disabledIndices:w}):k.current=Math.max($,he(i,{startingIndex:K,decrement:!0,disabledIndices:w})),it(i,k.current)&&(k.current=-1),F(H)}}),oe=p.useMemo(()=>v&&r&&ye&&{"aria-activedescendant":`${D}-${d}`},[v,r,ye,D,d]),we=p.useMemo(()=>({"aria-orientation":l==="both"?void 0:l,...M?{}:oe,onKeyDown(H){if(H.key==="Tab"&&H.shiftKey&&r&&!v){const K=Lt(H.nativeEvent);if(K&&!ve(j.current,K))return;be(H),n.setOpen(!1,ue(Ot,H.nativeEvent)),Le(o)&&o.focus();return}ae(H)},onPointerMove(){Y.current=!0}}),[oe,ae,j,l,M,n,r,v,o]),Fe=p.useMemo(()=>{function H($){g==="auto"&&Br($.nativeEvent)&&(N.current=!v)}function K($){N.current=g,g==="auto"&&Vr($.nativeEvent)&&(N.current=!0)}return{onKeyDown($){const ee=n.select("open");Y.current=!1;const se=$.key.startsWith("Arrow"),fe=Js($.key,G(),m),Ne=xt($.key,l),He=(x?fe:Ne)||$.key==="Enter"||$.key.trim()==="";if(v&&ee)return ae($);if(!(!ee&&!E&&se)){if(He){const Oe=xt($.key,G());B.current=x&&Oe?null:$.key}if(x){fe&&(be($),ee?(k.current=jt(i,re.current),F($)):n.setOpen(!0,ue(vt,$.nativeEvent,$.currentTarget)));return}Ne&&(pe.current!=null&&(k.current=pe.current),be($),!ee&&E?n.setOpen(!0,ue(vt,$.nativeEvent,$.currentTarget)):ae($),ee&&F($))}},onFocus($){n.select("open")&&!v&&(k.current=-1,F($))},onPointerDown:K,onPointerEnter:K,onMouseDown:H,onClick:H}},[ae,re,g,i,x,F,n,E,l,G,m,pe,v]),Xe=p.useMemo(()=>({...oe,...Fe}),[oe,Fe]);return p.useMemo(()=>u?{reference:Xe,floating:we,item:xe,trigger:Fe}:{},[u,Xe,we,Fe,xe])}function ti(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),s=n.context.dataRef,{listRef:o,activeIndex:c,onMatch:i,onTypingChange:d,enabled:f=!0,findMatch:u=null,resetMs:a=750,ignoreKeys:h=St,selectedIndex:b=null}=t,x=Ke(),m=p.useRef(""),v=p.useRef(b??c??-1),g=p.useRef(null);te(()=>{r&&(x.clear(),g.current=null,m.current="")},[r,x]),te(()=>{r&&m.current===""&&(v.current=b??c??-1)},[r,b,c]);const y=ie(T=>{T?s.current.typing||(s.current.typing=T,d?.(T)):s.current.typing&&(s.current.typing=T,d?.(T))}),E=ie(T=>{function C(P,R,_){const j=u?u(R,_):R.find(L=>L?.toLocaleLowerCase().indexOf(_.toLocaleLowerCase())===0);return j?P.indexOf(j):-1}const S=o.current;if(m.current.length>0&&m.current[0]!==" "&&(C(S,S,m.current)===-1?y(!1):T.key===" "&&be(T)),S==null||h.includes(T.key)||T.key.length!==1||T.ctrlKey||T.metaKey||T.altKey)return;r&&T.key!==" "&&(be(T),y(!0)),S.every(P=>P?P[0]?.toLocaleLowerCase()!==P[1]?.toLocaleLowerCase():!0)&&m.current===T.key&&(m.current="",v.current=g.current),m.current+=T.key,x.start(a,()=>{m.current="",v.current=g.current,y(!1)});const A=v.current,D=C(S,[...S.slice((A||0)+1),...S.slice(0,(A||0)+1)],m.current);D!==-1?(i?.(D),g.current=D):T.key!==" "&&(m.current="",y(!1))}),w=p.useMemo(()=>({onKeyDown:E}),[E]),l=p.useMemo(()=>({onKeyDown:E,onKeyUp(T){T.key===" "&&y(!1)}}),[E,y]);return p.useMemo(()=>f?{reference:w,floating:l}:{},[f,w,l])}function Tn(e,t){const[n,r]=e;let s=!1;const o=t.length;for(let c=0,i=o-1;c<o;i=c++){const[d,f]=t[c]||[0,0],[u,a]=t[i]||[0,0];f>=r!=a>=r&&n<=(u-d)*(r-f)/(a-f)+d&&(s=!s)}return s}function ni(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function ri(e={}){const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,s=new Wr;let o=!1,c=null,i=null,d=typeof performance<"u"?performance.now():0;function f(a,h){const b=performance.now(),x=b-d;if(c===null||i===null||x===0)return c=a,i=h,d=b,null;const m=a-c,v=h-i,y=Math.sqrt(m*m+v*v)/x;return c=a,i=h,d=b,y}const u=({x:a,y:h,placement:b,elements:x,onClose:m,nodeId:v,tree:g})=>function(E){function w(){s.clear(),m()}if(s.clear(),!x.domReference||!x.floating||b==null||a==null||h==null)return;const{clientX:l,clientY:T}=E,C=[l,T],S=Lt(E),I=E.type==="mouseleave",A=ve(x.floating,S),D=ve(x.domReference,S),P=x.domReference.getBoundingClientRect(),R=x.floating.getBoundingClientRect(),_=b.split("-")[0],j=a>R.right-R.width/2,L=h>R.bottom-R.height/2,O=ni(C,P),M=R.width>P.width,N=R.height>P.height,k=(M?P:R).left,B=(M?P:R).right,Y=(N?P:R).top,F=(N?P:R).bottom;if(A&&(o=!0,!I))return;if(D&&(o=!1),D&&!I){o=!0;return}if(I&&le(E.relatedTarget)&&ve(x.floating,E.relatedTarget)||g&&zr(g.nodesRef.current,v).some(({context:W})=>W?.open))return;if(_==="top"&&h>=P.bottom-1||_==="bottom"&&h<=P.top+1||_==="left"&&a>=P.right-1||_==="right"&&a<=P.left+1)return w();let X=[];switch(_){case"top":X=[[k,P.top+1],[k,R.bottom-1],[B,R.bottom-1],[B,P.top+1]];break;case"bottom":X=[[k,R.top+1],[k,P.bottom-1],[B,P.bottom-1],[B,R.top+1]];break;case"left":X=[[R.right-1,F],[R.right-1,Y],[P.left+1,Y],[P.left+1,F]];break;case"right":X=[[P.right-1,F],[P.right-1,Y],[R.left+1,Y],[R.left+1,F]];break}function Q([W,V]){switch(_){case"top":{const ne=[M?W+t/2:j?W+t*4:W-t*4,V+t+1],re=[M?W-t/2:j?W+t*4:W-t*4,V+t+1],q=[[R.left,j||M?R.bottom-t:R.top],[R.right,j?M?R.bottom-t:R.top:R.bottom-t]];return[ne,re,...q]}case"bottom":{const ne=[M?W+t/2:j?W+t*4:W-t*4,V-t],re=[M?W-t/2:j?W+t*4:W-t*4,V-t],q=[[R.left,j||M?R.top+t:R.bottom],[R.right,j?M?R.top+t:R.bottom:R.top+t]];return[ne,re,...q]}case"left":{const ne=[W+t+1,N?V+t/2:L?V+t*4:V-t*4],re=[W+t+1,N?V-t/2:L?V+t*4:V-t*4];return[...[[L||N?R.right-t:R.left,R.top],[L?N?R.right-t:R.left:R.right-t,R.bottom]],ne,re]}case"right":{const ne=[W-t,N?V+t/2:L?V+t*4:V-t*4],re=[W-t,N?V-t/2:L?V+t*4:V-t*4],q=[[L||N?R.left+t:R.right,R.top],[L?N?R.left+t:R.right:R.left+t,R.bottom]];return[ne,re,...q]}default:return[]}}if(!Tn([l,T],X)){if(o&&!O)return w();if(!I&&r){const W=f(E.clientX,E.clientY);if(W!==null&&W<.1)return w()}Tn([l,T],Q([a,h]))?!o&&r&&s.start(40,w):w()}};return u.__options={blockPointerEvents:n},u}function oi(){const e=Ar();return p.useMemo(()=>{const t={};for(const n of e)n.icon&&(t[n.id]=n.icon);return t},[e])}const rr=p.createContext(void 0);function or(e){const t=p.useContext(rr);if(t===void 0&&!e)throw new Error(gt(33));return t}const sr=p.createContext(void 0);function Je(e){const t=p.useContext(sr);if(t===void 0&&!e)throw new Error(gt(36));return t}const si=p.createContext(void 0);function _t(e=!0){const t=p.useContext(si);if(t===void 0&&!e)throw new Error(gt(25));return t}const ii={type:"regular-item"};function ai(e){const{closeOnClick:t,disabled:n=!1,highlighted:r,id:s,store:o,nativeButton:c,itemMetadata:i,nodeId:d}=e,f=p.useRef(null),u=_t(!0),a=u!==void 0,{events:h}=o.useState("floatingTreeRoot"),{getButtonProps:b,buttonRef:x}=zn({disabled:n,focusableWhenDisabled:!0,native:c}),m=p.useCallback(g=>Yt({id:s,role:"menuitem",tabIndex:r?0:-1,onMouseMove(y){d&&h.emit("itemhover",{nodeId:d,target:y.currentTarget})},onMouseEnter(){i.type==="submenu-trigger"&&i.setActive()},onKeyUp(y){y.key===" "&&o.context.typingRef.current&&y.preventBaseUIHandler()},onClick(y){t&&h.emit("close",{domEvent:y,reason:Vn})},onMouseUp(y){if(u){const E=u.initialCursorPointRef.current;if(u.initialCursorPointRef.current=null,a&&E&&Math.abs(y.clientX-E.x)<=1&&Math.abs(y.clientY-E.y)<=1)return}f.current&&o.context.allowMouseUpTriggerRef.current&&(!a||y.button===2)&&i.type==="regular-item"&&f.current.click()}},g,b),[s,r,b,t,h,o,a,u,i,d]),v=Hn(f,x);return p.useMemo(()=>({getItemProps:m,itemRef:v}),[m,v])}const ir=p.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function ci(){return p.useContext(ir)}let li=(function(e){return e[e.None=0]="None",e[e.GuessFromOrder=1]="GuessFromOrder",e})({});function ar(e={}){const{label:t,metadata:n,textRef:r,indexGuessBehavior:s,index:o}=e,{register:c,unregister:i,subscribeMapChange:d,elementsRef:f,labelsRef:u,nextIndexRef:a}=ci(),h=p.useRef(-1),[b,x]=p.useState(o??(s===li.GuessFromOrder?()=>{if(h.current===-1){const g=a.current;a.current+=1,h.current=g}return h.current}:-1)),m=p.useRef(null),v=p.useCallback(g=>{if(m.current=g,b!==-1&&g!==null&&(f.current[b]=g,u)){const y=t!==void 0;u.current[b]=y?t:r?.current?.textContent??g.textContent}},[b,f,u,t,r]);return te(()=>{if(o!=null)return;const g=m.current;if(g)return c(g,n),()=>{i(g)}},[o,c,i,n]),te(()=>{if(o==null)return d(g=>{const y=m.current?g.get(m.current)?.index:null;y!=null&&x(y)})},[o,d,x]),p.useMemo(()=>({ref:v,index:b}),[b,v])}const ui=p.forwardRef(function(t,n){const{render:r,className:s,id:o,label:c,nativeButton:i=!1,disabled:d=!1,closeOnClick:f=!0,...u}=t,a=ar({label:c}),h=or(!0),b=Wn(o),{store:x}=Je(),m=x.useState("isActive",a.index),v=x.useState("itemProps"),{getItemProps:g,itemRef:y}=ai({closeOnClick:f,disabled:d,highlighted:m,id:b,store:x,nativeButton:i,nodeId:h?.nodeId,itemMetadata:ii}),E=p.useMemo(()=>({disabled:d,highlighted:m}),[d,m]);return pt("div",t,{state:E,props:[v,u,g],ref:[y,n,a.ref]})}),fi=p.createContext(void 0);function di(e){return p.useContext(fi)}function mi(e){return e==="starting"?Ur:ht}const gi={...kn,...Yr},pi=p.forwardRef(function(t,n){const{render:r,className:s,finalFocus:o,...c}=t,{store:i}=Je(),{side:d,align:f}=or(),u=di()!=null,a=i.useState("open"),h=i.useState("transitionStatus"),b=i.useState("popupProps"),x=i.useState("mounted"),m=i.useState("instantType"),v=i.useState("activeTriggerElement"),g=i.useState("parent"),y=i.useState("lastOpenChangeReason"),E=i.useState("rootId"),w=i.useState("floatingRootContext"),l=i.useState("floatingTreeRoot"),T=i.useState("closeDelay"),C=i.useState("activeTriggerElement");qr({open:a,ref:i.context.popupRef,onComplete(){a&&i.context.onOpenChangeComplete?.(!0)}}),p.useEffect(()=>{function R(_){i.setOpen(!1,ue(_.reason,_.domEvent))}return l.events.on("close",R),()=>{l.events.off("close",R)}},[l.events,i]);const S=i.useState("hoverEnabled"),I=i.useState("disabled");Ks(w,{enabled:S&&!I&&g.type!=="context-menu"&&g.type!=="menubar",closeDelay:T});const A=p.useMemo(()=>({transitionStatus:h,side:d,align:f,open:a,nested:g.type==="menu",instant:m}),[h,d,f,a,g.type,m]),D=pt("div",t,{state:A,ref:[n,i.context.popupRef],stateAttributesMapping:gi,props:[b,{onKeyDown(R){u&&Xr.has(R.key)&&R.stopPropagation()}},mi(h),c,{"data-rootownerid":E}]});let P=g.type===void 0||g.type==="context-menu";return(v||g.type==="menubar"&&y!==Mo)&&(P=!0),z.jsx(Kr,{context:w,modal:!1,disabled:!x,returnFocus:o===void 0?P:o,initialFocus:g.type!=="menu",restoreFocus:!0,externalTree:g.type!=="menubar"?l:void 0,previousFocusableElement:C,nextFocusableElement:g.type===void 0?i.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:g.type===void 0?i.context.beforeContentFocusGuardRef:void 0,children:D})}),cr=p.createContext(void 0);function hi(){const e=p.useContext(cr);if(e===void 0)throw new Error(gt(32));return e}const yi=p.forwardRef(function(t,n){const{keepMounted:r=!1,...s}=t,{store:o}=Je();return o.useState("mounted")||r?z.jsx(cr.Provider,{value:r,children:z.jsx(Gr,{ref:n,...s})}):null}),xi=p.createContext(void 0);function lr(){return p.useContext(xi)?.direction??"ltr"}const bi=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:c,elements:i,middlewareData:d}=t,{element:f,padding:u=0,offsetParent:a="real"}=Ve(e,t)||{};if(f==null)return{};const h=Kn(u),b={x:n,y:r},x=cn(s),m=an(x),v=await c.getDimensions(f),g=x==="y",y=g?"top":"left",E=g?"bottom":"right",w=g?"clientHeight":"clientWidth",l=o.reference[m]+o.reference[x]-b[x]-o.floating[m],T=b[x]-o.reference[x],C=a==="real"?await c.getOffsetParent?.(f):i.floating;let S=i.floating[w]||o.floating[m];(!S||!await c.isElement?.(C))&&(S=i.floating[w]||o.floating[m]);const I=l/2-T/2,A=S/2-v[m]/2-1,D=Math.min(h[y],A),P=Math.min(h[E],A),R=D,_=S-v[m]-P,j=S/2-v[m]/2+I,L=Xt(R,j,_),O=!d.arrow&&Ye(s)!=null&&j!==L&&o.reference[m]/2-(j<R?D:P)-v[m]/2<0,M=O?j<R?j-R:j-_:0;return{[x]:b[x]+M,data:{[x]:L,centerOffset:j-L-M,...O&&{alignmentOffset:M}},reset:O}}}),vi=(e,t)=>({...bi(e),options:[e,t]}),Ri={name:"hide",async fn(e){const{width:t,height:n,x:r,y:s}=e.rects.reference,o=t===0&&n===0&&r===0&&s===0;return{data:{referenceHidden:(await js().fn(e)).data?.referenceHidden||o}}}},wi={sideX:"left",sideY:"top"};function ur(e,t,n){const r=e==="inline-start"||e==="inline-end";return{top:"top",right:r?n?"inline-start":"inline-end":"right",bottom:"bottom",left:r?n?"inline-end":"inline-start":"left"}[t]}function On(e,t,n){const{rects:r,placement:s}=e;return{side:ur(t,Se(s),n),align:Ye(s)||"center",anchor:{width:r.reference.width,height:r.reference.height},positioner:{width:r.floating.width,height:r.floating.height}}}function Ei(e){const{anchor:t,positionMethod:n="absolute",side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:c=0,collisionBoundary:i,collisionPadding:d=5,sticky:f=!1,arrowPadding:u=5,disableAnchorTracking:a=!1,keepMounted:h=!1,floatingRootContext:b,mounted:x,collisionAvoidance:m,shiftCrossAxis:v=!1,nodeId:g,adaptiveOrigin:y,lazyFlip:E=!1,externalTree:w}=e,[l,T]=p.useState(null);!x&&l!==null&&T(null);const C=m.side||"flip",S=m.align||"flip",I=m.fallbackAxisSide||"end",A=typeof t=="function"?t:void 0,D=ie(A),P=A?D:t,R=Ie(t),j=lr()==="rtl",L=l||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":j?"left":"right","inline-start":j?"right":"left"}[r],O=o==="center"?L:`${L}-${o}`;let M=d;const N=1,k=r==="bottom"?N:0,B=r==="top"?N:0,Y=r==="right"?N:0,F=r==="left"?N:0;typeof M=="number"?M={top:M+k,right:M+F,bottom:M+B,left:M+Y}:M&&(M={top:(M.top||0)+k,right:(M.right||0)+F,bottom:(M.bottom||0)+B,left:(M.left||0)+Y});const X={boundary:i==="clipping-ancestors"?"clippingAncestors":i,padding:M},Q=p.useRef(null),W=Ie(s),V=Ie(c),q=[Fs(ce=>{const de=On(ce,r,j),Ce=typeof W.current=="function"?W.current(de):W.current,Re=typeof V.current=="function"?V.current(de):V.current;return{mainAxis:Ce,crossAxis:Re,alignmentAxis:Re}},[typeof s!="function"?s:0,typeof c!="function"?c:0,j,r])],Z=S==="none"&&C!=="shift",pe=!Z&&(f||v||C==="shift"),De=C==="none"?null:Hs({...X,padding:{top:M.top+N,right:M.right+N,bottom:M.bottom+N,left:M.left+N},mainAxis:!v&&C==="flip",crossAxis:S==="flip"?"alignment":!1,fallbackAxisSideDirection:I}),Te=Z?null:Ns(ce=>{const de=Ct(ce.elements.floating).documentElement;return{...X,rootBoundary:v?{x:0,y:0,width:de.clientWidth,height:de.clientHeight}:void 0,mainAxis:S!=="none",crossAxis:pe,limiter:f||v?void 0:_s(Ce=>{if(!Q.current)return{};const{width:Re,height:je}=Q.current.getBoundingClientRect(),Pe=ke(Se(Ce.placement)),Ge=Pe==="y"?Re:je,Ht=Pe==="y"?M.left+M.right:M.top+M.bottom;return{offset:Ge/2+Ht/2}})}},[X,f,v,M,S]);C==="shift"||S==="shift"||o==="center"?q.push(Te,De):q.push(De,Te),q.push($s({...X,apply({elements:{floating:ce},rects:{reference:de},availableWidth:Ce,availableHeight:Re}){Object.entries({"--available-width":`${Ce}px`,"--available-height":`${Re}px`,"--anchor-width":`${de.width}px`,"--anchor-height":`${de.height}px`}).forEach(([je,Pe])=>{ce.style.setProperty(je,Pe)})}}),vi(()=>({element:Q.current||document.createElement("div"),padding:u,offsetParent:"floating"}),[u]),{name:"transformOrigin",fn(ce){const{elements:de,middlewareData:Ce,placement:Re,rects:je,y:Pe}=ce,Ge=Se(Re),Ht=ke(Ge),fn=Q.current,hr=Ce.arrow?.x||0,yr=Ce.arrow?.y||0,xr=fn?.clientWidth||0,br=fn?.clientHeight||0,$t=hr+xr/2,dn=yr+br/2,vr=Math.abs(Ce.shift?.y||0),Rr=je.reference.height/2,ot=typeof s=="function"?s(On(ce,r,j)):s,wr=vr>ot,Er={top:`${$t}px calc(100% + ${ot}px)`,bottom:`${$t}px ${-ot}px`,left:`calc(100% + ${ot}px) ${dn}px`,right:`${-ot}px ${dn}px`}[Ge],Cr=`${$t}px ${je.reference.y+Rr-Pe}px`;return de.floating.style.setProperty("--transform-origin",pe&&Ht==="y"&&wr?Cr:Er),{}}},Ri,y),te(()=>{!x&&b&&b.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[x,b]);const ye=p.useMemo(()=>({elementResize:!a&&typeof ResizeObserver<"u",layoutShift:!a&&typeof IntersectionObserver<"u"}),[a]),{refs:xe,elements:G,x:ae,y:oe,middlewareData:we,update:Fe,placement:Xe,context:H,isPositioned:K,floatingStyles:$}=Vs({rootContext:b,placement:O,middleware:q,strategy:n,whileElementsMounted:h?void 0:(...ce)=>Mn(...ce,ye),nodeId:g,externalTree:w}),{sideX:ee,sideY:se}=we.adaptiveOrigin||wi,fe=K?n:"fixed",Ne=p.useMemo(()=>y?{position:fe,[ee]:ae,[se]:oe}:{position:fe,...$},[y,fe,ee,ae,se,oe,$]),He=p.useRef(null);te(()=>{if(!x)return;const ce=R.current,de=typeof ce=="function"?ce():ce,Re=(Pn(de)?de.current:de)||null||null;Re!==He.current&&(xe.setPositionReference(Re),He.current=Re)},[x,xe,P,R]),p.useEffect(()=>{if(!x)return;const ce=R.current;typeof ce!="function"&&Pn(ce)&&ce.current!==He.current&&(xe.setPositionReference(ce.current),He.current=ce.current)},[x,xe,P,R]),p.useEffect(()=>{if(h&&x&&G.domReference&&G.floating)return Mn(G.domReference,G.floating,Fe,ye)},[h,x,G,Fe,ye]);const Oe=Se(Xe),Ee=ur(r,Oe,j),_e=Ye(Xe)||"center",U=!!we.hide?.referenceHidden;te(()=>{E&&x&&K&&T(Oe)},[E,x,K,Oe]);const J=p.useMemo(()=>({position:"absolute",top:we.arrow?.y,left:we.arrow?.x}),[we.arrow]),ge=we.arrow?.centerOffset!==0;return p.useMemo(()=>({positionerStyles:Ne,arrowStyles:J,arrowRef:Q,arrowUncentered:ge,side:Ee,align:_e,physicalSide:Oe,anchorHidden:U,refs:xe,context:H,isPositioned:K,update:Fe}),[Ne,J,Q,ge,Ee,_e,Oe,U,xe,H,K,Fe])}function Pn(e){return e!=null&&"current"in e}function Ci(e){const{children:t,elementsRef:n,labelsRef:r,onMapChange:s}=e,o=ie(s),c=p.useRef(0),i=Mt(Si).current,d=Mt(Mi).current,[f,u]=p.useState(0),a=p.useRef(f),h=ie((g,y)=>{d.set(g,y??null),a.current+=1,u(a.current)}),b=ie(g=>{d.delete(g),a.current+=1,u(a.current)}),x=p.useMemo(()=>{const g=new Map;return Array.from(d.keys()).filter(E=>E.isConnected).sort(Ti).forEach((E,w)=>{const l=d.get(E)??{};g.set(E,{...l,index:w})}),g},[d,f]);te(()=>{if(typeof MutationObserver!="function"||x.size===0)return;const g=new MutationObserver(y=>{const E=new Set,w=l=>E.has(l)?E.delete(l):E.add(l);y.forEach(l=>{l.removedNodes.forEach(w),l.addedNodes.forEach(w)}),E.size===0&&(a.current+=1,u(a.current))});return x.forEach((y,E)=>{E.parentElement&&g.observe(E.parentElement,{childList:!0})}),()=>{g.disconnect()}},[x]),te(()=>{a.current===f&&(n.current.length!==x.size&&(n.current.length=x.size),r&&r.current.length!==x.size&&(r.current.length=x.size),c.current=x.size),o(x)},[o,x,n,r,f]),te(()=>()=>{n.current=[]},[n]),te(()=>()=>{r&&(r.current=[])},[r]);const m=ie(g=>(i.add(g),()=>{i.delete(g)}));te(()=>{i.forEach(g=>g(x))},[i,x]);const v=p.useMemo(()=>({register:h,unregister:b,subscribeMapChange:m,elementsRef:n,labelsRef:r,nextIndexRef:c}),[h,b,m,n,r,c]);return z.jsx(ir.Provider,{value:v,children:t})}function Mi(){return new Map}function Si(){return new Set}function Ti(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Oi=p.forwardRef(function(t,n){const{anchor:r,positionMethod:s="absolute",className:o,render:c,side:i,align:d,sideOffset:f=0,alignOffset:u=0,collisionBoundary:a="clipping-ancestors",collisionPadding:h=5,arrowPadding:b=5,sticky:x=!1,disableAnchorTracking:m=!1,collisionAvoidance:v=Zr,...g}=t,{store:y}=Je(),E=hi(),w=_t(!0),l=y.useState("parent"),T=y.useState("floatingRootContext"),C=y.useState("floatingTreeRoot"),S=y.useState("mounted"),I=y.useState("open"),A=y.useState("modal"),D=y.useState("activeTriggerElement"),P=y.useState("lastOpenChangeReason"),R=y.useState("floatingNodeId"),_=y.useState("floatingParentNodeId");let j=r,L=f,O=u,M=d,N=v;l.type==="context-menu"&&(j=r??l.context?.anchor,M=M??"start",!i&&M!=="center"&&(O=t.alignOffset??2,L=t.sideOffset??-5));let k=i,B=M;l.type==="menu"?(k=k??"inline-end",B=B??"start",N=t.collisionAvoidance??Jr):l.type==="menubar"&&(k=k??"bottom",B=B??"start");const Y=l.type==="context-menu",F=Ei({anchor:j,floatingRootContext:T,positionMethod:w?"fixed":s,mounted:S,side:k,sideOffset:L,align:B,alignOffset:O,arrowPadding:Y?0:b,collisionBoundary:a,collisionPadding:h,sticky:x,nodeId:R,keepMounted:E,disableAnchorTracking:m,collisionAvoidance:N,shiftCrossAxis:Y,externalTree:C}),X=p.useMemo(()=>{const q={};return I||(q.pointerEvents="none"),{role:"presentation",hidden:!S,style:{...F.positionerStyles,...q}}},[I,S,F.positionerStyles]);p.useEffect(()=>{function q(Z){Z.open?(Z.parentNodeId===R&&y.set("hoverEnabled",!1),Z.nodeId!==R&&Z.parentNodeId===y.select("floatingParentNodeId")&&y.setOpen(!1,ue(st))):Z.parentNodeId===R&&Z.reason!==st&&y.set("hoverEnabled",!0)}return C.events.on("menuopenchange",q),()=>{C.events.off("menuopenchange",q)}},[y,C.events,R]),p.useEffect(()=>{if(y.select("floatingParentNodeId")==null)return;function q(Z){if(Z.open||Z.nodeId!==y.select("floatingParentNodeId"))return;const pe=Z.reason??st;y.setOpen(!1,ue(pe))}return C.events.on("menuopenchange",q),()=>{C.events.off("menuopenchange",q)}},[C.events,y]),p.useEffect(()=>{function q(Z){!I||Z.nodeId!==y.select("floatingParentNodeId")||Z.target&&D&&D!==Z.target&&y.setOpen(!1,ue(st))}return C.events.on("itemhover",q),()=>{C.events.off("itemhover",q)}},[C.events,I,D,y]),p.useEffect(()=>{const q={open:I,nodeId:R,parentNodeId:_,reason:y.select("lastOpenChangeReason")};C.events.emit("menuopenchange",q)},[C.events,I,y,R,_]);const Q=p.useMemo(()=>({open:I,side:F.side,align:F.align,anchorHidden:F.anchorHidden,nested:l.type==="menu"}),[I,F.side,F.align,F.anchorHidden,l.type]),W=p.useMemo(()=>({side:F.side,align:F.align,arrowRef:F.arrowRef,arrowUncentered:F.arrowUncentered,arrowStyles:F.arrowStyles,nodeId:F.context.nodeId}),[F.side,F.align,F.arrowRef,F.arrowUncentered,F.arrowStyles,F.context.nodeId]),V=pt("div",t,{state:Q,stateAttributesMapping:kn,ref:[n,y.useStateSetter("positionerElement")],props:[X,g]}),ne=S&&l.type!=="menu"&&(l.type!=="menubar"&&A&&P!==Ae||l.type==="menubar"&&l.context.modal);let re=null;return l.type==="menubar"?re=l.context.contentElement:l.type===void 0&&(re=D),z.jsxs(rr.Provider,{value:W,children:[ne&&z.jsx(Qr,{ref:l.type==="context-menu"||l.type==="nested-context-menu"?l.context.internalBackdropRef:null,inert:eo(!I),cutout:re}),z.jsx(to,{id:R,children:z.jsx(Ci,{elementsRef:y.context.itemDomElements,labelsRef:y.context.itemLabels,children:V})})]})}),Pi=p.createContext(null);function fr(e){return p.useContext(Pi)}const Ii={...ro,disabled:me(e=>e.parent.type==="menubar"&&e.parent.context.disabled||e.disabled),modal:me(e=>(e.parent.type===void 0||e.parent.type==="context-menu")&&(e.modal??!0)),allowMouseEnter:me(e=>e.parent.type==="menu"?e.parent.store.select("allowMouseEnter"):e.allowMouseEnter),stickIfOpen:me(e=>e.stickIfOpen),parent:me(e=>e.parent),rootId:me(e=>e.parent.type==="menu"?e.parent.store.select("rootId"):e.parent.type!==void 0?e.parent.context.rootId:e.rootId),activeIndex:me(e=>e.activeIndex),isActive:me((e,t)=>e.activeIndex===t),hoverEnabled:me(e=>e.hoverEnabled),instantType:me(e=>e.instantType),lastOpenChangeReason:me(e=>e.openChangeReason),floatingTreeRoot:me(e=>e.parent.type==="menu"?e.parent.store.select("floatingTreeRoot"):e.floatingTreeRoot),floatingNodeId:me(e=>e.floatingNodeId),floatingParentNodeId:me(e=>e.floatingParentNodeId),itemProps:me(e=>e.itemProps),closeDelay:me(e=>e.closeDelay),keyboardEventRelay:me(e=>{if(e.keyboardEventRelay)return e.keyboardEventRelay;if(e.parent.type==="menu")return e.parent.store.select("keyboardEventRelay")})};class un extends no{constructor(t){super({...Ai(),...t},{positionerRef:p.createRef(),popupRef:p.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:p.createRef(),beforeContentFocusGuardRef:p.createRef(),onOpenChangeComplete:void 0,triggerElements:new In},Ii),this.observe(me(n=>n.allowMouseEnter),(n,r)=>{this.state.parent.type==="menu"&&n!==r&&this.state.parent.store.set("allowMouseEnter",n)}),this.unsubscribeParentListener=this.observe("parent",n=>{if(this.unsubscribeParentListener?.(),n.type==="menu"){this.unsubscribeParentListener=n.store.subscribe(()=>{this.notifyAll()}),this.context.allowMouseUpTriggerRef=n.store.context.allowMouseUpTriggerRef;return}n.type!==void 0&&(this.context.allowMouseUpTriggerRef=n.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(t,n){this.state.floatingRootContext.context.events.emit("setOpen",{open:t,eventDetails:n})}static useStore(t,n){return Mt(()=>t??new un(n)).current}unsubscribeParentListener=null}function Ai(){return{...oo(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new Ln,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:ht,keyboardEventRelay:void 0,closeDelay:0}}const ki=p.createContext(void 0);function Li(){return p.useContext(ki)}function Di(e){const{children:t,open:n,onOpenChange:r,onOpenChangeComplete:s,defaultOpen:o=!1,disabled:c=!1,modal:i,loopFocus:d=!0,orientation:f="vertical",actionsRef:u,closeParentOnEsc:a=!1,handle:h,triggerId:b,defaultTriggerId:x=null,highlightItemOnHover:m=!0}=e,v=_t(!0),g=Je(!0),y=fr(),E=Li(),w=p.useMemo(()=>E&&g?{type:"menu",store:g.store}:y?{type:"menubar",context:y}:v&&!g?{type:"context-menu",context:v}:{type:void 0},[v,g,y,E]),l=un.useStore(h?.store,{parent:w}),T=l.useState("floatingTreeRoot"),C=Dn(T),S=dt();te(()=>{v&&!g?l.update({parent:{type:"context-menu",context:v},floatingNodeId:C,floatingParentNodeId:S}):g&&l.update({floatingNodeId:C,floatingParentNodeId:S})},[v,g,C,S,l]),l.useControlledProp("open",n,o),l.useControlledProp("activeTriggerId",b,x),l.useContextCallback("onOpenChangeComplete",s);const I=l.useState("open"),A=l.useState("activeTriggerElement"),D=l.useState("positionerElement"),P=l.useState("hoverEnabled"),R=l.useState("modal"),_=l.useState("disabled"),j=l.useState("lastOpenChangeReason"),L=l.useState("parent"),O=l.useState("activeIndex"),M=l.useState("payload"),N=l.useState("floatingParentNodeId"),k=p.useRef(null),B=N!=null;let Y;l.useSyncedValues({disabled:c,modal:L.type===void 0?i:void 0,rootId:$n()});const{openMethod:F,triggerProps:X,reset:Q}=so(I);io(l);const{forceUnmount:W}=ao(I,l,()=>{l.update({allowMouseEnter:!1,stickIfOpen:!0}),Q()}),V=p.useRef(L.type!=="context-menu"),ne=Ke();p.useEffect(()=>{if(I||(k.current=null),L.type==="context-menu"){if(!I){ne.clear(),V.current=!1;return}ne.start(500,()=>{V.current=!0})}},[ne,I,L.type]),co(I&&R&&j!==Ae&&F!=="touch",D),te(()=>{!I&&!P&&l.set("hoverEnabled",!0)},[I,P,l]);const re=p.useRef(!0),q=Ke(),Z=ie((U,J)=>{const ge=J.reason;if(I===U&&J.trigger===A||(J.preventUnmountOnClose=()=>{l.set("preventUnmountingOnClose",!0)},!U&&J.trigger==null&&(J.trigger=A??void 0),r?.(U,J),J.isCanceled))return;const ce={open:U,nativeEvent:J.event,reason:J.reason,nested:B};Y?.emit("openchange",ce);const de=J.event;if(U===!1&&de?.type==="click"&&de.pointerType==="touch"&&!re.current)return;if(!U&&O!==null){const Pe=l.context.itemDomElements.current[O];queueMicrotask(()=>{Pe?.setAttribute("tabindex","-1")})}U&&ge===Tt?(re.current=!1,q.start(300,()=>{re.current=!0})):(re.current=!0,q.clear());const Ce=(ge===jn||ge===Vn)&&de.detail===0&&de?.isTrusted,Re=!U&&(ge===Bn||ge==null);function je(){const Pe={open:U,openChangeReason:ge};k.current=J.event??null;const Ge=J.trigger?.id??null;(Ge||U)&&(Pe.activeTriggerId=Ge,Pe.activeTriggerElement=J.trigger??null),l.update(Pe)}ge===Ae?ct.flushSync(je):je(),L.type==="menubar"&&(ge===Tt||ge===Ot||ge===Ae||ge===vt||ge===st)?l.set("instantType","group"):Ce||Re?l.set("instantType",Ce?"click":"dismiss"):l.set("instantType",void 0)}),pe=p.useCallback(U=>{const J=ue(U);return J.preventUnmountOnClose=()=>{l.set("preventUnmountingOnClose",!0)},J},[l]),De=p.useCallback(()=>{l.setOpen(!1,pe(So))},[l,pe]);p.useImperativeHandle(u,()=>({unmount:W,close:De}),[W,De]);let Te;L.type==="context-menu"&&(Te=L.context),p.useImperativeHandle(Te?.positionerRef,()=>D,[D]),p.useImperativeHandle(Te?.actionsRef,()=>({setOpen:Z}),[Z]);const ye=lo({popupStore:l,onOpenChange:Z});Y=ye.context.events,p.useEffect(()=>{const U=({open:J,eventDetails:ge})=>Z(J,ge);return Y.on("setOpen",U),()=>{Y?.off("setOpen",U)}},[Y,Z]);const xe=uo(ye,{enabled:!_,bubbles:a&&L.type==="menu",outsidePress(){return L.type!=="context-menu"||k.current?.type==="contextmenu"?!0:V.current},externalTree:B?T:void 0}),G=fo(ye,{role:"menu"}),ae=lr(),oe=p.useCallback(U=>{l.select("activeIndex")!==U&&l.set("activeIndex",U)},[l]),we=ei(ye,{enabled:!_,listRef:l.context.itemDomElements,activeIndex:O,nested:L.type!==void 0,loopFocus:d,orientation:f,parentOrientation:L.type==="menubar"?L.context.orientation:void 0,rtl:ae==="rtl",disabledIndices:St,onNavigate:oe,openOnArrowKeyDown:L.type!=="context-menu",externalTree:B?T:void 0,focusItemOnHover:m}),Fe=p.useCallback(U=>{l.context.typingRef.current=U},[l]),Xe=ti(ye,{listRef:l.context.itemLabels,activeIndex:O,resetMs:mo,onMatch:U=>{I&&U!==O&&l.set("activeIndex",U)},onTypingChange:Fe}),{getReferenceProps:H,getFloatingProps:K,getItemProps:$,getTriggerProps:ee}=Fn([xe,G,we,Xe]),se=p.useMemo(()=>{const U=Yt(H(),{onMouseEnter(){l.set("hoverEnabled",!0)},onMouseMove(){l.set("allowMouseEnter",!0)}},X);return delete U.role,U},[H,l,X]),fe=p.useMemo(()=>{const U=ee();if(!U)return U;const J=Yt(U,X);return delete J.role,delete J["aria-controls"],J},[ee,X]),Ne=go(),He=p.useMemo(()=>K({onMouseEnter(){L.type==="menu"&&Ne.request(()=>l.set("hoverEnabled",!1))},onMouseMove(){l.set("allowMouseEnter",!0)},onClick(){l.select("hoverEnabled")&&l.set("hoverEnabled",!1)},onKeyDown(U){const J=l.select("keyboardEventRelay");J&&!U.isPropagationStopped()&&J(U)}}),[K,L.type,Ne,l]),Oe=p.useMemo(()=>$(),[$]);l.useSyncedValues({floatingRootContext:ye,activeTriggerProps:se,inactiveTriggerProps:fe,popupProps:He,itemProps:Oe});const Ee=p.useMemo(()=>({store:l,parent:w}),[l,w]),_e=z.jsx(sr.Provider,{value:Ee,children:typeof t=="function"?t({payload:M}):t});return L.type===void 0||L.type==="context-menu"?z.jsx(po,{externalTree:T,children:_e}):_e}function Fi(e){const t=e.getBoundingClientRect(),n=window.getComputedStyle(e,"::before"),r=window.getComputedStyle(e,"::after");if(!(n.content!=="none"||r.content!=="none"))return t;const o=parseFloat(n.width)||0,c=parseFloat(n.height)||0,i=parseFloat(r.width)||0,d=parseFloat(r.height)||0,f=Math.max(t.width,o,i),u=Math.max(t.height,c,d),a=f-t.width,h=u-t.height;return{left:t.left-a/2,right:t.right+a/2,top:t.top-h/2,bottom:t.bottom+h/2}}function Ni(e={}){const{highlightItemOnHover:t,highlightedIndex:n,onHighlightedIndexChange:r}=Un(),{ref:s,index:o}=ar(e),c=n===o,i=p.useRef(null),d=Hn(s,i);return{compositeProps:p.useMemo(()=>({tabIndex:c?0:-1,onFocus(){r(o)},onMouseMove(){const u=i.current;if(!t||!u)return;const a=u.hasAttribute("disabled")||u.ariaDisabled==="true";!c&&!a&&u.focus()}}),[c,r,o,t]),compositeRef:d,index:o}}function _i(e){const{render:t,className:n,state:r=ht,props:s=St,refs:o=St,metadata:c,stateAttributesMapping:i,tag:d="div",...f}=e,{compositeProps:u,compositeRef:a}=Ni({metadata:c});return pt(d,e,{state:r,ref:[...o,a],props:[u,...s,f],stateAttributesMapping:i})}function dr(e){if(Le(e)&&e.hasAttribute("data-rootownerid"))return e.getAttribute("data-rootownerid")??void 0;if(!lt(e))return dr(nt(e))}function Hi(e){const{enabled:t=!0,mouseDownAction:n,open:r}=e,s=p.useRef(!1);return p.useMemo(()=>t?{onMouseDown:o=>{(n==="open"&&!r||n==="close"&&r)&&(s.current=!0,Ct(o.currentTarget).addEventListener("click",()=>{s.current=!1},{once:!0}))},onClick:o=>{s.current&&(s.current=!1,o.preventBaseUIHandler())}}:ht,[t,n,r])}const bt=2,$i=p.forwardRef(function(t,n){const{render:r,className:s,disabled:o=!1,nativeButton:c=!0,id:i,openOnHover:d,delay:f=100,closeDelay:u=0,handle:a,payload:h,...b}=t,x=Je(!0),m=a?.store??x?.store;if(!m)throw new Error(gt(85));const v=Wn(i),g=m.useState("isTriggerActive",v),y=m.useState("floatingRootContext"),E=m.useState("isOpenedByTrigger",v),w=p.useRef(null),l=Bi(),T=Un(!0),C=mt(),S=p.useMemo(()=>C??new Ln,[C]),I=Dn(S),A=dt(),{registerTrigger:D,isMountedByThisTrigger:P}=ho(v,w,m,{payload:h,closeDelay:u,parent:l,floatingTreeRoot:S,floatingNodeId:I,floatingParentNodeId:A,keyboardEventRelay:T?.relayKeyboardEvent}),R=m.useState("disabled"),_=o||R||l.type==="menubar"&&l.context.disabled,{getButtonProps:j,buttonRef:L}=zn({disabled:_,native:c});p.useEffect(()=>{!E&&l.type===void 0&&(m.context.allowMouseUpTriggerRef.current=!1)},[m,E,l.type]);const O=p.useRef(null),M=Ke(),N=ie(G=>{if(!O.current)return;M.clear(),m.context.allowMouseUpTriggerRef.current=!1;const ae=G.target;if(ve(O.current,ae)||ve(m.select("positionerElement"),ae)||ae===O.current||ae!=null&&dr(ae)===m.select("rootId"))return;const oe=Fi(O.current);G.clientX>=oe.left-bt&&G.clientX<=oe.right+bt&&G.clientY>=oe.top-bt&&G.clientY<=oe.bottom+bt||S.events.emit("close",{domEvent:G,reason:To})});p.useEffect(()=>{E&&m.select("lastOpenChangeReason")===Ae&&Ct(O.current).addEventListener("mouseup",N,{once:!0})},[E,N,m]);const k=l.type==="menubar"&&l.context.hasSubmenuOpen,Y=Gs(y,{enabled:(d??k??!1)&&!_&&l.type!=="context-menu"&&(l.type!=="menubar"||k&&!P),handleClose:ri({blockPointerEvents:l.type!=="menubar"}),mouseOnly:!0,move:!1,restMs:l.type===void 0?f:void 0,delay:{close:u},triggerElementRef:w,externalTree:S,isActiveTrigger:g}),F=ji(E,m.select("lastOpenChangeReason")),X=yo(y,{enabled:!_&&l.type!=="context-menu",event:E&&l.type==="menubar"?"click":"mousedown",toggle:!0,ignoreMouse:!1,stickIfOpen:l.type===void 0?F:!1}),Q=Ws(y,{enabled:!_&&(l.type!=="menubar"&&E||k)}),W=Hi({open:E,enabled:l.type==="menubar",mouseDownAction:"open"}),V=Fn([X,Q]),ne=l.type==="menubar",re=p.useMemo(()=>({disabled:_,open:E}),[_,E]),q=m.useState("triggerProps",P),Z=[O,n,L,D,w],pe=[V.getReferenceProps(),Y??ht,q,{"aria-haspopup":"menu",id:v,onMouseDown:G=>{if(m.select("open"))return;M.start(200,()=>{m.context.allowMouseUpTriggerRef.current=!0}),Ct(G.currentTarget).addEventListener("mouseup",N,{once:!0})}},ne?{role:"menuitem"}:{},W,b,j],De=p.useRef(null),Te=ie(G=>{ct.flushSync(()=>{m.setOpen(!1,ue(Ot,G.nativeEvent,G.currentTarget))}),xo(De.current)?.focus()}),ye=ie(G=>{const ae=m.select("positionerElement");if(ae&&bo(G,ae))m.context.beforeContentFocusGuardRef.current?.focus();else{ct.flushSync(()=>{m.setOpen(!1,ue(Ot,G.nativeEvent,G.currentTarget))});let oe=vo(w.current);for(;oe!==null&&ve(ae,oe)||oe?.hasAttribute("aria-hidden");){const we=oe;if(oe=Ro(oe),oe===we)break}oe?.focus()}}),xe=pt("button",t,{enabled:!ne,stateAttributesMapping:mn,state:re,ref:Z,props:pe});return ne?z.jsx(_i,{tag:"button",render:r,className:s,state:re,refs:Z,props:pe,stateAttributesMapping:mn}):E?z.jsxs(p.Fragment,{children:[z.jsx(gn,{ref:De,onFocus:Te},`${v}-pre-focus-guard`),z.jsx(p.Fragment,{children:xe},v),z.jsx(gn,{ref:m.context.triggerFocusTargetRef,onFocus:ye},`${v}-post-focus-guard`)]}):z.jsx(p.Fragment,{children:xe},v)});function ji(e,t){const n=Ke(),[r,s]=p.useState(!1);return te(()=>{e&&t==="trigger-hover"?(s(!0),n.start(wo,()=>{s(!1)})):e||(n.clear(),s(!1))},[e,t,n]),r}function Bi(){const e=_t(!0),t=Je(!0),n=fr();return p.useMemo(()=>n?{type:"menubar",context:n}:e&&!t?{type:"context-menu",context:e}:{type:void 0},[e,t,n])}function mr({...e}){return z.jsx(Di,{"data-slot":"dropdown-menu",...e})}function gr({...e}){return z.jsx($i,{"data-slot":"dropdown-menu-trigger",...e})}function pr({align:e="start",alignOffset:t=0,side:n="bottom",sideOffset:r=4,className:s,...o}){return z.jsx(yi,{children:z.jsx(Oi,{className:"isolate z-50 outline-none",align:e,alignOffset:t,side:n,sideOffset:r,children:z.jsx(pi,{"data-slot":"dropdown-menu-content",className:en("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 bg-popover text-popover-foreground min-w-32 rounded-lg p-1 shadow-md ring-1 duration-100 dark z-50 max-h-(--available-height) w-(--anchor-width) origin-(--transform-origin) overflow-x-hidden overflow-y-auto outline-none data-closed:overflow-hidden",s),...o})})})}function Jt({className:e,inset:t,variant:n="default",...r}){return z.jsx(ui,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:en("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive not-data-[variant=destructive]:focus:**:text-accent-foreground gap-1.5 rounded-md px-1.5 py-1 text-sm [&_svg:not([class*='size-'])]:size-4 group/dropdown-menu-item relative flex cursor-default items-center outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r})}mr.__docgenInfo={description:"",methods:[],displayName:"DropdownMenu"};gr.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuTrigger"};pr.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuContent",props:{align:{defaultValue:{value:'"start"',computed:!1},required:!1},alignOffset:{defaultValue:{value:"0",computed:!1},required:!1},side:{defaultValue:{value:'"bottom"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};Jt.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuItem",props:{inset:{required:!1,tsType:{name:"boolean"},description:""},variant:{required:!1,tsType:{name:"union",raw:'"default" | "destructive"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"destructive"'}]},description:"",defaultValue:{value:'"default"',computed:!1}}}};function Vi({wallets:e,currentWalletId:t,selectedChain:n,chainPreferences:r={},chainNames:s,onWalletChange:o,onCopyAddress:c,onOpenChainSelector:i,onOpenSettings:d,onOpenWalletList:f,onAddWallet:u,onOpenAddressBalance:a,onOpenAddressTransactions:h,className:b}){const x=p.useRef(null),{getWalletTheme:m}=Ir(),v=oi(),g=e.findIndex(S=>S.id===t),[y,E]=p.useState(g>=0?g:0),w=S=>S===y?"high":Math.abs(S-y)===1?"medium":"low";p.useEffect(()=>{x.current&&g>=0&&x.current.slideTo(g,0)},[g]);const l=p.useCallback(S=>{E(S.activeIndex);const I=e[S.activeIndex];I&&I.id!==t&&o?.(I.id)},[e,t,o]),T=S=>r[S.id]??S.chain??n,C=(S,I)=>S.chainAddresses.find(D=>D.chain===I)?.address??S.address;return e.length===0?null:z.jsxs("div",{className:en("relative w-full pt-12 pb-2",b),children:[e.length>1&&z.jsxs("button",{onClick:f,className:"bg-primary text-primary-foreground hover:bg-primary/90 absolute top-0 left-4 z-10 flex items-center gap-1.5 rounded-full px-3 py-1.5 text-xs font-medium backdrop-blur-sm transition-colors",children:[z.jsx(Oo,{className:"size-3.5"}),z.jsxs("span",{children:[e.length," "]})]}),z.jsxs("div",{className:"absolute top-0 right-4 z-10 flex items-center gap-1.5",children:[u&&z.jsx("button",{onClick:u,className:"bg-primary text-primary-foreground hover:bg-primary/90 flex items-center justify-center rounded-full p-1.5 backdrop-blur-sm transition-colors",children:z.jsx(Po,{className:"size-4"})}),(a||h)&&z.jsxs(mr,{children:[z.jsx(gr,{className:"bg-primary text-primary-foreground hover:bg-primary/90 flex items-center justify-center rounded-full p-1.5 backdrop-blur-sm transition-colors",children:z.jsx(ko,{className:"size-4"})}),z.jsxs(pr,{align:"end",sideOffset:8,children:[a&&z.jsxs(Jt,{onClick:a,children:[z.jsx(Io,{className:"size-4"}),""]}),h&&z.jsxs(Jt,{onClick:h,children:[z.jsx(Do,{className:"size-4"}),""]})]})]})]}),z.jsx(Tr,{modules:[$o],effect:"cards",grabCursor:!0,cardsEffect:{perSlideOffset:8,perSlideRotate:2,rotate:!0,slideShadows:!1},onSwiper:S=>{x.current=S,E(S.activeIndex)},onSlideChange:l,initialSlide:g>=0?g:0,className:"mx-auto h-[212px] w-[min(92vw,360px)] overflow-visible [&_.swiper-slide]:size-full [&_.swiper-slide]:overflow-visible! [&_.swiper-slide]:rounded-2xl",children:e.map((S,I)=>{const A=T(S),D=C(S,A);return z.jsx(Or,{children:z.jsx(Pr,{wallet:S,chain:A,chainName:s[A]??A,priority:w(I),address:D,chainIconUrl:v[A],themeHue:m(S.id),onCopyAddress:()=>{D&&c?.(D)},onOpenChainSelector:i?()=>i(S.id):void 0,onOpenSettings:d?()=>d(S.id):void 0})},S.id)})})]})}Vi.__docgenInfo={description:`
 Swiper `,methods:[],displayName:"WalletCardCarousel",props:{wallets:{required:!0,tsType:{name:"Array",elements:[{name:"Wallet"}],raw:"Wallet[]"},description:""},currentWalletId:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},selectedChain:{required:!0,tsType:{name:"ChainType"},description:""},chainPreferences:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"ChainType"}],raw:"Record<string, ChainType>"},description:" (walletId -> chainId)",defaultValue:{value:"{}",computed:!1}},chainNames:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},description:""},onWalletChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(walletId: string) => void",signature:{arguments:[{type:{name:"string"},name:"walletId"}],return:{name:"void"}}},description:""},onCopyAddress:{required:!1,tsType:{name:"signature",type:"function",raw:"(address: string) => void",signature:{arguments:[{type:{name:"string"},name:"address"}],return:{name:"void"}}},description:""},onOpenChainSelector:{required:!1,tsType:{name:"signature",type:"function",raw:"(walletId: string) => void",signature:{arguments:[{type:{name:"string"},name:"walletId"}],return:{name:"void"}}},description:""},onOpenSettings:{required:!1,tsType:{name:"signature",type:"function",raw:"(walletId: string) => void",signature:{arguments:[{type:{name:"string"},name:"walletId"}],return:{name:"void"}}},description:""},onOpenWalletList:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onAddWallet:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onOpenAddressBalance:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onOpenAddressTransactions:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{Ci as C,li as I,Vi as W,Bs as a,ei as b,ti as c,Ei as d,di as e,mi as f,Fi as g,ar as h,ko as i,oi as u};
