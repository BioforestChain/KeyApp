import{r as b,j as bn}from"./iframe-CftqfirD.js";import{g as wt,e as q,h as ye,j as Te,k as Ft,l as xe,i as ue,n as Xt,o as Ot,p as Ye,q as rt,r as On,s as Jt,t as Cn,v as Ct,w as At,x as lt,d as yt,b as H,a as ae,y as An,E as En}from"./useRenderElement-DosBXD0d.js";import{A as Et,s as G,v as Ge,w as Ee,x as Se,b as Qt,F as Sn,P as vn,y as Zt,g as Mn,z as pe,B as Pn,D as Tn,E as It,G as Dn,l as Nt,k as Ln,H as kn,J as Fn,K as In,L as Nn,M as $n}from"./composite-EYx6siFC.js";import{u as Vn,c as Ze,l as gt,f as Wn}from"./useBaseUiId-BA1HKLNN.js";import{r as zn}from"./index-Ct20z3_o.js";const Bn=["top","right","bottom","left"],We=Math.min,Q=Math.max,ot=Math.round,$e=Math.floor,fe=e=>({x:e,y:e}),Hn={left:"right",right:"left",bottom:"top",top:"bottom"},_n={start:"end",end:"start"};function Rt(e,t,r){return Q(e,We(t,r))}function we(e,t){return typeof e=="function"?e(t):e}function Z(e){return e.split("-")[0]}function ve(e){return e.split("-")[1]}function St(e){return e==="x"?"y":"x"}function vt(e){return e==="y"?"height":"width"}const Kn=new Set(["top","bottom"]);function ne(e){return Kn.has(Z(e))?"y":"x"}function Mt(e){return St(ne(e))}function jn(e,t,r){r===void 0&&(r=!1);const n=ve(e),i=Mt(e),o=vt(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=it(s)),[s,it(s)]}function Yn(e){const t=it(e);return[bt(e),t,bt(t)]}function bt(e){return e.replace(/start|end/g,t=>_n[t])}const $t=["left","right"],Vt=["right","left"],Un=["top","bottom"],Gn=["bottom","top"];function qn(e,t,r){switch(e){case"top":case"bottom":return r?t?Vt:$t:t?$t:Vt;case"left":case"right":return t?Un:Gn;default:return[]}}function Xn(e,t,r,n){const i=ve(e);let o=qn(Z(e),r==="start",n);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(bt)))),o}function it(e){return e.replace(/left|right|bottom|top/g,t=>Hn[t])}function Jn(e){return{top:0,right:0,bottom:0,left:0,...e}}function en(e){return typeof e!="number"?Jn(e):{top:e,right:e,bottom:e,left:e}}function st(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function et(e,t,r){return Math.floor(e/t)!==r}function Ke(e,t){return t<0||t>=e.current.length}function mt(e,t){return U(e,{disabledIndices:t})}function Wt(e,t){return U(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function U(e,{startingIndex:t=-1,decrement:r=!1,disabledIndices:n,amount:i=1}={}){let o=t;do o+=r?-i:i;while(o>=0&&o<=e.current.length-1&&je(e,o,n));return o}function Qn(e,{event:t,orientation:r,loopFocus:n,rtl:i,cols:o,disabledIndices:s,minIndex:c,maxIndex:d,prevIndex:f,stopEvent:a=!1}){let l=f;const h=[],m={};let g=!1;{let u=null,w=-1;e.current.forEach((O,p)=>{if(O==null)return;const R=O.closest('[role="row"]');R&&(g=!0),(R!==u||w===-1)&&(u=R,w+=1,h[w]=[]),h[w].push(p),m[p]=w})}const x=g&&h.length>0&&h.some(u=>u.length!==o);function y(u){if(!x||f===-1)return;const w=m[f];if(w==null)return;const O=h[w].indexOf(f);let p=u==="up"?w-1:w+1;n&&(p<0?p=h.length-1:p>=h.length&&(p=0));const R=new Set;for(;p>=0&&p<h.length&&!R.has(p);){R.add(p);const E=h[p];if(E.length===0){p=u==="up"?p-1:p+1;continue}const A=Math.min(O,E.length-1);for(let P=A;P>=0;P-=1){const j=E[P];if(!je(e,j,s))return j}p=u==="up"?p-1:p+1,n&&(p<0?p=h.length-1:p>=h.length&&(p=0))}}if(t.key===Et){const u=y("up");if(u!==void 0)a&&G(t),l=u;else{if(a&&G(t),f===-1)l=d;else if(l=U(e,{startingIndex:l,amount:o,decrement:!0,disabledIndices:s}),n&&(f-o<c||l<0)){const w=f%o,O=d%o,p=d-(O-w);O===w?l=d:l=O>w?p:p-o}Ke(e,l)&&(l=f)}}if(t.key===Ge){const u=y("down");u!==void 0?(a&&G(t),l=u):(a&&G(t),f===-1?l=c:(l=U(e,{startingIndex:f,amount:o,disabledIndices:s}),n&&f+o>d&&(l=U(e,{startingIndex:f%o-o,amount:o,disabledIndices:s}))),Ke(e,l)&&(l=f))}if(r==="both"){const u=$e(f/o);t.key===(i?Ee:Se)&&(a&&G(t),f%o!==o-1?(l=U(e,{startingIndex:f,disabledIndices:s}),n&&et(l,o,u)&&(l=U(e,{startingIndex:f-f%o-1,disabledIndices:s}))):n&&(l=U(e,{startingIndex:f-f%o-1,disabledIndices:s})),et(l,o,u)&&(l=f)),t.key===(i?Se:Ee)&&(a&&G(t),f%o!==0?(l=U(e,{startingIndex:f,decrement:!0,disabledIndices:s}),n&&et(l,o,u)&&(l=U(e,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:s}))):n&&(l=U(e,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:s})),et(l,o,u)&&(l=f));const w=$e(d/o)===u;Ke(e,l)&&(n&&w?l=t.key===(i?Se:Ee)?d:U(e,{startingIndex:f-f%o-1,disabledIndices:s}):l=f)}return l}function Zn(e,t,r){const n=[];let i=0;return e.forEach(({width:o,height:s},c)=>{let d=!1;for(r&&(i=0);!d;){const f=[];for(let a=0;a<o;a+=1)for(let l=0;l<s;l+=1)f.push(i+a+l*t);i%t+o<=t&&f.every(a=>n[a]==null)?(f.forEach(a=>{n[a]=c}),d=!0):i+=1}}),[...n]}function er(e,t,r,n,i){if(e===-1)return-1;const o=r.indexOf(e),s=t[e];switch(i){case"tl":return o;case"tr":return s?o+s.width-1:o;case"bl":return s?o+(s.height-1)*n:o;case"br":return r.lastIndexOf(e);default:return-1}}function tr(e,t){return t.flatMap((r,n)=>e.includes(r)?[n]:[])}function je(e,t,r){if(typeof r=="function")return r(t);if(r)return r.includes(t);const n=e.current[t];return n?n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true":!1}function zt(e,t,r){let{reference:n,floating:i}=e;const o=ne(t),s=Mt(t),c=vt(s),d=Z(t),f=o==="y",a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2,h=n[c]/2-i[c]/2;let m;switch(d){case"top":m={x:a,y:n.y-i.height};break;case"bottom":m={x:a,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:l};break;case"left":m={x:n.x-i.width,y:l};break;default:m={x:n.x,y:n.y}}switch(ve(t)){case"start":m[s]-=h*(r&&f?-1:1);break;case"end":m[s]+=h*(r&&f?-1:1);break}return m}const nr=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,c=o.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:a,y:l}=zt(f,n,d),h=n,m={},g=0;for(let x=0;x<c.length;x++){const{name:y,fn:u}=c[x],{x:w,y:O,data:p,reset:R}=await u({x:a,y:l,initialPlacement:n,placement:h,strategy:i,middlewareData:m,rects:f,platform:s,elements:{reference:e,floating:t}});a=w??a,l=O??l,m={...m,[y]:{...m[y],...p}},R&&g<=50&&(g++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(f=R.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:a,y:l}=zt(f,h,d)),x=-1)}return{x:a,y:l,placement:h,strategy:i,middlewareData:m}};async function Ue(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:s,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:a="viewport",elementContext:l="floating",altBoundary:h=!1,padding:m=0}=we(t,e),g=en(m),y=c[h?l==="floating"?"reference":"floating":l],u=st(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:f,rootBoundary:a,strategy:d})),w=l==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),p=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},R=st(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:O,strategy:d}):w);return{top:(u.top-R.top+g.top)/p.y,bottom:(R.bottom-u.bottom+g.bottom)/p.y,left:(u.left-R.left+g.left)/p.x,right:(R.right-u.right+g.right)/p.x}}const rr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:a=!0,crossAxis:l=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...y}=we(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const u=Z(i),w=ne(c),O=Z(c)===c,p=await(d.isRTL==null?void 0:d.isRTL(f.floating)),R=h||(O||!x?[it(c)]:Yn(c)),E=g!=="none";!h&&E&&R.push(...Xn(c,x,g,p));const A=[c,...R],P=await Ue(t,y),j=[];let I=((n=o.flip)==null?void 0:n.overflows)||[];if(a&&j.push(P[u]),l){const _=jn(i,s,p);j.push(P[_[0]],P[_[1]])}if(I=[...I,{placement:i,overflows:j}],!j.every(_=>_<=0)){var W,V;const _=(((W=o.flip)==null?void 0:W.index)||0)+1,D=A[_];if(D&&(!(l==="alignment"?w!==ne(D):!1)||I.every(C=>ne(C.placement)===w?C.overflows[0]>0:!0)))return{data:{index:_,overflows:I},reset:{placement:D}};let k=(V=I.filter(N=>N.overflows[0]<=0).sort((N,C)=>N.overflows[1]-C.overflows[1])[0])==null?void 0:V.placement;if(!k)switch(m){case"bestFit":{var F;const N=(F=I.filter(C=>{if(E){const L=ne(C.placement);return L===w||L==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(L=>L>0).reduce((L,M)=>L+M,0)]).sort((C,L)=>C[1]-L[1])[0])==null?void 0:F[0];N&&(k=N);break}case"initialPlacement":k=c;break}if(i!==k)return{reset:{placement:k}}}return{}}}};function Bt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ht(e){return Bn.some(t=>e[t]>=0)}const or=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=we(e,t);switch(n){case"referenceHidden":{const o=await Ue(t,{...i,elementContext:"reference"}),s=Bt(o,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ht(s)}}}case"escaped":{const o=await Ue(t,{...i,altBoundary:!0}),s=Bt(o,r.floating);return{data:{escapedOffsets:s,escaped:Ht(s)}}}default:return{}}}}},tn=new Set(["left","top"]);async function ir(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Z(r),c=ve(r),d=ne(r)==="y",f=tn.has(s)?-1:1,a=o&&d?-1:1,l=we(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:l.mainAxis||0,crossAxis:l.crossAxis||0,alignmentAxis:l.alignmentAxis};return c&&typeof g=="number"&&(m=c==="end"?g*-1:g),d?{x:m*a,y:h*f}:{x:h*f,y:m*a}}const sr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:c}=t,d=await ir(t,e);return s===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:s}}}}},cr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:c={fn:y=>{let{x:u,y:w}=y;return{x:u,y:w}}},...d}=we(e,t),f={x:r,y:n},a=await Ue(t,d),l=ne(Z(i)),h=St(l);let m=f[h],g=f[l];if(o){const y=h==="y"?"top":"left",u=h==="y"?"bottom":"right",w=m+a[y],O=m-a[u];m=Rt(w,m,O)}if(s){const y=l==="y"?"top":"left",u=l==="y"?"bottom":"right",w=g+a[y],O=g-a[u];g=Rt(w,g,O)}const x=c.fn({...t,[h]:m,[l]:g});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:o,[l]:s}}}}}},lr=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:s}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=we(e,t),a={x:r,y:n},l=ne(i),h=St(l);let m=a[h],g=a[l];const x=we(c,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const O=h==="y"?"height":"width",p=o.reference[h]-o.floating[O]+y.mainAxis,R=o.reference[h]+o.reference[O]-y.mainAxis;m<p?m=p:m>R&&(m=R)}if(f){var u,w;const O=h==="y"?"width":"height",p=tn.has(Z(i)),R=o.reference[l]-o.floating[O]+(p&&((u=s.offset)==null?void 0:u[l])||0)+(p?0:y.crossAxis),E=o.reference[l]+o.reference[O]+(p?0:((w=s.offset)==null?void 0:w[l])||0)-(p?y.crossAxis:0);g<R?g=R:g>E&&(g=E)}return{[h]:m,[l]:g}}}},ar=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:s,elements:c}=t,{apply:d=()=>{},...f}=we(e,t),a=await Ue(t,f),l=Z(i),h=ve(i),m=ne(i)==="y",{width:g,height:x}=o.floating;let y,u;l==="top"||l==="bottom"?(y=l,u=h===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(u=l,y=h==="end"?"top":"bottom");const w=x-a.top-a.bottom,O=g-a.left-a.right,p=We(x-a[y],w),R=We(g-a[u],O),E=!t.middlewareData.shift;let A=p,P=R;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=O),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=w),E&&!h){const I=Q(a.left,0),W=Q(a.right,0),V=Q(a.top,0),F=Q(a.bottom,0);m?P=g-2*(I!==0||W!==0?I+W:Q(a.left,a.right)):A=x-2*(V!==0||F!==0?V+F:Q(a.top,a.bottom))}await d({...t,availableWidth:P,availableHeight:A});const j=await s.getDimensions(c.floating);return g!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function nn(e){const t=xe(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ue(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,c=ot(r)!==o||ot(n)!==s;return c&&(r=o,n=s),{width:r,height:n,$:c}}function Pt(e){return q(e)?e:e.contextElement}function Ve(e){const t=Pt(e);if(!ue(t))return fe(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=nn(t);let s=(o?ot(r.width):r.width)/n,c=(o?ot(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const fr=fe(0);function rn(e){const t=Te(e);return!Xt()||!t.visualViewport?fr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ur(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Te(e)?!1:t}function De(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=Pt(e);let s=fe(1);t&&(n?q(n)&&(s=Ve(n)):s=Ve(e));const c=ur(o,r,n)?rn(o):fe(0);let d=(i.left+c.x)/s.x,f=(i.top+c.y)/s.y,a=i.width/s.x,l=i.height/s.y;if(o){const h=Te(o),m=n&&q(n)?Te(n):n;let g=h,x=Ft(g);for(;x&&n&&m!==g;){const y=Ve(x),u=x.getBoundingClientRect(),w=xe(x),O=u.left+(x.clientLeft+parseFloat(w.paddingLeft))*y.x,p=u.top+(x.clientTop+parseFloat(w.paddingTop))*y.y;d*=y.x,f*=y.y,a*=y.x,l*=y.y,d+=O,f+=p,g=Te(x),x=Ft(g)}}return st({width:a,height:l,x:d,y:f})}function at(e,t){const r=lt(e).scrollLeft;return t?t.left+r:De(ye(e)).left+r}function on(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-at(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function dr(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",s=ye(n),c=t?Ot(t.floating):!1;if(n===s||c&&o)return r;let d={scrollLeft:0,scrollTop:0},f=fe(1);const a=fe(0),l=ue(n);if((l||!l&&!o)&&((Ct(n)!=="body"||At(s))&&(d=lt(n)),ue(n))){const m=De(n);f=Ve(n),a.x=m.x+n.clientLeft,a.y=m.y+n.clientTop}const h=s&&!l&&!o?on(s,d):fe(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+a.x+h.x,y:r.y*f.y-d.scrollTop*f.y+a.y+h.y}}function gr(e){return Array.from(e.getClientRects())}function mr(e){const t=ye(e),r=lt(e),n=e.ownerDocument.body,i=Q(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Q(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+at(e);const c=-r.scrollTop;return xe(n).direction==="rtl"&&(s+=Q(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:c}}const _t=25;function hr(e,t){const r=Te(e),n=ye(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,c=0,d=0;if(i){o=i.width,s=i.height;const a=Xt();(!a||a&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const f=at(n);if(f<=0){const a=n.ownerDocument,l=a.body,h=getComputedStyle(l),m=a.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-l.clientWidth-m);g<=_t&&(o-=g)}else f<=_t&&(o+=f);return{width:o,height:s,x:c,y:d}}const pr=new Set(["absolute","fixed"]);function xr(e,t){const r=De(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=ue(e)?Ve(e):fe(1),s=e.clientWidth*o.x,c=e.clientHeight*o.y,d=i*o.x,f=n*o.y;return{width:s,height:c,x:d,y:f}}function Kt(e,t,r){let n;if(t==="viewport")n=hr(e,r);else if(t==="document")n=mr(ye(e));else if(q(t))n=xr(t,r);else{const i=rn(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return st(n)}function sn(e,t){const r=Ye(e);return r===t||!q(r)||rt(r)?!1:xe(r).position==="fixed"||sn(r,t)}function wr(e,t){const r=t.get(e);if(r)return r;let n=wt(e,[],!1).filter(c=>q(c)&&Ct(c)!=="body"),i=null;const o=xe(e).position==="fixed";let s=o?Ye(e):e;for(;q(s)&&!rt(s);){const c=xe(s),d=Jt(s);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&pr.has(i.position)||At(s)&&!d&&sn(e,s))?n=n.filter(a=>a!==s):i=c,s=Ye(s)}return t.set(e,n),n}function yr(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?Ot(t)?[]:wr(t,this._c):[].concat(r),n],c=s[0],d=s.reduce((f,a)=>{const l=Kt(t,a,i);return f.top=Q(l.top,f.top),f.right=We(l.right,f.right),f.bottom=We(l.bottom,f.bottom),f.left=Q(l.left,f.left),f},Kt(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Rr(e){const{width:t,height:r}=nn(e);return{width:t,height:r}}function br(e,t,r){const n=ue(t),i=ye(t),o=r==="fixed",s=De(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=fe(0);function f(){d.x=at(i)}if(n||!n&&!o)if((Ct(t)!=="body"||At(i))&&(c=lt(t)),n){const m=De(t,!0,o,t);d.x=m.x+t.clientLeft,d.y=m.y+t.clientTop}else i&&f();o&&!n&&i&&f();const a=i&&!n&&!o?on(i,c):fe(0),l=s.left+c.scrollLeft-d.x-a.x,h=s.top+c.scrollTop-d.y-a.y;return{x:l,y:h,width:s.width,height:s.height}}function ht(e){return xe(e).position==="static"}function jt(e,t){if(!ue(e)||xe(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ye(e)===r&&(r=r.ownerDocument.body),r}function cn(e,t){const r=Te(e);if(Ot(e))return r;if(!ue(e)){let i=Ye(e);for(;i&&!rt(i);){if(q(i)&&!ht(i))return i;i=Ye(i)}return r}let n=jt(e,t);for(;n&&On(n)&&ht(n);)n=jt(n,t);return n&&rt(n)&&ht(n)&&!Jt(n)?r:n||Cn(e)||r}const Or=async function(e){const t=this.getOffsetParent||cn,r=this.getDimensions,n=await r(e.floating);return{reference:br(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Cr(e){return xe(e).direction==="rtl"}const Ar={convertOffsetParentRelativeRectToViewportRelativeRect:dr,getDocumentElement:ye,getClippingRect:yr,getOffsetParent:cn,getElementRects:Or,getClientRects:gr,getDimensions:Rr,getScale:Ve,isElement:q,isRTL:Cr};function ln(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Er(e,t){let r=null,n;const i=ye(e);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function s(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:a,top:l,width:h,height:m}=f;if(c||t(),!h||!m)return;const g=$e(l),x=$e(i.clientWidth-(a+h)),y=$e(i.clientHeight-(l+m)),u=$e(a),O={rootMargin:-g+"px "+-x+"px "+-y+"px "+-u+"px",threshold:Q(0,We(1,d))||1};let p=!0;function R(E){const A=E[0].intersectionRatio;if(A!==d){if(!p)return s();A?s(!1,A):n=setTimeout(()=>{s(!1,1e-7)},1e3)}A===1&&!ln(f,e.getBoundingClientRect())&&s(),p=!1}try{r=new IntersectionObserver(R,{...O,root:i.ownerDocument})}catch{r=new IntersectionObserver(R,O)}r.observe(e)}return s(!0),o}function Yt(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=Pt(e),a=i||o?[...f?wt(f):[],...wt(t)]:[];a.forEach(u=>{i&&u.addEventListener("scroll",r,{passive:!0}),o&&u.addEventListener("resize",r)});const l=f&&c?Er(f,r):null;let h=-1,m=null;s&&(m=new ResizeObserver(u=>{let[w]=u;w&&w.target===f&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var O;(O=m)==null||O.observe(t)})),r()}),f&&!d&&m.observe(f),m.observe(t));let g,x=d?De(e):null;d&&y();function y(){const u=De(e);x&&!ln(x,u)&&r(),x=u,g=requestAnimationFrame(y)}return r(),()=>{var u;a.forEach(w=>{i&&w.removeEventListener("scroll",r),o&&w.removeEventListener("resize",r)}),l?.(),(u=m)==null||u.disconnect(),m=null,d&&cancelAnimationFrame(g)}}const Sr=sr,vr=cr,Mr=rr,Pr=ar,Tr=or,Dr=lr,Lr=(e,t,r)=>{const n=new Map,i={platform:Ar,...r},o={...i.platform,_c:n};return nr(e,t,{...i,platform:o})};var kr=typeof document<"u",Fr=function(){},nt=kr?b.useLayoutEffect:Fr;function ct(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ct(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!ct(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function an(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ut(e,t){const r=an(e);return Math.round(t*r)/r}function pt(e){const t=b.useRef(e);return nt(()=>{t.current=e}),t}function Ir(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:s}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[a,l]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(n);ct(h,n)||m(n);const[g,x]=b.useState(null),[y,u]=b.useState(null),w=b.useCallback(C=>{C!==E.current&&(E.current=C,x(C))},[]),O=b.useCallback(C=>{C!==A.current&&(A.current=C,u(C))},[]),p=o||g,R=s||y,E=b.useRef(null),A=b.useRef(null),P=b.useRef(a),j=d!=null,I=pt(d),W=pt(i),V=pt(f),F=b.useCallback(()=>{if(!E.current||!A.current)return;const C={placement:t,strategy:r,middleware:h};W.current&&(C.platform=W.current),Lr(E.current,A.current,C).then(L=>{const M={...L,isPositioned:V.current!==!1};_.current&&!ct(P.current,M)&&(P.current=M,zn.flushSync(()=>{l(M)}))})},[h,t,r,W,V]);nt(()=>{f===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,l(C=>({...C,isPositioned:!1})))},[f]);const _=b.useRef(!1);nt(()=>(_.current=!0,()=>{_.current=!1}),[]),nt(()=>{if(p&&(E.current=p),R&&(A.current=R),p&&R){if(I.current)return I.current(p,R,F);F()}},[p,R,F,I,j]);const D=b.useMemo(()=>({reference:E,floating:A,setReference:w,setFloating:O}),[w,O]),k=b.useMemo(()=>({reference:p,floating:R}),[p,R]),N=b.useMemo(()=>{const C={position:r,left:0,top:0};if(!k.floating)return C;const L=Ut(k.floating,a.x),M=Ut(k.floating,a.y);return c?{...C,transform:"translate("+L+"px, "+M+"px)",...an(k.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:M}},[r,c,k.floating,a.x,a.y]);return b.useMemo(()=>({...a,update:F,refs:D,elements:k,floatingStyles:N}),[a,F,D,k,N])}const Nr=(e,t)=>({...Sr(e),options:[e,t]}),$r=(e,t)=>({...vr(e),options:[e,t]}),Vr=(e,t)=>({...Dr(e),options:[e,t]}),Wr=(e,t)=>({...Mr(e),options:[e,t]}),zr=(e,t)=>({...Pr(e),options:[e,t]}),Br=(e,t)=>({...Tr(e),options:[e,t]});function Hr(e){const{open:t=!1,onOpenChange:r,elements:n={}}=e,i=Vn(),o=Qt()!=null,s=yt(()=>new Sn({open:t,onOpenChange:r,referenceElement:n.reference??null,floatingElement:n.floating??null,triggerElements:n.triggers??new vn,floatingId:i,nested:o,noEmit:e.noEmit||!1})).current;return H(()=>{const c={open:t,floatingId:i};n.reference!==void 0&&(c.referenceElement=n.reference,c.domReferenceElement=q(n.reference)?n.reference:null),n.floating!==void 0&&(c.floatingElement=n.floating),s.update(c)},[t,i,n.reference,n.floating,s]),s.context.onOpenChange=r,s.context.nested=o,s.context.noEmit=e.noEmit||!1,s}function _r(e={}){const{nodeId:t,externalTree:r}=e,n=Hr(e),i=e.rootContext||n,o={reference:i.useState("referenceElement"),floating:i.useState("floatingElement"),domReference:i.useState("domReferenceElement")},[s,c]=b.useState(null),d=b.useRef(null),f=Zt(r);H(()=>{o.domReference&&(d.current=o.domReference)},[o.domReference]);const a=Ir({...e,elements:{...o,...s&&{reference:s}}}),l=b.useCallback(A=>{const P=q(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;c(P),a.refs.setReference(P)},[a.refs]),[h,m]=b.useState(null),[g,x]=b.useState(null);i.useSyncedValue("referenceElement",h),i.useSyncedValue("domReferenceElement",q(h)?h:null),i.useSyncedValue("floatingElement",g);const y=b.useCallback(A=>{(q(A)||A===null)&&(d.current=A,m(A)),(q(a.refs.reference.current)||a.refs.reference.current===null||A!==null&&!q(A))&&a.refs.setReference(A)},[a.refs,m]),u=b.useCallback(A=>{x(A),a.refs.setFloating(A)},[a.refs]),w=b.useMemo(()=>({...a.refs,setReference:y,setFloating:u,setPositionReference:l,domReference:d}),[a.refs,y,u,l]),O=b.useMemo(()=>({...a.elements,domReference:o.domReference}),[a.elements,o.domReference]),p=i.useState("open"),R=i.useState("floatingId"),E=b.useMemo(()=>({...a,dataRef:i.context.dataRef,open:p,onOpenChange:i.setOpen,events:i.context.events,floatingId:R,refs:w,elements:O,nodeId:t,rootStore:i}),[a,w,O,t,i,p,R]);return H(()=>{i.context.dataRef.current.floatingContext=E;const A=f?.nodesRef.current.find(P=>P.id===t);A&&(A.context=E)}),b.useMemo(()=>({...a,context:E,refs:w,elements:O,rootStore:i}),[a,w,O,E,i])}const Kr="Escape";function ft(e,t,r){switch(e){case"vertical":return t;case"horizontal":return r;default:return t||r}}function tt(e,t){return ft(t,e===Et||e===Ge,e===Ee||e===Se)}function xt(e,t,r){return ft(t,e===Ge,r?e===Ee:e===Se)||e==="Enter"||e===" "||e===""}function jr(e,t,r){return ft(t,r?e===Ee:e===Se,e===Ge)}function Yr(e,t,r,n){const i=r?e===Se:e===Ee,o=e===Et;return t==="both"||t==="horizontal"&&n&&n>1?e===Kr:ft(t,i,o)}function fo(e,t){const r="rootStore"in e?e.rootStore:e,n=r.useState("open"),i=r.useState("floatingElement"),o=r.useState("domReferenceElement"),s=r.context.dataRef,{listRef:c,activeIndex:d,onNavigate:f=()=>{},enabled:a=!0,selectedIndex:l=null,allowEscape:h=!1,loopFocus:m=!1,nested:g=!1,rtl:x=!1,virtual:y=!1,focusItemOnOpen:u="auto",focusItemOnHover:w=!0,openOnArrowKeyDown:O=!0,disabledIndices:p=void 0,orientation:R="vertical",parentOrientation:E,cols:A=1,scrollItemIntoView:P=!0,itemSizes:j,dense:I=!1,id:W,resetOnPointerLeave:V=!0,externalTree:F}=t,_=Mn(i),D=pe(_),k=Qt(),N=Zt(F);H(()=>{s.current.orientation=R},[s,R]);const C=Pn(o),L=b.useRef(u),M=b.useRef(l??-1),oe=b.useRef(null),de=b.useRef(!0),z=ae(S=>{f(M.current===-1?null:M.current,S)}),Me=b.useRef(z),ee=b.useRef(!!i),Le=b.useRef(n),X=b.useRef(!1),ze=b.useRef(!1),qe=pe(p),ge=pe(n),Xe=pe(P),Re=pe(l),Be=pe(V),ke=ae(()=>{function S(B){y?N?.events.emit("virtualfocus",B):Tn(B,{sync:X.current,preventScroll:!0})}const T=c.current[M.current],v=ze.current;T&&S(T),(X.current?B=>B():requestAnimationFrame)(()=>{const B=c.current[M.current]||T;if(!B)return;T||S(B);const Y=Xe.current;Y&&ie&&(v||!de.current)&&B.scrollIntoView?.(typeof Y=="boolean"?{block:"nearest",inline:"nearest"}:Y)})});H(()=>{a&&(n&&i?(M.current=l??-1,L.current&&l!=null&&(ze.current=!0,z())):ee.current&&(M.current=-1,Me.current()))},[a,n,i,l,z]),H(()=>{if(a){if(!n){X.current=!1;return}if(i)if(d==null){if(X.current=!1,Re.current!=null)return;if(ee.current&&(M.current=-1,ke()),(!Le.current||!ee.current)&&L.current&&(oe.current!=null||L.current===!0&&oe.current==null)){let S=0;const T=()=>{c.current[0]==null?(S<2&&(S?requestAnimationFrame:queueMicrotask)(T),S+=1):(M.current=oe.current==null||xt(oe.current,R,x)||g?mt(c):Wt(c),oe.current=null,z())};T()}}else Ke(c,d)||(M.current=d,ke(),ze.current=!1)}},[a,n,i,d,Re,g,c,R,x,z,ke,qe]),H(()=>{if(!a||i||!N||y||!ee.current)return;const S=N.nodesRef.current,T=S.find(B=>B.id===k)?.context?.elements.floating,v=It(Dn(i)),$=S.some(B=>B.context&&Nt(B.context.elements.floating,v));T&&!$&&de.current&&T.focus({preventScroll:!0})},[a,i,N,k,y]),H(()=>{Me.current=z,Le.current=n,ee.current=!!i}),H(()=>{n||(oe.current=null,L.current=u)},[n,u]);const Fe=d!=null,ie=b.useMemo(()=>{function S(v){if(!ge.current)return;const $=c.current.indexOf(v.currentTarget);$!==-1&&M.current!==$&&(M.current=$,z(v))}return{onFocus(v){X.current=!0,S(v)},onClick:({currentTarget:v})=>v.focus({preventScroll:!0}),onMouseMove(v){X.current=!0,ze.current=!1,w&&S(v)},onPointerLeave(v){if(!ge.current||!de.current||v.pointerType==="touch")return;X.current=!0;const $=v.relatedTarget;!w||c.current.includes($)||Be.current&&(M.current=-1,z(v),y||D.current?.focus({preventScroll:!0}))}}},[ge,D,w,c,z,Be,y]),se=b.useCallback(()=>E??N?.nodesRef.current.find(S=>S.id===k)?.context?.dataRef?.current.orientation,[k,N,E]),be=ae(S=>{if(de.current=!1,X.current=!0,S.which===229||!ge.current&&S.currentTarget===D.current)return;if(g&&Yr(S.key,R,x,A)){tt(S.key,se())||G(S),r.setOpen(!1,Ze(gt,S.nativeEvent)),ue(o)&&(y?N?.events.emit("virtualfocus",o):o.focus());return}const T=M.current,v=mt(c,p),$=Wt(c,p);if(C||(S.key==="Home"&&(G(S),M.current=v,z(S)),S.key==="End"&&(G(S),M.current=$,z(S))),A>1){const B=j||Array.from({length:c.current.length},()=>({width:1,height:1})),Y=Zn(B,A,I),Oe=Y.findIndex(re=>re!=null&&!je(c,re,p)),Ce=Y.reduce((re,Ae,Je)=>Ae!=null&&!je(c,Ae,p)?Je:re,-1),ce=Y[Qn({current:Y.map(re=>re!=null?c.current[re]:null)},{event:S,orientation:R,loopFocus:m,rtl:x,cols:A,disabledIndices:tr([...(typeof p!="function"?p:null)||c.current.map((re,Ae)=>je(c,Ae,p)?Ae:void 0),void 0],Y),minIndex:Oe,maxIndex:Ce,prevIndex:er(M.current>$?v:M.current,B,Y,A,S.key===Ge?"bl":S.key===(x?Ee:Se)?"tr":"tl"),stopEvent:!0})];if(ce!=null&&(M.current=ce,z(S)),R==="both")return}if(tt(S.key,R)){if(G(S),n&&!y&&It(S.currentTarget.ownerDocument)===S.currentTarget){M.current=xt(S.key,R,x)?v:$,z(S);return}xt(S.key,R,x)?m?T>=$?h&&T!==c.current.length?M.current=-1:(X.current=!1,M.current=v):M.current=U(c,{startingIndex:T,disabledIndices:p}):M.current=Math.min($,U(c,{startingIndex:T,disabledIndices:p})):m?T<=v?h&&T!==-1?M.current=c.current.length:(X.current=!1,M.current=$):M.current=U(c,{startingIndex:T,decrement:!0,disabledIndices:p}):M.current=Math.max(v,U(c,{startingIndex:T,decrement:!0,disabledIndices:p})),Ke(c,M.current)&&(M.current=-1),z(S)}}),Pe=b.useMemo(()=>y&&n&&Fe&&{"aria-activedescendant":`${W}-${d}`},[y,n,Fe,W,d]),me=b.useMemo(()=>({"aria-orientation":R==="both"?void 0:R,...C?{}:Pe,onKeyDown(S){if(S.key==="Tab"&&S.shiftKey&&n&&!y){const T=Ln(S.nativeEvent);if(T&&!Nt(D.current,T))return;G(S),r.setOpen(!1,Ze(Wn,S.nativeEvent)),ue(o)&&o.focus();return}be(S)},onPointerMove(){de.current=!0}}),[Pe,be,D,R,C,r,n,y,o]),he=b.useMemo(()=>{function S(v){u==="auto"&&kn(v.nativeEvent)&&(L.current=!y)}function T(v){L.current=u,u==="auto"&&Fn(v.nativeEvent)&&(L.current=!0)}return{onKeyDown(v){const $=r.select("open");de.current=!1;const B=v.key.startsWith("Arrow"),Y=jr(v.key,se(),x),Oe=tt(v.key,R),Ce=(g?Y:Oe)||v.key==="Enter"||v.key.trim()==="";if(y&&$)return be(v);if(!(!$&&!O&&B)){if(Ce){const ce=tt(v.key,se());oe.current=g&&ce?null:v.key}if(g){Y&&(G(v),$?(M.current=mt(c,qe.current),z(v)):r.setOpen(!0,Ze(gt,v.nativeEvent,v.currentTarget)));return}Oe&&(Re.current!=null&&(M.current=Re.current),G(v),!$&&O?r.setOpen(!0,Ze(gt,v.nativeEvent,v.currentTarget)):be(v),$&&z(v))}},onFocus(v){r.select("open")&&!y&&(M.current=-1,z(v))},onPointerDown:T,onPointerEnter:T,onMouseDown:S,onClick:S}},[be,qe,u,c,g,z,r,O,R,se,x,Re,y]),He=b.useMemo(()=>({...Pe,...he}),[Pe,he]);return b.useMemo(()=>a?{reference:He,floating:me,item:ie,trigger:he}:{},[a,He,me,he,ie])}function uo(e,t){const r="rootStore"in e?e.rootStore:e,n=r.useState("open"),i=r.context.dataRef,{listRef:o,activeIndex:s,onMatch:c,onTypingChange:d,enabled:f=!0,findMatch:a=null,resetMs:l=750,ignoreKeys:h=An,selectedIndex:m=null}=t,g=In(),x=b.useRef(""),y=b.useRef(m??s??-1),u=b.useRef(null);H(()=>{n&&(g.clear(),u.current=null,x.current="")},[n,g]),H(()=>{n&&x.current===""&&(y.current=m??s??-1)},[n,m,s]);const w=ae(E=>{E?i.current.typing||(i.current.typing=E,d?.(E)):i.current.typing&&(i.current.typing=E,d?.(E))}),O=ae(E=>{function A(V,F,_){const D=a?a(F,_):F.find(k=>k?.toLocaleLowerCase().indexOf(_.toLocaleLowerCase())===0);return D?V.indexOf(D):-1}const P=o.current;if(x.current.length>0&&x.current[0]!==" "&&(A(P,P,x.current)===-1?w(!1):E.key===" "&&G(E)),P==null||h.includes(E.key)||E.key.length!==1||E.ctrlKey||E.metaKey||E.altKey)return;n&&E.key!==" "&&(G(E),w(!0)),P.every(V=>V?V[0]?.toLocaleLowerCase()!==V[1]?.toLocaleLowerCase():!0)&&x.current===E.key&&(x.current="",y.current=u.current),x.current+=E.key,g.start(l,()=>{x.current="",y.current=u.current,w(!1)});const I=y.current,W=A(P,[...P.slice((I||0)+1),...P.slice(0,(I||0)+1)],x.current);W!==-1?(c?.(W),u.current=W):E.key!==" "&&(x.current="",w(!1))}),p=b.useMemo(()=>({onKeyDown:O}),[O]),R=b.useMemo(()=>({onKeyDown:O,onKeyUp(E){E.key===" "&&w(!1)}}),[O,w]);return b.useMemo(()=>f?{reference:p,floating:R}:{},[f,p,R])}function go(e){const t=e.getBoundingClientRect(),r=window.getComputedStyle(e,"::before"),n=window.getComputedStyle(e,"::after");if(!(r.content!=="none"||n.content!=="none"))return t;const o=parseFloat(r.width)||0,s=parseFloat(r.height)||0,c=parseFloat(n.width)||0,d=parseFloat(n.height)||0,f=Math.max(t.width,o,c),a=Math.max(t.height,s,d),l=f-t.width,h=a-t.height;return{left:t.left-l/2,right:t.right+l/2,top:t.top-h/2,bottom:t.bottom+h/2}}const fn=b.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function Ur(){return b.useContext(fn)}function mo(e){const{children:t,elementsRef:r,labelsRef:n,onMapChange:i}=e,o=ae(i),s=b.useRef(0),c=yt(qr).current,d=yt(Gr).current,[f,a]=b.useState(0),l=b.useRef(f),h=ae((u,w)=>{d.set(u,w??null),l.current+=1,a(l.current)}),m=ae(u=>{d.delete(u),l.current+=1,a(l.current)}),g=b.useMemo(()=>{const u=new Map;return Array.from(d.keys()).filter(O=>O.isConnected).sort(Xr).forEach((O,p)=>{const R=d.get(O)??{};u.set(O,{...R,index:p})}),u},[d,f]);H(()=>{if(typeof MutationObserver!="function"||g.size===0)return;const u=new MutationObserver(w=>{const O=new Set,p=R=>O.has(R)?O.delete(R):O.add(R);w.forEach(R=>{R.removedNodes.forEach(p),R.addedNodes.forEach(p)}),O.size===0&&(l.current+=1,a(l.current))});return g.forEach((w,O)=>{O.parentElement&&u.observe(O.parentElement,{childList:!0})}),()=>{u.disconnect()}},[g]),H(()=>{l.current===f&&(r.current.length!==g.size&&(r.current.length=g.size),n&&n.current.length!==g.size&&(n.current.length=g.size),s.current=g.size),o(g)},[o,g,r,n,f]),H(()=>()=>{r.current=[]},[r]),H(()=>()=>{n&&(n.current=[])},[n]);const x=ae(u=>(c.add(u),()=>{c.delete(u)}));H(()=>{c.forEach(u=>u(g))},[c,g]);const y=b.useMemo(()=>({register:h,unregister:m,subscribeMapChange:x,elementsRef:r,labelsRef:n,nextIndexRef:s}),[h,m,x,r,n,s]);return bn.jsx(fn.Provider,{value:y,children:t})}function Gr(){return new Map}function qr(){return new Set}function Xr(e,t){const r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Jr=b.createContext(void 0);function Qr(){return b.useContext(Jr)?.direction??"ltr"}const Zr=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:c,middlewareData:d}=t,{element:f,padding:a=0,offsetParent:l="real"}=we(e,t)||{};if(f==null)return{};const h=en(a),m={x:r,y:n},g=Mt(i),x=vt(g),y=await s.getDimensions(f),u=g==="y",w=u?"top":"left",O=u?"bottom":"right",p=u?"clientHeight":"clientWidth",R=o.reference[x]+o.reference[g]-m[g]-o.floating[x],E=m[g]-o.reference[g],A=l==="real"?await s.getOffsetParent?.(f):c.floating;let P=c.floating[p]||o.floating[x];(!P||!await s.isElement?.(A))&&(P=c.floating[p]||o.floating[x]);const j=R/2-E/2,I=P/2-y[x]/2-1,W=Math.min(h[w],I),V=Math.min(h[O],I),F=W,_=P-y[x]-V,D=P/2-y[x]/2+j,k=Rt(F,D,_),N=!d.arrow&&ve(i)!=null&&D!==k&&o.reference[x]/2-(D<F?W:V)-y[x]/2<0,C=N?D<F?D-F:D-_:0;return{[g]:m[g]+C,data:{[g]:k,centerOffset:D-k-C,...N&&{alignmentOffset:C}},reset:N}}}),eo=(e,t)=>({...Zr(e),options:[e,t]}),to={name:"hide",async fn(e){const{width:t,height:r,x:n,y:i}=e.rects.reference,o=t===0&&r===0&&n===0&&i===0;return{data:{referenceHidden:(await Br().fn(e)).data?.referenceHidden||o}}}},no={sideX:"left",sideY:"top"};function un(e,t,r){const n=e==="inline-start"||e==="inline-end";return{top:"top",right:n?r?"inline-start":"inline-end":"right",bottom:"bottom",left:n?r?"inline-end":"inline-start":"left"}[t]}function Gt(e,t,r){const{rects:n,placement:i}=e;return{side:un(t,Z(i),r),align:ve(i)||"center",anchor:{width:n.reference.width,height:n.reference.height},positioner:{width:n.floating.width,height:n.floating.height}}}function ho(e){const{anchor:t,positionMethod:r="absolute",side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,collisionBoundary:c,collisionPadding:d=5,sticky:f=!1,arrowPadding:a=5,disableAnchorTracking:l=!1,keepMounted:h=!1,floatingRootContext:m,mounted:g,collisionAvoidance:x,shiftCrossAxis:y=!1,nodeId:u,adaptiveOrigin:w,lazyFlip:O=!1,externalTree:p}=e,[R,E]=b.useState(null);!g&&R!==null&&E(null);const A=x.side||"flip",P=x.align||"flip",j=x.fallbackAxisSide||"end",I=typeof t=="function"?t:void 0,W=ae(I),V=I?W:t,F=pe(t),D=Qr()==="rtl",k=R||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":D?"left":"right","inline-start":D?"right":"left"}[n],N=o==="center"?k:`${k}-${o}`;let C=d;const L=1,M=n==="bottom"?L:0,oe=n==="top"?L:0,de=n==="right"?L:0,z=n==="left"?L:0;typeof C=="number"?C={top:C+M,right:C+z,bottom:C+oe,left:C+de}:C&&(C={top:(C.top||0)+M,right:(C.right||0)+z,bottom:(C.bottom||0)+oe,left:(C.left||0)+de});const Me={boundary:c==="clipping-ancestors"?"clippingAncestors":c,padding:C},ee=b.useRef(null),Le=pe(i),X=pe(s),ge=[Nr(K=>{const J=Gt(K,n,D),le=typeof Le.current=="function"?Le.current(J):Le.current,te=typeof X.current=="function"?X.current(J):X.current;return{mainAxis:le,crossAxis:te,alignmentAxis:te}},[typeof i!="function"?i:0,typeof s!="function"?s:0,D,n])],Xe=P==="none"&&A!=="shift",Re=!Xe&&(f||y||A==="shift"),Be=A==="none"?null:Wr({...Me,padding:{top:C.top+L,right:C.right+L,bottom:C.bottom+L,left:C.left+L},mainAxis:!y&&A==="flip",crossAxis:P==="flip"?"alignment":!1,fallbackAxisSideDirection:j}),ke=Xe?null:$r(K=>{const J=Nn(K.elements.floating).documentElement;return{...Me,rootBoundary:y?{x:0,y:0,width:J.clientWidth,height:J.clientHeight}:void 0,mainAxis:P!=="none",crossAxis:Re,limiter:f||y?void 0:Vr(le=>{if(!ee.current)return{};const{width:te,height:Ie}=ee.current.getBoundingClientRect(),Ne=ne(Z(le.placement)),Qe=Ne==="y"?te:Ie,ut=Ne==="y"?C.left+C.right:C.top+C.bottom;return{offset:Qe/2+ut/2}})}},[Me,f,y,C,P]);A==="shift"||P==="shift"||o==="center"?ge.push(ke,Be):ge.push(Be,ke),ge.push(zr({...Me,apply({elements:{floating:K},rects:{reference:J},availableWidth:le,availableHeight:te}){Object.entries({"--available-width":`${le}px`,"--available-height":`${te}px`,"--anchor-width":`${J.width}px`,"--anchor-height":`${J.height}px`}).forEach(([Ie,Ne])=>{K.style.setProperty(Ie,Ne)})}}),eo(()=>({element:ee.current||document.createElement("div"),padding:a,offsetParent:"floating"}),[a]),{name:"transformOrigin",fn(K){const{elements:J,middlewareData:le,placement:te,rects:Ie,y:Ne}=K,Qe=Z(te),ut=ne(Qe),Lt=ee.current,dn=le.arrow?.x||0,gn=le.arrow?.y||0,mn=Lt?.clientWidth||0,hn=Lt?.clientHeight||0,dt=dn+mn/2,kt=gn+hn/2,pn=Math.abs(le.shift?.y||0),xn=Ie.reference.height/2,_e=typeof i=="function"?i(Gt(K,n,D)):i,wn=pn>_e,yn={top:`${dt}px calc(100% + ${_e}px)`,bottom:`${dt}px ${-_e}px`,left:`calc(100% + ${_e}px) ${kt}px`,right:`${-_e}px ${kt}px`}[Qe],Rn=`${dt}px ${Ie.reference.y+xn-Ne}px`;return J.floating.style.setProperty("--transform-origin",Re&&ut==="y"&&wn?Rn:yn),{}}},to,w),H(()=>{!g&&m&&m.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[g,m]);const Fe=b.useMemo(()=>({elementResize:!l&&typeof ResizeObserver<"u",layoutShift:!l&&typeof IntersectionObserver<"u"}),[l]),{refs:ie,elements:se,x:be,y:Pe,middlewareData:me,update:he,placement:He,context:S,isPositioned:T,floatingStyles:v}=_r({rootContext:m,placement:N,middleware:ge,strategy:r,whileElementsMounted:h?void 0:(...K)=>Yt(...K,Fe),nodeId:u,externalTree:p}),{sideX:$,sideY:B}=me.adaptiveOrigin||no,Y=T?r:"fixed",Oe=b.useMemo(()=>w?{position:Y,[$]:be,[B]:Pe}:{position:Y,...v},[w,Y,$,be,B,Pe,v]),Ce=b.useRef(null);H(()=>{if(!g)return;const K=F.current,J=typeof K=="function"?K():K,te=(qt(J)?J.current:J)||null||null;te!==Ce.current&&(ie.setPositionReference(te),Ce.current=te)},[g,ie,V,F]),b.useEffect(()=>{if(!g)return;const K=F.current;typeof K!="function"&&qt(K)&&K.current!==Ce.current&&(ie.setPositionReference(K.current),Ce.current=K.current)},[g,ie,V,F]),b.useEffect(()=>{if(h&&g&&se.domReference&&se.floating)return Yt(se.domReference,se.floating,he,Fe)},[h,g,se,he,Fe]);const ce=Z(He),re=un(n,ce,D),Ae=ve(He)||"center",Je=!!me.hide?.referenceHidden;H(()=>{O&&g&&T&&E(ce)},[O,g,T,ce]);const Tt=b.useMemo(()=>({position:"absolute",top:me.arrow?.y,left:me.arrow?.x}),[me.arrow]),Dt=me.arrow?.centerOffset!==0;return b.useMemo(()=>({positionerStyles:Oe,arrowStyles:Tt,arrowRef:ee,arrowUncentered:Dt,side:re,align:Ae,physicalSide:ce,anchorHidden:Je,refs:ie,context:S,isPositioned:T,update:he}),[Oe,Tt,ee,Dt,re,Ae,ce,Je,ie,S,T,he])}function qt(e){return e!=null&&"current"in e}const ro=b.createContext(void 0);function po(e){return b.useContext(ro)}function xo(e){return e==="starting"?$n:En}let oo=(function(e){return e[e.None=0]="None",e[e.GuessFromOrder=1]="GuessFromOrder",e})({});function wo(e={}){const{label:t,metadata:r,textRef:n,indexGuessBehavior:i,index:o}=e,{register:s,unregister:c,subscribeMapChange:d,elementsRef:f,labelsRef:a,nextIndexRef:l}=Ur(),h=b.useRef(-1),[m,g]=b.useState(o??(i===oo.GuessFromOrder?()=>{if(h.current===-1){const u=l.current;l.current+=1,h.current=u}return h.current}:-1)),x=b.useRef(null),y=b.useCallback(u=>{if(x.current=u,m!==-1&&u!==null&&(f.current[m]=u,a)){const w=t!==void 0;a.current[m]=w?t:n?.current?.textContent??u.textContent}},[m,f,a,t,n]);return H(()=>{if(o!=null)return;const u=x.current;if(u)return s(u,r),()=>{c(u)}},[o,s,c,r]),H(()=>{if(o==null)return d(u=>{const w=x.current?u.get(x.current)?.index:null;w!=null&&g(w)})},[o,d,g]),b.useMemo(()=>({ref:y,index:m}),[m,y])}export{mo as C,oo as I,po as a,ho as b,Qr as c,fo as d,uo as e,go as f,xo as g,Hr as h,wo as u};
