import{j as r,r as l}from"./iframe-Cr_UN5ps.js";import{c as m}from"./utils-4perknFd.js";import{c as h,I as x}from"./web-CdGo0L2S.js";import{u as y}from"./useTranslation-CFi8Ka59.js";import{I as g}from"./IconCheck-BodlbRuj.js";import{I as N}from"./IconX-WApUtH-t.js";function T({label:n,hint:e,error:t,required:d,children:i,className:o}){return r.jsxs("div",{className:m("space-y-2",o),children:[n&&r.jsxs("label",{className:"text-sm font-medium",children:[n,d&&r.jsx("span",{className:"ml-1 text-destructive",children:"*"})]}),i,e&&!t&&r.jsx("p",{className:"text-xs text-muted-foreground",children:e}),t&&r.jsx("p",{className:"-mt-0.5 text-xs text-destructive",children:t})]})}T.__docgenInfo={description:"",methods:[],displayName:"FormField",props:{label:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"字段标签"},hint:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"帮助文本"},error:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"错误信息"},required:{required:!1,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:"是否必填"},children:{required:!0,tsType:{name:"ReactNode"},description:"子元素 (input, select 等)"},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"自定义类名"}}};class b extends l.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.props.onError?.(e,t)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){if(this.state.hasError&&this.state.error){const{fallback:e}=this.props;return e?typeof e=="function"?e(this.state.error,this.handleReset):e:r.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-center",children:[r.jsx("div",{className:"text-destructive mb-2",children:r.jsx("svg",{className:"size-8 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"出现了一些问题"}),r.jsx("button",{onClick:this.handleReset,className:"text-xs px-3 py-1.5 rounded-md bg-primary text-primary-foreground hover:bg-primary/90",children:"重试"})]})}return this.props.children}}b.__docgenInfo={description:"",methods:[{name:"handleReset",docblock:null,modifiers:[],params:[],returns:{type:{name:"void"}}}],displayName:"ErrorBoundary",props:{children:{required:!0,tsType:{name:"ReactNode"},description:"子组件"},fallback:{required:!1,tsType:{name:"union",raw:"ReactNode | ((error: Error, reset: () => void) => ReactNode)",elements:[{name:"ReactNode"},{name:"unknown"}]},description:"自定义错误 UI"},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(error: Error, errorInfo: ErrorInfo) => void",signature:{arguments:[{type:{name:"Error"},name:"error"},{type:{name:"ErrorInfo"},name:"errorInfo"}],return:{name:"void"}}},description:"错误回调"}}};function v({text:n,displayText:e,className:t,iconClassName:d,onCopy:i,testId:o}){const{t:c}=y("common"),[s,a]=l.useState("idle"),u=l.useCallback(async()=>{try{await h.write({text:n}),a("copied"),i?.(),setTimeout(()=>a("idle"),2e3)}catch{a("failed"),setTimeout(()=>a("idle"),2e3)}},[n,i]),p=s==="copied"?g:s==="failed"?N:x,f=s==="copied"?"text-green-500":s==="failed"?"text-red-500":"text-muted-foreground";return r.jsxs("button",{type:"button",onClick:u,...o&&{"data-testid":o},className:m("inline-flex items-center gap-1.5 font-mono transition-colors","hover:text-primary focus-visible:ring-ring rounded focus:outline-none focus-visible:ring-2",t),title:n,"aria-label":c(s==="copied"?"copiedToClipboard":"clickToCopy"),children:[r.jsx("span",{className:"break-all",children:e??n}),r.jsx(p,{className:m("size-4 shrink-0",f,d),"aria-hidden":"true"}),r.jsx("span",{role:"status","aria-live":"polite",className:"sr-only",children:s==="copied"?c("copiedToClipboard"):""})]})}v.__docgenInfo={description:"",methods:[],displayName:"CopyableText",props:{text:{required:!0,tsType:{name:"string"},description:""},displayText:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},iconClassName:{required:!1,tsType:{name:"string"},description:""},onCopy:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},testId:{required:!1,tsType:{name:"string"},description:""}}};export{v as C,b as E,T as F};
