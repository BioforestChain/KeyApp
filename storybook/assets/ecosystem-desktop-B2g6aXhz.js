import{r as b,j as o,u as z,t as rt}from"./iframe-13xkpxxJ.js";import{b as Re,S as nt,a as Ie}from"./swiper-ldoQySkF.js";import{u as it,C as at}from"./swiper-sync-context-Ge5pw40d.js";import{a as de,f as st,b as ot,c as ct,d as lt,e as ut,g as pt,M as dt}from"./my-apps-page-BzbYHKqL.js";import{c as O}from"./utils-CDN07tui.js";import{B as ft}from"./button-CRDRzMEV.js";import{I as ht}from"./IconSearch-C4tYv-BI.js";import{I as mt}from"./IconChevronRight-CAgHa6FF.js";import{a as ze}from"./IconTrash-CXEuAyid.js";import{I as xt}from"./IconSparkles-B-FIRmEl.js";import{M as gt}from"./miniapp-splash-screen-DBQd16hn.js";import{b as ee,d as V,n as yt,p as wt,g as It,q as Et,t as bt,v as At,w as Bt,x as _t,y as Nt,z as vt,A as St,B as kt,e as je,C as Tt,E as Ft,F as Mt,G as Rt,H as ue}from"./index-foog4Z42.js";import{r as jt}from"./index-DBAmuvpj.js";import{I as Ct}from"./IconDots-BM5ZEwva.js";import{c as Be}from"./createReactComponent-BmAlyfWH.js";import{A as Ut}from"./index-Bei0gjnz.js";import{m as Q}from"./proxy-B7mn7l0Z.js";/* empty css                     */const Pt=[["path",{d:"M21 12a9 9 0 1 1 -18 0a9 9 0 0 1 18 0z",key:"svg-0"}],["path",{d:"M8 11.503a2.5 2.5 0 1 0 4 2v-3a2.5 2.5 0 1 1 4 2",key:"svg-1"}]],Lt=Be("outline","brand-miniprogram","BrandMiniprogram",Pt);const Dt=[["path",{d:"M12 4l-8 4l8 4l8 -4l-8 -4",key:"svg-0"}],["path",{d:"M4 12l8 4l8 -4",key:"svg-1"}],["path",{d:"M4 16l8 4l8 -4",key:"svg-2"}]],qt=Be("outline","stack-2","Stack2",Dt);const $t=[["path",{d:"M12 7a5 5 0 1 1 -4.995 5.217l-.005 -.217l.005 -.217a5 5 0 0 1 4.995 -4.783z",key:"svg-0"}]],Ot=Be("filled","point-filled","PointFilled",$t);function zt({swiper:l,extendParams:u,on:g}){u({parallax:{enabled:!1}});const h="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",I=(i,y)=>{const{rtl:A}=l,w=A?-1:1,E=i.getAttribute("data-swiper-parallax")||"0";let B=i.getAttribute("data-swiper-parallax-x"),p=i.getAttribute("data-swiper-parallax-y");const x=i.getAttribute("data-swiper-parallax-scale"),m=i.getAttribute("data-swiper-parallax-opacity"),N=i.getAttribute("data-swiper-parallax-rotate");if(B||p?(B=B||"0",p=p||"0"):l.isHorizontal()?(B=E,p="0"):(p=E,B="0"),B.indexOf("%")>=0?B=`${parseInt(B,10)*y*w}%`:B=`${B*y*w}px`,p.indexOf("%")>=0?p=`${parseInt(p,10)*y}%`:p=`${p*y}px`,typeof m<"u"&&m!==null){const S=m-(m-1)*(1-Math.abs(y));i.style.opacity=S}let k=`translate3d(${B}, ${p}, 0px)`;if(typeof x<"u"&&x!==null){const S=x-(x-1)*(1-Math.abs(y));k+=` scale(${S})`}if(N&&typeof N<"u"&&N!==null){const S=N*y*-1;k+=` rotate(${S}deg)`}i.style.transform=k},f=()=>{const{el:i,slides:y,progress:A,snapGrid:w,isElement:E}=l,B=Re(i,h);l.isElement&&B.push(...Re(l.hostEl,h)),B.forEach(p=>{I(p,A)}),y.forEach((p,x)=>{let m=p.progress;l.params.slidesPerGroup>1&&l.params.slidesPerView!=="auto"&&(m+=Math.ceil(x/2)-A*(w.length-1)),m=Math.min(Math.max(m,-1),1),p.querySelectorAll(`${h}, [data-swiper-parallax-rotate]`).forEach(N=>{I(N,m)})})},d=(i=l.params.speed)=>{const{el:y,hostEl:A}=l,w=[...y.querySelectorAll(h)];l.isElement&&w.push(...A.querySelectorAll(h)),w.forEach(E=>{let B=parseInt(E.getAttribute("data-swiper-parallax-duration"),10)||i;i===0&&(B=0),E.style.transitionDuration=`${B}ms`})};g("beforeInit",()=>{l.params.parallax.enabled&&(l.params.watchSlidesProgress=!0,l.originalParams.watchSlidesProgress=!0)}),g("init",()=>{l.params.parallax.enabled&&f()}),g("setTranslate",()=>{l.params.parallax.enabled&&f()}),g("setTransition",(i,y)=>{l.params.parallax.enabled&&d(y)})}const Ht="_discoverPage_1xkto_2",Wt="_discoverHeader_1xkto_7",Ce={discoverPage:Ht,discoverHeader:Wt};function Gt(){const l=new Date,u=["周日","周一","周二","周三","周四","周五","周六"];return`${l.getMonth()+1}月${l.getDate()}日 ${u[l.getDay()]}`}const Ue=["from-violet-500 to-purple-600","from-orange-500 to-red-500","from-emerald-500 to-teal-500","from-pink-500 to-rose-500","from-blue-500 to-cyan-500"];function Vt(l,u=0){return l.themeColor||Ue[u%Ue.length]}function Pe({app:l,onTap:u}){const g=l.themeColor||"from-violet-600 via-purple-600 to-indigo-700";return o.jsxs("button",{onClick:u,className:O("group relative w-full overflow-hidden rounded-3xl text-left","shadow-xl shadow-black/10 dark:shadow-black/30","transition-all duration-300 ease-out active:scale-[0.98]","hover:shadow-2xl hover:shadow-black/20"),children:[o.jsx("div",{className:O("absolute inset-0 bg-gradient-to-br",g)}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_-20%,rgba(255,255,255,0.3),transparent_50%)]"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_120%,rgba(0,0,0,0.2),transparent_50%)]"}),o.jsxs("div",{className:"@container relative flex min-h-[300px] flex-col p-6",children:[o.jsxs("div",{className:"mb-auto flex items-center gap-2 text-xs font-semibold tracking-wider text-white/80 uppercase",children:[o.jsx(xt,{className:"size-4"}),"精选应用"]}),o.jsx("div",{className:"mt-auto",children:o.jsxs("div",{className:"flex items-end gap-4 @sm:gap-5",children:[o.jsx(de,{src:l.icon,name:l.name,size:"xl",glass:!0,className:"@sm:!size-24 @sm:!rounded-[24px]"}),o.jsxs("div",{className:"min-w-0 flex-1 pb-1",children:[o.jsx("h2",{className:"mb-1.5 text-2xl leading-tight font-bold text-white @sm:text-3xl",children:l.name}),o.jsx("p",{className:"line-clamp-2 text-sm leading-relaxed text-white/75 @sm:text-base",children:l.longDescription?.split(`
`)[0]||l.description})]})]})})]})]})}function Yt({app:l,onTap:u,fallbackColorIndex:g=0}){const h=Vt(l,g);return o.jsxs("button",{onClick:u,className:O("relative w-44 shrink-0 overflow-hidden rounded-2xl text-left","shadow-lg transition-all duration-200 active:scale-[0.96]","snap-start scroll-ml-5"),children:[o.jsx("div",{className:O("absolute inset-0 bg-gradient-to-br",h)}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_80%_-10%,rgba(255,255,255,0.25),transparent_40%)]"}),o.jsxs("div",{className:"relative flex h-[160px] flex-col p-4",children:[o.jsx(de,{src:l.icon,name:l.name,size:"lg",customSize:56,glass:!0,className:"mb-auto"}),o.jsxs("div",{children:[o.jsx("h3",{className:"truncate text-base font-bold text-white",children:l.name}),o.jsx("p",{className:"mt-0.5 truncate text-xs text-white/70",children:l.description})]})]})]})}function Xt({app:l,onTap:u,onOpen:g,rank:h,showRank:I=!1}){return o.jsxs("div",{className:"flex items-center gap-3 py-3",children:[I&&h!==void 0&&o.jsx("span",{className:"text-muted-foreground/50 w-6 text-center text-lg font-bold",children:h}),o.jsx("button",{onClick:u,className:"shrink-0",children:o.jsx(de,{src:l.icon,name:l.name,size:"lg",customSize:64,shadow:"sm"})}),o.jsxs("button",{onClick:u,className:"min-w-0 flex-1 text-left",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("h3",{className:"truncate font-semibold",children:l.name}),l.beta&&o.jsx("span",{className:"rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-semibold text-amber-600 dark:bg-amber-900/40 dark:text-amber-400",children:"Beta"})]}),o.jsx("p",{className:"text-muted-foreground mt-0.5 truncate text-xs",children:l.description})]}),o.jsx(ft,{size:"sm",variant:"secondary",className:"h-8 shrink-0 rounded-full px-5 text-xs font-bold",onClick:f=>{f.stopPropagation(),g()},children:"获取"})]})}function Jt({message:l}){return o.jsxs("div",{className:"flex flex-col items-center justify-center px-5 py-20 text-center",children:[o.jsx("div",{className:"bg-muted mb-4 flex size-20 items-center justify-center rounded-full",children:o.jsx(ze,{className:"text-muted-foreground size-10",stroke:1.5})}),o.jsx("h2",{className:"mb-1 text-lg font-semibold",children:l})]})}const He=b.forwardRef(function({apps:u,featuredApp:g,featuredApps:h,recommendedApps:I,hotApps:f,onAppDetail:d,onAppOpen:i},y){const A=b.useRef(null);return b.useImperativeHandle(y,()=>({focusSearch:()=>{A.current?.focus()}})),o.jsxs("div",{className:O(Ce.discoverPage,"scrollbar-none h-full overflow-y-auto"),children:[o.jsxs("header",{className:O(Ce.discoverHeader,"sticky top-0 z-10 px-5 pt-12 pb-4"),children:[o.jsx("div",{className:"mb-4 flex items-center justify-between",children:o.jsx("p",{className:"text-foreground text-sm font-medium",children:Gt()})}),o.jsxs("div",{className:"relative",children:[o.jsx(ht,{className:"text-muted-foreground absolute top-1/2 left-4 size-5 -translate-y-1/2",stroke:1.5}),o.jsx("input",{ref:A,type:"text",placeholder:"搜索应用",className:O("bg-muted/60 w-full rounded-xl py-3 pr-4 pl-12","placeholder:text-muted-foreground/60 text-base","focus:ring-primary/30 focus:ring-2 focus:outline-none","transition-all duration-200")})]})]}),o.jsxs("div",{className:"space-y-8",children:[u.length===0?o.jsx(Jt,{message:"暂无应用"}):o.jsxs(o.Fragment,{children:[g&&o.jsx("section",{className:"px-5",children:o.jsx(Pe,{app:g,onTap:()=>d(g)})}),I.length>0&&o.jsxs("section",{children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between px-5",children:[o.jsx("h2",{className:"text-xl font-bold",children:"推荐"}),o.jsxs("button",{className:"text-primary flex items-center text-sm font-medium",children:["查看全部",o.jsx(mt,{className:"size-4"})]})]}),o.jsx("div",{className:O("flex gap-3 overflow-x-auto px-5 pb-3","snap-x snap-mandatory scroll-smooth","[-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden"),children:I.map((w,E)=>o.jsx(Yt,{app:w,onTap:()=>d(w),fallbackColorIndex:E},w.id))})]}),o.jsxs("section",{className:"px-5",children:[o.jsx("h2",{className:"mb-3 text-xl font-bold",children:"热门应用"}),o.jsx("div",{className:"bg-card divide-y rounded-2xl border",children:f.map((w,E)=>o.jsx("div",{className:"px-4",children:o.jsx(Xt,{app:w,rank:E+1,showRank:!0,onTap:()=>d(w),onOpen:()=>i(w)})},w.id))})]}),h.length>1&&o.jsx("section",{className:"px-5",children:o.jsx(Pe,{app:h[1],onTap:()=>d(h[1])})})]}),o.jsx("div",{className:"h-[var(--tab-bar-height)]"})]})]})});He.__docgenInfo={description:"",methods:[{name:"focusSearch",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DiscoverPage",props:{apps:{required:!0,tsType:{name:"Array",elements:[{name:"MiniappManifest"}],raw:"MiniappManifest[]"},description:""},featuredApp:{required:!1,tsType:{name:"MiniappManifest"},description:""},featuredApps:{required:!0,tsType:{name:"Array",elements:[{name:"MiniappManifest"}],raw:"MiniappManifest[]"},description:""},recommendedApps:{required:!0,tsType:{name:"Array",elements:[{name:"MiniappManifest"}],raw:"MiniappManifest[]"},description:""},hotApps:{required:!0,tsType:{name:"Array",elements:[{name:"MiniappManifest"}],raw:"MiniappManifest[]"},description:""},onAppDetail:{required:!0,tsType:{name:"signature",type:"function",raw:"(app: MiniappManifest) => void",signature:{arguments:[{type:{name:"MiniappManifest"},name:"app"}],return:{name:"void"}}},description:""},onAppOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(app: MiniappManifest) => void",signature:{arguments:[{type:{name:"MiniappManifest"},name:"app"}],return:{name:"void"}}},description:""}}};const Kt=["color-dodge","hard-light"],Zt=["rainbow","vivid"],Qt=1e4;function er(l){return l==="dark"?!0:l==="light"||typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches}function Le(l){return l[Math.floor(Math.random()*l.length)]}function tr(){const l=new Date,u=new Date(l);return u.setHours(l.getHours()+1,0,0,0),u.getTime()-l.getTime()}function We({className:l,children:u,variant:g}){const h=z(rt,A=>A.theme),I=er(h),[f,d]=b.useState(!1),i=b.useMemo(()=>({dark:Le(Kt),light:Le(Zt)}),[]),y=g??(I?i.dark:i.light);return b.useEffect(()=>{let A,w;const E=()=>{d(!0),A=setTimeout(()=>d(!1),Qt)},B=()=>{const p=tr();w=setTimeout(()=>{E(),B()},p)};return B(),()=>{clearTimeout(A),clearTimeout(w)}},[]),o.jsxs("div",{className:O("ios-wallpaper relative h-full w-full",`ios-wallpaper--${y}`,f&&"ios-wallpaper--animating",l),children:[y==="hard-light"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"ios-wallpaper__stars"}),o.jsx("div",{className:"ios-wallpaper__glow"}),o.jsx("div",{className:"ios-wallpaper__highlight"})]}),u]})}We.__docgenInfo={description:"",methods:[],displayName:"IOSWallpaper",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},variant:{required:!1,tsType:{name:"union",raw:"'color-dodge' | 'hard-light' | 'rainbow' | 'vivid'",elements:[{name:"literal",value:"'color-dodge'"},{name:"literal",value:"'hard-light'"},{name:"literal",value:"'rainbow'"},{name:"literal",value:"'vivid'"}]},description:""}}};function Ge({className:l}){const u=z(V,ee.hasRunningApps),g=b.useCallback(h=>{if(h){yt(h);return}wt()},[]);return o.jsx("div",{ref:g,className:O("relative h-full w-full","bg-transparent",l),"data-testid":"app-stack-page","data-has-apps":u,children:!u&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center opacity-0",children:o.jsx("p",{className:"text-muted-foreground text-sm",children:"应用堆栈"})})})}Ge.__docgenInfo={description:"",methods:[],displayName:"AppStackPage",props:{className:{required:!1,tsType:{name:"string"},description:""}}};const rr="_widgetContainer_1vhap_7",nr="_capsule_1vhap_32",ir="_themeDark_1vhap_46",ar="_themeLight_1vhap_54",sr="_themeAuto_1vhap_62",or="_button_1vhap_78",cr="_icon_1vhap_99",lr="_divider_1vhap_104",ur="_closeIcon_1vhap_116",pr="_closeIconInner_1vhap_129",W={widgetContainer:rr,capsule:nr,themeDark:ir,themeLight:ar,themeAuto:sr,button:or,icon:cr,divider:lr,closeIcon:ur,closeIconInner:pr},Ve=b.forwardRef(function({theme:u="auto",actionIcon:g,onAction:h,onClose:I,visible:f=!0,className:d},i){if(!f)return null;const y=u==="dark"?W.themeDark:u==="light"?W.themeLight:W.themeAuto;return o.jsx("div",{className:W.widgetContainer,children:o.jsxs("div",{ref:i,className:O(W.capsule,y,d),"data-testid":"miniapp-capsule",children:[o.jsx("button",{type:"button",onClick:h,className:W.button,"aria-label":"更多操作",children:g??o.jsx(Ct,{className:W.icon,stroke:1.5})}),o.jsx("div",{className:W.divider}),o.jsx("button",{type:"button",onClick:I,className:W.button,"aria-label":"关闭应用",children:o.jsx("div",{className:W.closeIcon,children:o.jsx(Ot,{className:W.closeIconInner})})})]})})});Ve.__docgenInfo={description:"",methods:[],displayName:"MiniappCapsule",props:{theme:{required:!1,tsType:{name:"CapsuleTheme"},description:"胶囊主题",defaultValue:{value:"'auto'",computed:!1}},actionIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"多功能按钮的自定义图标"},onAction:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"多功能按钮点击回调"},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"关闭按钮点击回调"},visible:{required:!1,tsType:{name:"boolean"},description:"是否显示",defaultValue:{value:"true",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"自定义类名"}}};const dr="_window_p5x05_5",fr="_windowInner_p5x05_11",hr="_contentLayer_p5x05_29",mr="_blending_p5x05_36",xr="_splashBgLayer_p5x05_43",gr="_iframeLayer_p5x05_51",yr="_animating_p5x05_63",wr="_capsuleLayer_p5x05_72",K={window:dr,windowInner:fr,contentLayer:hr,blending:mr,splashBgLayer:xr,iframeLayer:gr,animating:yr,capsuleLayer:wr},Ir={open:{opacity:1,pointerEvents:"auto"},closed:{opacity:0,pointerEvents:"none"}},Er={show:{opacity:1,pointerEvents:"auto"},hide:{opacity:0,pointerEvents:"none"}},Ee={top:{zIndex:10,opacity:1,pointerEvents:"auto"},bottom:{zIndex:0,opacity:0,pointerEvents:"none"},gone:{zIndex:0,opacity:0,display:"none",pointerEvents:"none"}};function br({className:l}){const u=z(V,ee.getPresentations),g=z(V,ee.getFocusedAppId),h=z(V,ee.getVisualConfig),I=It(h);return u.length===0?null:o.jsx(o.Fragment,{children:u.filter(f=>f.state!=="hidden").map(f=>o.jsx(Ar,{appId:f.appId,presentation:f,motionPresets:I,className:l,isFocused:f.appId===g},f.appId))})}function Ar({appId:l,presentation:u,motionPresets:g,className:h,isFocused:I}){const f=b.useRef(null),d=b.useRef(null),[i,y]=b.useState(null),A=b.useRef(!1),w=b.useRef(null),E=z(V,$=>$.apps.get(l)??null),B=z(V,$=>{const H=$.apps.get(l);return H?.state==="launching"||H?.state==="splash"||H?.state==="closing"}),p=Et(u.desktop,l),x=bt(u.desktop,l),m=b.useMemo(()=>document.getElementById("miniapp-fallback-portal")??document.body,[]),N=x??m,k=p==="lost"||!x;b.useLayoutEffect(()=>{if(!E){y(null),A.current=!1;return}if(E.state==="preparing"){y(null),A.current=!1;return}if(u.state==="dismissing"||E.state==="closing"){if(A.current)return;y(E),w.current=u.transitionId,A.current=!0,requestAnimationFrame(()=>y(null));return}A.current=!1,y(E)},[E?.appId,E?.state,u.state,u.transitionId]),b.useEffect(()=>{i&&u.state==="presenting"&&u.transitionKind==="present"&&u.transitionId&&At(l,u.transitionId)},[l,i,u.state,u.transitionKind,u.transitionId]);const S=b.useRef("closed");i?.flow&&(S.current=i.flow);const T=i?i.flow:S.current,M=b.useCallback(()=>{i?.appId&&Bt(i.appId)},[i?.appId]),R=st[T],Z=ot[T],Y=lt[T],te=ct[T],ae=pt[T],se=ut[T],oe=T==="opening"||T==="closing",D=b.useMemo(()=>({appId:i?.appId??"",name:i?.manifest.name??"",icon:i?.manifest.icon??"",themeColor:i?.manifest.themeColorFrom??280}),[i?.appId,i?.manifest.name,i?.manifest.icon,i?.manifest.themeColorFrom]);b.useEffect(()=>{x&&(f.current&&_t(f.current),d.current&&Nt(d.current))},[x]),b.useEffect(()=>{const $=i?.iframeRef,H=d.current;!$||!H||($.parentElement!==H&&H.appendChild($),$.style.display==="none"&&($.style.display=""))},[i?.iframeRef,i?.appId,x]);const ce=b.useCallback(()=>{vt(l)},[l]),v=b.useCallback(()=>{St(l)},[l]),U=!k,X=o.jsx(Ut,{initial:!1,onExitComplete:()=>{const $=w.current;$&&kt(l,$),w.current=null,S.current="closed"},children:i&&o.jsx("div",{ref:f,className:O(K.window,B&&K.animating,h),style:{zIndex:u.zOrder,pointerEvents:I?void 0:"none",visibility:k?"hidden":"visible"},"data-testid":"miniapp-window","data-app-id":i.appId,"data-slot-lost":k?"true":void 0,children:o.jsxs(Q.div,{className:K.windowInner,variants:Ir,initial:!1,animate:R,onLayoutAnimationComplete:M,...U&&D.appId?{layoutId:`miniapp:${D.appId}:container`,"data-layoutid":`miniapp:${D.appId}:container`}:{},transition:g.sharedLayout,"data-flow":T,children:[o.jsxs(Q.div,{className:O(K.contentLayer,oe&&K.blending),...U&&D.appId?{layoutId:`miniapp:${D.appId}:inner`,"data-layoutid":`miniapp:${D.appId}:inner`}:{},transition:g.sharedLayout,children:[o.jsx(Q.div,{className:K.splashBgLayer,variants:Ee,initial:!1,animate:Z,"data-animate":Z,children:o.jsx(gt,{appId:D.appId,app:{name:D.name,icon:D.icon,themeColor:D.themeColor},visible:!0,showIcon:!1,showSpinner:!1,onClose:v})}),o.jsx(Q.div,{ref:d,className:K.iframeLayer,variants:Ee,initial:!1,animate:te,"data-animate":te})]}),o.jsx(Q.div,{className:"absolute inset-0 flex items-center justify-center",variants:Ee,initial:!1,animate:Y,"aria-hidden":Y!=="top",children:o.jsx(Q.div,{className:"size-30 items-center justify-center",...U&&ae&&D.appId?{layoutId:`miniapp:${D.appId}:logo`,"data-layoutid":`miniapp:${D.appId}:logo`}:{},transition:g.sharedLayout,children:o.jsx(de,{src:D.icon,name:D.name,size:"2xl"})})}),o.jsx("div",{className:K.capsuleLayer,children:o.jsx(Q.div,{variants:Er,initial:!1,animate:se,children:o.jsx(Ve,{visible:!0,theme:i?.ctx.capsuleTheme??"auto",onAction:()=>{},onClose:ce})})})]})})});return jt.createPortal(X,N)}br.__docgenInfo={description:"",methods:[],displayName:"MiniappWindow",props:{className:{required:!1,tsType:{name:"string"},description:""}}};const Br="_indicator_1e4mv_5",_r="_iconWrapper_1e4mv_24",Nr="_icon_1e4mv_24",vr="_dots_1e4mv_54",Sr="_dot_1e4mv_54",kr="_dotActive_1e4mv_73",ie={indicator:Br,iconWrapper:_r,icon:Nr,dots:vr,dot:Sr,dotActive:kr},De=["discover","mine","stack"],Tr={discover:ze,mine:Lt,stack:qt},Fr={discover:"发现",mine:"我的",stack:"堆栈"};function Mr({activePage:l,onPageChange:u,hasRunningApps:g,className:h}){const I=z(je,m=>m.activeSubPage),f=z(je,m=>m.availableSubPages),d=z(V,ee.hasRunningApps),i=l??I,y=g??d,A=b.useMemo(()=>f?.length?f:y?De:De.filter(m=>m!=="stack"),[f,y]),w=A.indexOf(i),E=b.useCallback(()=>{const m=(w+1)%A.length;return A[m]},[w,A]),B=b.useCallback(()=>{const m=E();m&&u?.(m)},[E,u]),p=Tr[i],x=Fr[i];return o.jsxs("button",{type:"button",onClick:B,className:O(ie.indicator,h),"aria-label":`当前：${x}，点击切换`,"data-testid":"ecosystem-tab-indicator",children:[o.jsx("div",{className:ie.iconWrapper,children:o.jsx(p,{className:ie.icon,stroke:1.5})}),o.jsx("div",{className:ie.dots,children:A.map((m,N)=>o.jsx("span",{className:O(ie.dot,N===w&&ie.dotActive)},m))})]})}Mr.__docgenInfo={description:"",methods:[],displayName:"EcosystemTabIndicator",props:{activePage:{required:!1,tsType:{name:"EcosystemSubPage"},description:"当前页面（可选，默认从 store 读取）"},onPageChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(page: EcosystemSubPage) => void",signature:{arguments:[{type:{name:"EcosystemSubPage"},name:"page"}],return:{name:"void"}}},description:"切换页面回调（可选，用于外部控制）"},hasRunningApps:{required:!1,tsType:{name:"boolean"},description:"是否有运行中的应用（可选，默认从 store 读取）"},className:{required:!1,tsType:{name:"string"},description:"自定义类名"}}};function Rr({title:l,description:u,appName:g,appIcon:h}){return o.jsxs("div",{className:"border-border border-b px-4 pb-4",children:[o.jsx("div",{className:"mx-auto mb-3 flex w-fit justify-center",children:o.jsx(de,{src:h,name:g||"App",size:"lg",shadow:"sm"})}),o.jsx("h2",{className:"text-center text-lg font-semibold",children:l}),u&&o.jsx("p",{className:"text-muted-foreground mt-1 text-center text-sm",children:u})]})}Rr.__docgenInfo={description:"",methods:[],displayName:"MiniappSheetHeader",props:{title:{required:!0,tsType:{name:"string"},description:"Sheet 标题"},description:{required:!1,tsType:{name:"string"},description:"描述文本 (可选)"},appName:{required:!1,tsType:{name:"string"},description:"来源小程序名称"},appIcon:{required:!1,tsType:{name:"string"},description:"来源小程序图标 URL"}}};var be={},pe={},qe;function jr(){if(qe)return pe;qe=1,pe.byteLength=i,pe.toByteArray=A,pe.fromByteArray=B;for(var l=[],u=[],g=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0,f=h.length;I<f;++I)l[I]=h[I],u[h.charCodeAt(I)]=I;u[45]=62,u[95]=63;function d(p){var x=p.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=p.indexOf("=");m===-1&&(m=x);var N=m===x?0:4-m%4;return[m,N]}function i(p){var x=d(p),m=x[0],N=x[1];return(m+N)*3/4-N}function y(p,x,m){return(x+m)*3/4-m}function A(p){var x,m=d(p),N=m[0],k=m[1],S=new g(y(p,N,k)),T=0,M=k>0?N-4:N,R;for(R=0;R<M;R+=4)x=u[p.charCodeAt(R)]<<18|u[p.charCodeAt(R+1)]<<12|u[p.charCodeAt(R+2)]<<6|u[p.charCodeAt(R+3)],S[T++]=x>>16&255,S[T++]=x>>8&255,S[T++]=x&255;return k===2&&(x=u[p.charCodeAt(R)]<<2|u[p.charCodeAt(R+1)]>>4,S[T++]=x&255),k===1&&(x=u[p.charCodeAt(R)]<<10|u[p.charCodeAt(R+1)]<<4|u[p.charCodeAt(R+2)]>>2,S[T++]=x>>8&255,S[T++]=x&255),S}function w(p){return l[p>>18&63]+l[p>>12&63]+l[p>>6&63]+l[p&63]}function E(p,x,m){for(var N,k=[],S=x;S<m;S+=3)N=(p[S]<<16&16711680)+(p[S+1]<<8&65280)+(p[S+2]&255),k.push(w(N));return k.join("")}function B(p){for(var x,m=p.length,N=m%3,k=[],S=16383,T=0,M=m-N;T<M;T+=S)k.push(E(p,T,T+S>M?M:T+S));return N===1?(x=p[m-1],k.push(l[x>>2]+l[x<<4&63]+"==")):N===2&&(x=(p[m-2]<<8)+p[m-1],k.push(l[x>>10]+l[x>>4&63]+l[x<<2&63]+"=")),k.join("")}return pe}var me={};var $e;function Cr(){return $e||($e=1,me.read=function(l,u,g,h,I){var f,d,i=I*8-h-1,y=(1<<i)-1,A=y>>1,w=-7,E=g?I-1:0,B=g?-1:1,p=l[u+E];for(E+=B,f=p&(1<<-w)-1,p>>=-w,w+=i;w>0;f=f*256+l[u+E],E+=B,w-=8);for(d=f&(1<<-w)-1,f>>=-w,w+=h;w>0;d=d*256+l[u+E],E+=B,w-=8);if(f===0)f=1-A;else{if(f===y)return d?NaN:(p?-1:1)*(1/0);d=d+Math.pow(2,h),f=f-A}return(p?-1:1)*d*Math.pow(2,f-h)},me.write=function(l,u,g,h,I,f){var d,i,y,A=f*8-I-1,w=(1<<A)-1,E=w>>1,B=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=h?0:f-1,x=h?1:-1,m=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(i=isNaN(u)?1:0,d=w):(d=Math.floor(Math.log(u)/Math.LN2),u*(y=Math.pow(2,-d))<1&&(d--,y*=2),d+E>=1?u+=B/y:u+=B*Math.pow(2,1-E),u*y>=2&&(d++,y/=2),d+E>=w?(i=0,d=w):d+E>=1?(i=(u*y-1)*Math.pow(2,I),d=d+E):(i=u*Math.pow(2,E-1)*Math.pow(2,I),d=0));I>=8;l[g+p]=i&255,p+=x,i/=256,I-=8);for(d=d<<I|i,A+=I;A>0;l[g+p]=d&255,p+=x,d/=256,A-=8);l[g+p-x]|=m*128}),me}var Oe;function Ur(){return Oe||(Oe=1,(function(l){const u=jr(),g=Cr(),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=i,l.SlowBuffer=S,l.INSPECT_MAX_BYTES=50;const I=2147483647;l.kMaxLength=I,i.TYPED_ARRAY_SUPPORT=f(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function d(r){if(r>I)throw new RangeError('The value "'+r+'" is invalid for option "size"');const e=new Uint8Array(r);return Object.setPrototypeOf(e,i.prototype),e}function i(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(r)}return y(r,e,t)}i.poolSize=8192;function y(r,e,t){if(typeof r=="string")return B(r,e);if(ArrayBuffer.isView(r))return x(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(G(r,ArrayBuffer)||r&&G(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(G(r,SharedArrayBuffer)||r&&G(r.buffer,SharedArrayBuffer)))return m(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return i.from(n,e,t);const a=N(r);if(a)return a;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return i.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}i.from=function(r,e,t){return y(r,e,t)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function A(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function w(r,e,t){return A(r),r<=0?d(r):e!==void 0?typeof t=="string"?d(r).fill(e,t):d(r).fill(e):d(r)}i.alloc=function(r,e,t){return w(r,e,t)};function E(r){return A(r),d(r<0?0:k(r)|0)}i.allocUnsafe=function(r){return E(r)},i.allocUnsafeSlow=function(r){return E(r)};function B(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!i.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=T(r,e)|0;let n=d(t);const a=n.write(r,e);return a!==t&&(n=n.slice(0,a)),n}function p(r){const e=r.length<0?0:k(r.length)|0,t=d(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function x(r){if(G(r,Uint8Array)){const e=new Uint8Array(r);return m(e.buffer,e.byteOffset,e.byteLength)}return p(r)}function m(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,i.prototype),n}function N(r){if(i.isBuffer(r)){const e=k(r.length)|0,t=d(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||we(r.length)?d(0):p(r);if(r.type==="Buffer"&&Array.isArray(r.data))return p(r.data)}function k(r){if(r>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return r|0}function S(r){return+r!=r&&(r=0),i.alloc(+r)}i.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==i.prototype},i.compare=function(e,t){if(G(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,a=t.length;for(let s=0,c=Math.min(n,a);s<c;++s)if(e[s]!==t[s]){n=e[s],a=t[s];break}return n<a?-1:a<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return i.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const a=i.allocUnsafe(t);let s=0;for(n=0;n<e.length;++n){let c=e[n];if(G(c,Uint8Array))s+c.length>a.length?(i.isBuffer(c)||(c=i.from(c)),c.copy(a,s)):Uint8Array.prototype.set.call(a,c,s);else if(i.isBuffer(c))c.copy(a,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=c.length}return a};function T(r,e){if(i.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||G(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let a=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return ye(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Me(r).length;default:if(a)return n?-1:ye(r).length;e=(""+e).toLowerCase(),a=!0}}i.byteLength=T;function M(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return fe(this,e,t);case"utf8":case"utf-8":return v(this,e,t);case"ascii":return $(this,e,t);case"latin1":case"binary":return H(this,e,t);case"base64":return ce(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}i.prototype._isBuffer=!0;function R(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}i.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)R(this,t,t+1);return this},i.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)R(this,t,t+3),R(this,t+1,t+2);return this},i.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)R(this,t,t+7),R(this,t+1,t+6),R(this,t+2,t+5),R(this,t+3,t+4);return this},i.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?v(this,0,e):M.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:i.compare(this,e)===0},i.prototype.inspect=function(){let e="";const t=l.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},h&&(i.prototype[h]=i.prototype.inspect),i.prototype.compare=function(e,t,n,a,s){if(G(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),a===void 0&&(a=0),s===void 0&&(s=this.length),t<0||n>e.length||a<0||s>this.length)throw new RangeError("out of range index");if(a>=s&&t>=n)return 0;if(a>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,s>>>=0,this===e)return 0;let c=s-a,_=n-t;const P=Math.min(c,_),C=this.slice(a,s),L=e.slice(t,n);for(let F=0;F<P;++F)if(C[F]!==L[F]){c=C[F],_=L[F];break}return c<_?-1:_<c?1:0};function Z(r,e,t,n,a){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,we(t)&&(t=a?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(a)return-1;t=r.length-1}else if(t<0)if(a)t=0;else return-1;if(typeof e=="string"&&(e=i.from(e,n)),i.isBuffer(e))return e.length===0?-1:Y(r,e,t,n,a);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Y(r,[e],t,n,a);throw new TypeError("val must be string, number or Buffer")}function Y(r,e,t,n,a){let s=1,c=r.length,_=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,c/=2,_/=2,t/=2}function P(L,F){return s===1?L[F]:L.readUInt16BE(F*s)}let C;if(a){let L=-1;for(C=t;C<c;C++)if(P(r,C)===P(e,L===-1?0:C-L)){if(L===-1&&(L=C),C-L+1===_)return L*s}else L!==-1&&(C-=C-L),L=-1}else for(t+_>c&&(t=c-_),C=t;C>=0;C--){let L=!0;for(let F=0;F<_;F++)if(P(r,C+F)!==P(e,F)){L=!1;break}if(L)return C}return-1}i.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},i.prototype.indexOf=function(e,t,n){return Z(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return Z(this,e,t,n,!1)};function te(r,e,t,n){t=Number(t)||0;const a=r.length-t;n?(n=Number(n),n>a&&(n=a)):n=a;const s=e.length;n>s/2&&(n=s/2);let c;for(c=0;c<n;++c){const _=parseInt(e.substr(c*2,2),16);if(we(_))return c;r[t+c]=_}return c}function ae(r,e,t,n){return he(ye(e,r.length-t),r,t,n)}function se(r,e,t,n){return he(Ze(e),r,t,n)}function oe(r,e,t,n){return he(Me(e),r,t,n)}function D(r,e,t,n){return he(Qe(e,r.length-t),r,t,n)}i.prototype.write=function(e,t,n,a){if(t===void 0)a="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")a=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,a===void 0&&(a="utf8")):(a=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let c=!1;for(;;)switch(a){case"hex":return te(this,e,t,n);case"utf8":case"utf-8":return ae(this,e,t,n);case"ascii":case"latin1":case"binary":return se(this,e,t,n);case"base64":return oe(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,n);default:if(c)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),c=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(r,e,t){return e===0&&t===r.length?u.fromByteArray(r):u.fromByteArray(r.slice(e,t))}function v(r,e,t){t=Math.min(r.length,t);const n=[];let a=e;for(;a<t;){const s=r[a];let c=null,_=s>239?4:s>223?3:s>191?2:1;if(a+_<=t){let P,C,L,F;switch(_){case 1:s<128&&(c=s);break;case 2:P=r[a+1],(P&192)===128&&(F=(s&31)<<6|P&63,F>127&&(c=F));break;case 3:P=r[a+1],C=r[a+2],(P&192)===128&&(C&192)===128&&(F=(s&15)<<12|(P&63)<<6|C&63,F>2047&&(F<55296||F>57343)&&(c=F));break;case 4:P=r[a+1],C=r[a+2],L=r[a+3],(P&192)===128&&(C&192)===128&&(L&192)===128&&(F=(s&15)<<18|(P&63)<<12|(C&63)<<6|L&63,F>65535&&F<1114112&&(c=F))}}c===null?(c=65533,_=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|c&1023),n.push(c),a+=_}return X(n)}const U=4096;function X(r){const e=r.length;if(e<=U)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=U));return t}function $(r,e,t){let n="";t=Math.min(r.length,t);for(let a=e;a<t;++a)n+=String.fromCharCode(r[a]&127);return n}function H(r,e,t){let n="";t=Math.min(r.length,t);for(let a=e;a<t;++a)n+=String.fromCharCode(r[a]);return n}function fe(r,e,t){const n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let a="";for(let s=e;s<t;++s)a+=et[r[s]];return a}function xe(r,e,t){const n=r.slice(e,t);let a="";for(let s=0;s<n.length-1;s+=2)a+=String.fromCharCode(n[s]+n[s+1]*256);return a}i.prototype.slice=function(e,t){const n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,i.prototype),a};function j(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||j(e,t,this.length);let a=this[e],s=1,c=0;for(;++c<t&&(s*=256);)a+=this[e+c]*s;return a},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||j(e,t,this.length);let a=this[e+--t],s=1;for(;t>0&&(s*=256);)a+=this[e+--t]*s;return a},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e=e>>>0,t||j(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||j(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||j(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||j(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readBigUInt64LE=J(function(e){e=e>>>0,ne(e,"offset");const t=this[e],n=this[e+7];(t===void 0||n===void 0)&&le(e,this.length-8);const a=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(a)+(BigInt(s)<<BigInt(32))}),i.prototype.readBigUInt64BE=J(function(e){e=e>>>0,ne(e,"offset");const t=this[e],n=this[e+7];(t===void 0||n===void 0)&&le(e,this.length-8);const a=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(a)<<BigInt(32))+BigInt(s)}),i.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||j(e,t,this.length);let a=this[e],s=1,c=0;for(;++c<t&&(s*=256);)a+=this[e+c]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*t)),a},i.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||j(e,t,this.length);let a=t,s=1,c=this[e+--a];for(;a>0&&(s*=256);)c+=this[e+--a]*s;return s*=128,c>=s&&(c-=Math.pow(2,8*t)),c},i.prototype.readInt8=function(e,t){return e=e>>>0,t||j(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},i.prototype.readInt16LE=function(e,t){e=e>>>0,t||j(e,2,this.length);const n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},i.prototype.readInt16BE=function(e,t){e=e>>>0,t||j(e,2,this.length);const n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},i.prototype.readInt32LE=function(e,t){return e=e>>>0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e=e>>>0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readBigInt64LE=J(function(e){e=e>>>0,ne(e,"offset");const t=this[e],n=this[e+7];(t===void 0||n===void 0)&&le(e,this.length-8);const a=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),i.prototype.readBigInt64BE=J(function(e){e=e>>>0,ne(e,"offset");const t=this[e],n=this[e+7];(t===void 0||n===void 0)&&le(e,this.length-8);const a=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)}),i.prototype.readFloatLE=function(e,t){return e=e>>>0,t||j(e,4,this.length),g.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e=e>>>0,t||j(e,4,this.length),g.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||j(e,8,this.length),g.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||j(e,8,this.length),g.read(this,e,!1,52,8)};function q(r,e,t,n,a,s){if(!i.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,n,a){if(e=+e,t=t>>>0,n=n>>>0,!a){const _=Math.pow(2,8*n)-1;q(this,e,t,n,_,0)}let s=1,c=0;for(this[t]=e&255;++c<n&&(s*=256);)this[t+c]=e/s&255;return t+n},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,n,a){if(e=+e,t=t>>>0,n=n>>>0,!a){const _=Math.pow(2,8*n)-1;q(this,e,t,n,_,0)}let s=n-1,c=1;for(this[t+s]=e&255;--s>=0&&(c*=256);)this[t+s]=e/c&255;return t+n},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,1,255,0),this[t]=e&255,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function _e(r,e,t,n,a){Fe(e,n,a,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let c=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=c,c=c>>8,r[t++]=c,c=c>>8,r[t++]=c,c=c>>8,r[t++]=c,t}function Ne(r,e,t,n,a){Fe(e,n,a,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let c=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=c,c=c>>8,r[t+2]=c,c=c>>8,r[t+1]=c,c=c>>8,r[t]=c,t+8}i.prototype.writeBigUInt64LE=J(function(e,t=0){return _e(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=J(function(e,t=0){return Ne(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t=t>>>0,!a){const P=Math.pow(2,8*n-1);q(this,e,t,n,P-1,-P)}let s=0,c=1,_=0;for(this[t]=e&255;++s<n&&(c*=256);)e<0&&_===0&&this[t+s-1]!==0&&(_=1),this[t+s]=(e/c>>0)-_&255;return t+n},i.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t=t>>>0,!a){const P=Math.pow(2,8*n-1);q(this,e,t,n,P-1,-P)}let s=n-1,c=1,_=0;for(this[t+s]=e&255;--s>=0&&(c*=256);)e<0&&_===0&&this[t+s+1]!==0&&(_=1),this[t+s]=(e/c>>0)-_&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},i.prototype.writeBigInt64LE=J(function(e,t=0){return _e(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=J(function(e,t=0){return Ne(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(r,e,t,n,a,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Se(r,e,t,n,a){return e=+e,t=t>>>0,a||ve(r,e,t,4),g.write(r,e,t,n,23,4),t+4}i.prototype.writeFloatLE=function(e,t,n){return Se(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return Se(this,e,t,!1,n)};function ke(r,e,t,n,a){return e=+e,t=t>>>0,a||ve(r,e,t,8),g.write(r,e,t,n,52,8),t+8}i.prototype.writeDoubleLE=function(e,t,n){return ke(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return ke(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,a){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!a&&a!==0&&(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);const s=a-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),t),s},i.prototype.fill=function(e,t,n,a){if(typeof e=="string"){if(typeof t=="string"?(a=t,t=0,n=this.length):typeof n=="string"&&(a=n,n=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!i.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(e.length===1){const c=e.charCodeAt(0);(a==="utf8"&&c<128||a==="latin1")&&(e=c)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{const c=i.isBuffer(e)?e:i.from(e,a),_=c.length;if(_===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=c[s%_]}return this};const re={};function ge(r,e,t){re[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError),ge("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,a=t;return Number.isInteger(t)&&Math.abs(t)>2**32?a=Te(String(t)):typeof t=="bigint"&&(a=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(a=Te(a)),a+="n"),n+=` It must be ${e}. Received ${a}`,n},RangeError);function Te(r){let e="",t=r.length;const n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function Xe(r,e,t){ne(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&le(e,r.length-(t+1))}function Fe(r,e,t,n,a,s){if(r>t||r<e){const c=typeof e=="bigint"?"n":"";let _;throw e===0||e===BigInt(0)?_=`>= 0${c} and < 2${c} ** ${(s+1)*8}${c}`:_=`>= -(2${c} ** ${(s+1)*8-1}${c}) and < 2 ** ${(s+1)*8-1}${c}`,new re.ERR_OUT_OF_RANGE("value",_,r)}Xe(n,a,s)}function ne(r,e){if(typeof r!="number")throw new re.ERR_INVALID_ARG_TYPE(e,"number",r)}function le(r,e,t){throw Math.floor(r)!==r?(ne(r,t),new re.ERR_OUT_OF_RANGE("offset","an integer",r)):e<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,r)}const Je=/[^+/0-9A-Za-z-_]/g;function Ke(r){if(r=r.split("=")[0],r=r.trim().replace(Je,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function ye(r,e){e=e||1/0;let t;const n=r.length;let a=null;const s=[];for(let c=0;c<n;++c){if(t=r.charCodeAt(c),t>55295&&t<57344){if(!a){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(c+1===n){(e-=3)>-1&&s.push(239,191,189);continue}a=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),a=t;continue}t=(a-55296<<10|t-56320)+65536}else a&&(e-=3)>-1&&s.push(239,191,189);if(a=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Ze(r){const e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Qe(r,e){let t,n,a;const s=[];for(let c=0;c<r.length&&!((e-=2)<0);++c)t=r.charCodeAt(c),n=t>>8,a=t%256,s.push(a),s.push(n);return s}function Me(r){return u.toByteArray(Ke(r))}function he(r,e,t,n){let a;for(a=0;a<n&&!(a+t>=e.length||a>=r.length);++a)e[a+t]=r[a];return a}function G(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function we(r){return r!==r}const et=(function(){const r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const n=t*16;for(let a=0;a<16;++a)e[n+a]=r[t]+r[a]}return e})();function J(r){return typeof BigInt>"u"?tt:r}function tt(){throw new Error("BigInt not supported")}})(be)),be}var Pr=Ur();function Lr(l){const u=new TextEncoder().encode(l);let g="";return u.forEach(I=>{g+=String.fromCharCode(I)}),(typeof globalThis.btoa=="function"?globalThis.btoa(g):Pr.Buffer.from(g,"binary").toString("base64")).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}function Dr(l){return l==="mine"||l==="stack"}function Ae(){const l=b.useRef(null),[u,g]=b.useState(null),h=z(V,ee.getPresentations);b.useEffect(()=>{const f=l.current;if(!f)return;const d=f.closest("[data-ecosystem-subpage]")?.getAttribute("data-ecosystem-subpage")??null;g(Dr(d)?d:null)},[]),b.useEffect(()=>{const f=l.current;if(!(!f||!u))return Tt(u,f),()=>Ft(u)},[u]);const I=b.useMemo(()=>u?h.filter(f=>f.desktop===u&&f.state!=="hidden"):[],[u,h]);return o.jsx("div",{ref:l,className:"absolute left-0 right-0 top-0 z-20 grid",style:{bottom:"var(--tab-bar-height)",pointerEvents:"none",gridTemplateColumns:"1fr",gridTemplateRows:"1fr"},"aria-hidden":!0,"data-testid":"miniapp-window-stack",children:I.map(f=>{const d=Lr(f.appId),i=y=>{if(u){if(y){Mt(u,f.appId,y);return}Rt(u,f.appId)}};return o.jsx("div",{ref:i,style:{gridArea:"1 / 1",pointerEvents:"auto"},"data-miniapp-slot":!0,"data-app-id":f.appId,"data-area-name":d},f.appId)})})}Ae.__docgenInfo={description:`MiniappWindowStack

一个统一的“窗口堆栈层”覆盖网格：
- 由 slide 决定布局（本组件只提供 slot 容器）
- slot 统一叠放在同一 grid cell（1 / 1）
- 本组件不区分 mine/stack 的 props，通过 DOM 上的 \`data-ecosystem-subpage\` 自识别`,methods:[],displayName:"MiniappWindowStack"};const Ye="-38.2%",qr=3,$r=`${100+(qr-1)*Math.abs(parseFloat(Ye))}%`,Or=b.forwardRef(function(u,g){const{showDiscoverPage:h=!0,showStackPage:I="auto",initialPage:f,apps:d,myApps:i,featuredApps:y=[],recommendedApps:A=[],hotApps:w=[],onAppOpen:E,onAppDetail:B,onAppRemove:p}=u,x=b.useRef(null),m=b.useRef(null),N=b.useRef("mine"),k=z(V,v=>{if(v.presentations.size===0)return null;const U=Array.from(v.presentations.values()).filter(j=>j.state!=="hidden");if(U.length===0)return null;const X=v.focusedAppId??v.activeAppId,H=(X?v.presentations.get(X):null)?.desktop??(X?v.apps.get(X)?.manifest.targetDesktop??null:null),fe=j=>j==="stack"?"stack":"mine";if(H)return fe(H);const xe=U.reduce((j,q)=>q.zOrder>j.zOrder?q:j);return fe(xe.desktop)}),S=z(V,ee.hasRunningStackApps),T=I==="auto"?S:I,M=b.useMemo(()=>{const v=[];return h&&v.push("discover"),v.push("mine"),T&&v.push("stack"),v},[h,T]),R=M.length,Z=b.useMemo(()=>{const v=f??(h?"discover":"mine"),U=M.indexOf(v);return U>=0?U:0},[f,h,M]),{onSwiper:Y,controlledSwiper:te}=it("ecosystem-main","ecosystem-indicator"),ae=b.useCallback(v=>{x.current=v,Y(v);const U=M[v.activeIndex]??"mine";N.current=U,ue.setActiveSubPage(U),ue.setAvailableSubPages(M)},[Y,M]);b.useEffect(()=>{ue.setAvailableSubPages(M)},[M]),b.useEffect(()=>{if(!k||N.current===k)return;const v=M.indexOf(k);v<0||x.current?.slideTo(v)},[k,M]);const se=b.useCallback((v,U)=>{ue.setSwiperProgress(U*(R-1))},[R]),oe=b.useCallback(v=>{const U=M[v.activeIndex]??"mine";N.current=U,ue.setActiveSubPage(U)},[M]),D=b.useCallback(()=>{if(!h)return;const v=M.indexOf("discover");v>=0&&(x.current?.slideTo(v),setTimeout(()=>m.current?.focusSearch(),300))},[h,M]);b.useImperativeHandle(g,()=>({slideTo:v=>{const U=M.indexOf(v);U>=0&&x.current?.slideTo(U)},focusSearch:()=>{h&&m.current?.focusSearch()},getCurrentPage:()=>N.current,getSwiper:()=>x.current}),[M,h]);const ce=y[0];return o.jsx("div",{className:"bg-background relative h-full",children:o.jsxs(nt,{className:"h-full w-full",modules:[zt,at],controller:{control:te},parallax:!0,initialSlide:Z,onSwiper:ae,onSlideChange:oe,onProgress:se,resistanceRatio:.5,children:[o.jsx("div",{className:"absolute inset-y-0 left-0 z-0",style:{width:$r},"data-swiper-parallax":Ye,children:o.jsx(We,{className:"h-full w-full"})}),h&&o.jsx(Ie,{className:"!h-full !overflow-hidden",children:o.jsx("div",{className:"relative z-10 h-full",children:o.jsx(He,{ref:m,apps:d,featuredApp:ce,featuredApps:y,recommendedApps:A,hotApps:w,onAppDetail:B,onAppOpen:E})})}),o.jsx(Ie,{className:"!h-full !overflow-hidden",children:o.jsxs("div",{className:"relative z-10 h-full","data-ecosystem-subpage":"mine",children:[o.jsx(dt,{apps:i,showSearch:h,onSearchClick:D,onAppOpen:E,onAppDetail:B,onAppRemove:p}),o.jsx(Ae,{})]})}),T&&o.jsx(Ie,{className:"!h-full !overflow-hidden",children:o.jsxs("div",{className:"relative z-10 h-full","data-ecosystem-subpage":"stack",children:[o.jsx(Ge,{}),o.jsx(Ae,{})]})})]})})});Or.__docgenInfo={description:"",methods:[{name:"slideTo",docblock:null,modifiers:[],params:[{name:"page",optional:!1,type:{name:"EcosystemSubPage",alias:"EcosystemSubPage"}}],returns:null},{name:"focusSearch",docblock:null,modifiers:[],params:[],returns:null},{name:"getCurrentPage",docblock:null,modifiers:[],params:[],returns:null},{name:"getSwiper",docblock:null,modifiers:[],params:[],returns:null}],displayName:"EcosystemDesktop",props:{showDiscoverPage:{required:!1,tsType:{name:"boolean"},description:"是否显示发现页（默认 true）"},showStackPage:{required:!1,tsType:{name:"union",raw:"boolean | 'auto'",elements:[{name:"boolean"},{name:"literal",value:"'auto'"}]},description:"是否显示应用堆栈页（默认 'auto'，根据是否有运行中的应用自动判断）"},initialPage:{required:!1,tsType:{name:"EcosystemSubPage"},description:"初始页面（默认根据配置自动选择）"},apps:{required:!0,tsType:{name:"Array",elements:[{name:"MiniappManifest"}],raw:"MiniappManifest[]"},description:"所有应用列表"},myApps:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ app: MiniappManifest; lastUsed: number }",signature:{properties:[{key:"app",value:{name:"MiniappManifest",required:!0}},{key:"lastUsed",value:{name:"number",required:!0}}]}}],raw:"Array<{ app: MiniappManifest; lastUsed: number }>"},description:"我的应用（带最后使用时间）"},featuredApps:{required:!1,tsType:{name:"Array",elements:[{name:"MiniappManifest"}],raw:"MiniappManifest[]"},description:"精选应用"},recommendedApps:{required:!1,tsType:{name:"Array",elements:[{name:"MiniappManifest"}],raw:"MiniappManifest[]"},description:"推荐应用"},hotApps:{required:!1,tsType:{name:"Array",elements:[{name:"MiniappManifest"}],raw:"MiniappManifest[]"},description:"热门应用"},onAppOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(app: MiniappManifest) => void",signature:{arguments:[{type:{name:"MiniappManifest"},name:"app"}],return:{name:"void"}}},description:"打开应用"},onAppDetail:{required:!0,tsType:{name:"signature",type:"function",raw:"(app: MiniappManifest) => void",signature:{arguments:[{type:{name:"MiniappManifest"},name:"app"}],return:{name:"void"}}},description:"查看应用详情"},onAppRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"(appId: string) => void",signature:{arguments:[{type:{name:"string"},name:"appId"}],return:{name:"void"}}},description:"移除应用"}}};export{Or as E,Lt as I,Ve as M,Mr as a,br as b,Rr as c};
