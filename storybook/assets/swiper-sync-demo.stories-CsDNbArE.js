import{r as x,j as e}from"./iframe-BTpb5FuF.js";import{S as u,a as h}from"./swiper-5M8uE_0Q.js";import{C as f,S as N,u as y}from"./swiper-sync-context-BLUkXjGI.js";import{c as b}from"./utils-4perknFd.js";import{u as g}from"./useTranslation-B4edLqB0.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CWWgpFGc.js";const o=["Page 1","Page 2","Page 3"];function w(){const{t:r}=g("ecosystem"),[n,d]=x.useState(null),[a,c]=x.useState(null),[i,l]=x.useState(0);return e.jsxs("div",{className:"flex flex-col gap-8 p-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:r("demo.swiper.method1")}),e.jsxs("div",{className:"bg-muted rounded-lg p-4 font-mono text-sm",children:[e.jsx("div",{children:r("demo.swiper.debugProgress",{value:i.toFixed(3)})}),e.jsx("div",{children:r("demo.swiper.debugActiveIndex",{value:Math.round(i*(o.length-1))})})]}),e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsx("div",{className:"bg-muted px-4 py-2 text-sm font-medium",children:r("demo.swiper.main")}),e.jsx(u,{className:"h-48",modules:[f],controller:{control:a??void 0},onSwiper:d,onProgress:(t,s)=>l(s),children:o.map(t=>e.jsx(h,{className:"from-primary/20 to-primary/5 !flex items-center justify-center bg-gradient-to-br",children:e.jsx("span",{className:"text-2xl font-bold",children:t})},t))})]}),e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsx("div",{className:"bg-muted px-4 py-2 text-sm font-medium",children:r("demo.swiper.indicator")}),e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(u,{className:"!h-8 !w-24",modules:[f],controller:{control:n??void 0},onSwiper:c,slidesPerView:1,resistance:!0,resistanceRatio:.5,children:o.map((t,s)=>e.jsx(h,{className:"!flex items-center justify-center",children:e.jsx("div",{className:"bg-primary flex h-6 w-6 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-primary-foreground text-xs font-bold",children:s+1})})},t))})})]}),e.jsx("div",{className:"flex gap-2",children:o.map((t,s)=>e.jsx("button",{onClick:()=>n?.slideTo(s),className:"bg-muted hover:bg-muted/80 rounded-lg px-4 py-2",children:r("demo.swiper.goTo",{index:s+1})},s))})]})}function v(){const{t:r}=g("ecosystem"),[n,d]=x.useState(0),{onSwiper:a,onSlideChange:c}=y("main","indicator",{initialIndex:0});return e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsx("div",{className:"bg-muted px-4 py-2 text-sm font-medium",children:r("demo.swiper.mainIndependent")}),e.jsx(u,{className:"h-48",modules:[f],onSwiper:a,onSlideChange:c,onProgress:(i,l)=>d(l),children:o.map(i=>e.jsx(h,{className:"from-primary/20 to-primary/5 !flex items-center justify-center bg-gradient-to-br",children:e.jsx("span",{className:"text-2xl font-bold",children:i})},i))}),e.jsx("div",{className:"bg-muted/50 border-t px-4 py-2 font-mono text-xs",children:r("demo.swiper.debugCombined",{progress:n.toFixed(3),index:Math.round(n*(o.length-1))})})]})}function C(){const{t:r}=g("ecosystem"),[n,d]=x.useState(0),a=o.length-1,{onSwiper:c,onSlideChange:i}=y("indicator","main",{initialIndex:0}),l=t=>{const s=n*a,j=Math.abs(s-t);return Math.max(.3,1-j)};return e.jsxs("div",{className:"overflow-hidden rounded-lg border",children:[e.jsx("div",{className:"bg-muted px-4 py-2 text-sm font-medium",children:r("demo.swiper.indicatorIndependent")}),e.jsxs("div",{className:"flex flex-col items-center gap-2 py-4",children:[e.jsx(u,{className:"!h-8 !w-24",modules:[f],onSwiper:c,onSlideChange:i,onProgress:(t,s)=>d(s),slidesPerView:1,resistance:!0,resistanceRatio:.5,children:o.map((t,s)=>e.jsx(h,{className:"!flex items-center justify-center",children:e.jsx("div",{className:"bg-primary flex h-6 w-6 items-center justify-center rounded-full transition-opacity duration-75",style:{opacity:l(s)},children:e.jsx("span",{className:"text-primary-foreground text-xs font-bold",children:s+1})})},t))}),e.jsx("div",{className:"flex items-center gap-1",children:o.map((t,s)=>{const j=Math.round(n*a)===s;return e.jsx("span",{className:b("size-1.5 rounded-full transition-all duration-200",j?"bg-primary scale-125":"bg-muted-foreground/40")},s)})})]})]})}function S(){const{t:r}=g("ecosystem");return e.jsx(N,{children:e.jsxs("div",{className:"flex flex-col gap-8 p-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:r("demo.swiper.method3")}),e.jsx("p",{className:"text-muted-foreground text-sm",children:r("demo.swiper.method3Desc")}),e.jsx(v,{}),e.jsx(C,{})]})})}w.__docgenInfo={description:"方案一：Swiper Controller 模块（官方推荐）",methods:[],displayName:"SwiperSyncDemo"};S.__docgenInfo={description:"方案三：Context 封装 Demo",methods:[],displayName:"SwiperSyncDemoContext"};const R={title:"Ecosystem/SwiperSyncDemo",component:w,parameters:{layout:"fullscreen"}},m={},p={render:()=>e.jsx(S,{})};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"{}",...m.parameters?.docs?.source},description:{story:"Controller 模块原理展示",...m.parameters?.docs?.description}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: () => <SwiperSyncDemoContext />
}`,...p.parameters?.docs?.source},description:{story:"Context 封装模式（跨组件同步）",...p.parameters?.docs?.description}}};const T=["Controller","ContextMode"];export{p as ContextMode,m as Controller,T as __namedExportsOrder,R as default};
