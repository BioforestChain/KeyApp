import{r as o,j as t}from"./iframe-Cdc63axx.js";import{c as d}from"./utils-CDN07tui.js";const x=o.createContext(null);function v({getTokenIconBases:e,children:n}){return t.jsx(x.Provider,{value:{getTokenIconBases:e},children:n})}function k(){return o.useContext(x)}const m={xs:"aspect-square w-4 text-[8px]",sm:"aspect-square w-6 text-[10px]",md:"aspect-square w-8 text-xs",lg:"aspect-square w-10 @xs:w-12 text-sm"};function w(e){if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))return!0;try{return new URL(e).origin===window.location.origin}catch{return!0}}function b(e,n){const r=n.toLowerCase();return w(e)?`${e}/${r}.svg`:`${e}/icon-${r}.png`}function T({symbol:e,chainId:n,imageUrl:r,size:i="md",className:l}){const[h,f]=o.useState(!1),[a,u]=o.useState(0),y=k();o.useEffect(()=>{f(!1),u(0)},[e,n,r]);const s=e.toUpperCase(),I=s.charAt(0);if(r&&!h)return t.jsx("div",{className:d("flex shrink-0 items-center justify-center overflow-hidden rounded-full",m[i],l),"aria-label":s,children:t.jsx("img",{src:r,alt:s,className:"size-full object-cover",onError:()=>f(!0)})});const c=n?y?.getTokenIconBases(n)??[]:[],p=c[a],g=p?b(p,e):void 0;return g&&a>=0&&a<c.length?t.jsx("div",{className:d("flex shrink-0 items-center justify-center overflow-hidden rounded-full",m[i],l),"aria-label":s,children:t.jsx("img",{src:g,alt:s,className:"size-full object-cover",onError:()=>{a<c.length-1?u(a+1):u(-1)}})}):t.jsx("div",{className:d("flex shrink-0 items-center justify-center overflow-hidden rounded-full","bg-muted font-bold text-muted-foreground",m[i],l),"aria-label":s,children:I})}function j({symbol:e,chainId:n,imageUrl:r,className:i}){return t.jsxs("span",{className:d("inline-flex items-center gap-1 rounded-full px-2 py-0.5 ps-0.5 text-xs font-medium","bg-muted text-muted-foreground",i),children:[t.jsx(T,{symbol:e,chainId:n,imageUrl:r,size:"sm",className:"size-4"}),e.toUpperCase()]})}v.__docgenInfo={description:"TokenIcon Provider - 可选，用于自动解析 token 图标",methods:[],displayName:"TokenIconProvider",props:{getTokenIconBases:{required:!0,tsType:{name:"signature",type:"function",raw:"(chainId: string) => string[]",signature:{arguments:[{type:{name:"string"},name:"chainId"}],return:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};T.__docgenInfo={description:`Token 图标组件

加载优先级：
1. imageUrl prop（手动指定）
2. TokenIconProvider + chainId（多层 fallback）
3. 首字母 fallback

@example
// 手动指定图标
<TokenIcon symbol="BFM" imageUrl="/path/to/icon.svg" />

// 自动从 Provider 获取（需要 chainId）
<TokenIcon symbol="BFM" chainId="bfmeta" />

// 仅显示首字母
<TokenIcon symbol="UNKNOWN" />`,methods:[],displayName:"TokenIcon",props:{symbol:{required:!0,tsType:{name:"string"},description:"Token symbol (如 ETH, BFM, USDT)"},chainId:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"所属链 ID（用于从 Provider 获取图标）"},imageUrl:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:"图标 URL（最高优先级，覆盖所有 fallback）"},size:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md' | 'lg' | undefined",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"undefined"}]},description:"",defaultValue:{value:"'md'",computed:!1}},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};j.__docgenInfo={description:"",methods:[],displayName:"TokenBadge",props:{symbol:{required:!0,tsType:{name:"string"},description:""},chainId:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},imageUrl:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:""},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};export{T,v as a,j as b};
