import{r as v,j as g}from"./iframe-Cctxta_P.js";import{c as S}from"./utils-CDN07tui.js";import{u as R,c as T}from"./hologram-canvas-B-4TSu35.js";const b=(e,n,a)=>Math.max(n,Math.min(a,e));function z(e){const n=e%360;return n<0?n+360:n}function x(e){const n=b(e,0,1);return n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055}function f(e,n,a){const i=z(a)*Math.PI/180,c=n*Math.cos(i),d=n*Math.sin(i),s=e+.3963377774*c+.2158037573*d,o=e-.1055613458*c-.0638541728*d,t=e-.0894841775*c-1.291485548*d,r=s*s*s,u=o*o*o,l=t*t*t,m=4.0767416621*r-3.3077115913*u+.2309699292*l,h=-1.2684380046*r+2.6097574011*u-.3413193965*l,p=-.0041960863*r-.7034186147*u+1.707614701*l,M=b(Math.round(x(m)*255),0,255),k=b(Math.round(x(h)*255),0,255),y=b(Math.round(x(p)*255),0,255);return`rgb(${M}, ${k}, ${y})`}function I(e){return{themeHue:e,c0:f(.5,.2,e),c1:f(.4,.22,e+20),c2:f(.3,.18,e+40)}}const w=5,$=3,N={xs:{width:20,height:12,radius:"rounded-[2px]",iconSize:10},sm:{width:32,height:20,radius:"rounded-[3px]",iconSize:16},md:{width:44,height:28,radius:"rounded-[4px]",iconSize:22}};function P(e,n){const a=e/w,i=n/$;let c="";for(let s=0;s<$;s++)for(let o=0;o<w;o++){const t=o*a,r=s*i;c+=`<path d="M${t},${r+i} L${t+a},${r+i} L${t+a},${r} Z" fill="rgba(255,255,255,0.15)"/>`}const d=`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${n}" viewBox="0 0 ${e} ${n}">${c}</svg>`;return`url("data:image/svg+xml,${encodeURIComponent(d)}")`}const _=[T(.9)];function E({themeHue:e,size:n="sm",showPattern:a=!0,watermarkIconUrl:i,className:c}){const{c0:d,c1:s,c2:o}=v.useMemo(()=>I(e),[e]),{width:t,height:r,radius:u,iconSize:l}=N[n],m=v.useMemo(()=>a?P(t,r):null,[a,t,r]),h=typeof window<"u"?Math.min(3,window.devicePixelRatio||1):2,p=R(i,{size:Math.round(l*h),invert:!1,contrast:1.8,targetBrightness:.85,pipeline:_});return g.jsxs("div",{className:S("relative shrink-0 overflow-hidden",u,c),style:{width:t,height:r,background:`linear-gradient(135deg, ${d} 0%, ${s} 50%, ${o} 100%)`,boxShadow:`
          inset 0 0.5px 0.5px rgba(255,255,255,0.3),
          inset 0 -0.5px 0.5px rgba(0,0,0,0.15),
          0 1px 3px rgba(0,0,0,0.2)
        `,border:"0.5px solid rgba(255,255,255,0.2)"},role:"img","aria-label":"wallet card",children:[m&&g.jsx("div",{className:"pointer-events-none absolute inset-0",style:{backgroundImage:m,backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",mixBlendMode:"overlay"},"data-testid":"pattern-layer","aria-hidden":"true"}),p&&g.jsx("div",{className:"pointer-events-none absolute inset-0",style:{backgroundImage:`url(${p})`,backgroundSize:`${l}px`,backgroundRepeat:"no-repeat",backgroundPosition:"center"},"data-testid":"watermark-layer","aria-hidden":"true"}),g.jsx("div",{className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%)"},"aria-hidden":"true"})]})}E.__docgenInfo={description:"",methods:[],displayName:"WalletMiniCard",props:{themeHue:{required:!0,tsType:{name:"number"},description:""},size:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md'",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"}]},description:"",defaultValue:{value:"'sm'",computed:!1}},showPattern:{required:!1,tsType:{name:"boolean"},description:"是否显示三角形纹理",defaultValue:{value:"true",computed:!1}},watermarkIconUrl:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"水印图标 URL（居中显示，彩虹渐变）"},className:{required:!1,tsType:{name:"string"},description:""}}};export{E as W};
