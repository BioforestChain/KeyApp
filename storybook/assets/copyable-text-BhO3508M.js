import{j as t,r as d}from"./iframe-g2b0m8DI.js";import{c as u}from"./utils-CDN07tui.js";import{I as h}from"./IconAlertCircle-CUQDCVam.js";import{I as y}from"./IconAlertTriangle-BX3363qR.js";import{I as x}from"./IconCircleCheck-WR4e0BUZ.js";import{I as v}from"./IconInfoCircle-Ds2ezTBJ.js";import{B as b}from"./button-CkH5a8bp.js";import{c as N,I as T}from"./web-wmJrEV3C.js";import{u as C}from"./useTranslation-Cu2h0njW.js";import{I as E}from"./IconCheck-C48_yMgZ.js";import{I as j}from"./IconX-Dho8Gi5m.js";function k({label:o,hint:e,error:n,required:s,children:r,className:a}){return t.jsxs("div",{className:u("space-y-2",a),children:[o&&t.jsxs("label",{className:"text-sm font-medium",children:[o,s&&t.jsx("span",{className:"ml-1 text-destructive",children:"*"})]}),r,e&&!n&&t.jsx("p",{className:"text-xs text-muted-foreground",children:e}),n&&t.jsx("p",{className:"-mt-0.5 text-xs text-destructive",children:n})]})}k.__docgenInfo={description:"",methods:[],displayName:"FormField",props:{label:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"字段标签"},hint:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"帮助文本"},error:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"错误信息"},required:{required:!1,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:"是否必填"},children:{required:!0,tsType:{name:"ReactNode"},description:"子元素 (input, select 等)"},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"自定义类名"}}};const I={info:{icon:v,styles:"bg-info/10 text-info"},success:{icon:x,styles:"bg-success/10 text-success"},warning:{icon:y,styles:"bg-warning/10 text-warning"},error:{icon:h,styles:"bg-destructive/10 text-destructive"}};function q({variant:o="info",title:e,children:n,className:s}){const{icon:r,styles:a}=I[o];return t.jsxs("div",{role:"alert",className:u("flex gap-3 rounded-lg p-3 text-sm",a,s),children:[t.jsx(r,{className:"mt-0.5 size-4 shrink-0"}),t.jsxs("div",{className:"flex-1",children:[e&&t.jsx("p",{className:"font-medium",children:e}),t.jsx("div",{className:e?"mt-1":"",children:n})]})]})}q.__docgenInfo={description:"",methods:[],displayName:"Alert",props:{variant:{required:!1,tsType:{name:"union",raw:"'info' | 'success' | 'warning' | 'error'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'success'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'error'"}]},description:"",defaultValue:{value:"'info'",computed:!1}},title:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};function w({total:o,current:e,className:n}){return t.jsx("div",{className:u("flex gap-1.5",n),children:Array.from({length:o}).map((s,r)=>{const a=r===o-1,i=r<e;return t.jsx("div",{className:u("h-1 flex-1 rounded-full transition-all",a&&i&&"animate-rainbow-flow",!a&&i&&"bg-primary",!a&&!i&&"bg-muted"),style:a?{background:i?"linear-gradient(90deg, oklch(0.7 0.2 0), oklch(0.7 0.2 72), oklch(0.7 0.2 144), oklch(0.7 0.2 216), oklch(0.7 0.2 288), oklch(0.7 0.2 360))":"linear-gradient(90deg, oklch(0.75 0.1 0), oklch(0.75 0.1 72), oklch(0.75 0.1 144), oklch(0.75 0.1 216), oklch(0.75 0.1 288), oklch(0.75 0.1 360))",backgroundSize:i?"200% 100%":"100% 100%",opacity:i?1:.6}:void 0},r)})})}w.__docgenInfo={description:"",methods:[],displayName:"ProgressSteps",props:{total:{required:!0,tsType:{name:"number"},description:""},current:{required:!0,tsType:{name:"number"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const B=d.createContext(null),m={didCatch:!1,error:null};let S=class extends d.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=m}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,s,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];(n=(s=this.props).onReset)===null||n===void 0||n.call(s,{args:a,reason:"imperative-api"}),this.setState(m)}}componentDidCatch(e,n){var s,r;(s=(r=this.props).onError)===null||s===void 0||s.call(r,e,n)}componentDidUpdate(e,n){const{didCatch:s}=this.state,{resetKeys:r}=this.props;if(s&&n.error!==null&&A(e.resetKeys,r)){var a,i;(a=(i=this.props).onReset)===null||a===void 0||a.call(i,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(m)}}render(){const{children:e,fallbackRender:n,FallbackComponent:s,fallback:r}=this.props,{didCatch:a,error:i}=this.state;let c=e;if(a){const l={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")c=n(l);else if(s)c=d.createElement(s,l);else if(r!==void 0)c=r;else throw i}return d.createElement(B.Provider,{value:{didCatch:a,error:i,resetErrorBoundary:this.resetErrorBoundary}},c)}};function A(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return o.length!==e.length||o.some((n,s)=>!Object.is(n,e[s]))}function F({error:o,resetErrorBoundary:e}){return t.jsxs("div",{className:"flex min-h-[200px] flex-col items-center justify-center gap-4 p-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-destructive",children:"Something went wrong"}),t.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:o.message||"An unexpected error occurred"})]}),t.jsx(b,{variant:"outline",onClick:e,children:"Try again"})]})}function R({children:o,fallback:e,onError:n}){return t.jsx(S,{FallbackComponent:e?()=>t.jsx(t.Fragment,{children:e}):F,onError:(s,r)=>{console.error("ErrorBoundary caught an error:",s,r),n?.(s,r)},children:o})}R.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},fallback:{required:!1,tsType:{name:"ReactNode"},description:""},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(error: Error, info: React.ErrorInfo) => void",signature:{arguments:[{type:{name:"Error"},name:"error"},{type:{name:"ReactErrorInfo",raw:"React.ErrorInfo"},name:"info"}],return:{name:"void"}}},description:""}}};function z({text:o,displayText:e,className:n,iconClassName:s,onCopy:r,testId:a}){const{t:i}=C("common"),[c,l]=d.useState("idle"),p=d.useCallback(async()=>{try{await N.write({text:o}),l("copied"),r?.(),setTimeout(()=>l("idle"),2e3)}catch{l("failed"),setTimeout(()=>l("idle"),2e3)}},[o,r]),f=c==="copied"?E:c==="failed"?j:T,g=c==="copied"?"text-green-500":c==="failed"?"text-red-500":"text-muted-foreground";return t.jsxs("button",{type:"button",onClick:p,...a&&{"data-testid":a},className:u("inline-flex items-center gap-1.5 font-mono transition-colors","hover:text-primary focus-visible:ring-ring rounded focus:outline-none focus-visible:ring-2",n),title:o,"aria-label":i(c==="copied"?"copiedToClipboard":"clickToCopy"),children:[t.jsx("span",{className:"break-all",children:e??o}),t.jsx(f,{className:u("size-4 shrink-0",g,s),"aria-hidden":"true"}),t.jsx("span",{role:"status","aria-live":"polite",className:"sr-only",children:c==="copied"?i("copiedToClipboard"):""})]})}z.__docgenInfo={description:"",methods:[],displayName:"CopyableText",props:{text:{required:!0,tsType:{name:"string"},description:""},displayText:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},iconClassName:{required:!1,tsType:{name:"string"},description:""},onCopy:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},testId:{required:!1,tsType:{name:"string"},description:""}}};export{q as A,z as C,R as E,k as F,w as P};
