import{r as a,j as c}from"./iframe-DDIM8zrC.js";import{c as O}from"./utils-4perknFd.js";import{B as G}from"./button-DiXbBXrQ.js";import{I as L}from"./IconX-RUI1FtvX.js";import{f as F,u as D,a as X,d as Y}from"./useRenderElement-Dd9A4p6M.js";import{t as V,p as U,C as j,a as $,d as A,e as J,f as Q,I as Z,i as ee,h as te,j as oe,k as ne,l as se,m as ae,n as K,R as re,P as ie,c as I,o as le,q as de,r as ce}from"./composite-6FqvPWdU.js";import{c as W,b as ue,a as _,i as pe}from"./useBaseUiId-amthYDtt.js";import{u as ge,a as fe,b as me,c as he,p as Se,d as Ce,e as xe}from"./useRole-BOfFMoAv.js";import{u as q}from"./useButton-aGui-FA9.js";const z=a.createContext(void 0);function y(e){const t=a.useContext(z);if(e===!1&&t===void 0)throw new Error(F(27));return t}const be={...U,...V},Re=a.forwardRef(function(t,n){const{render:u,className:r,forceRender:s=!1,...d}=t,{store:i}=y(),o=i.useState("open"),g=i.useState("nested"),m=i.useState("mounted"),f=i.useState("transitionStatus"),p=a.useMemo(()=>({open:o,transitionStatus:f}),[o,f]);return D("div",t,{state:p,ref:[i.context.backdropRef,n],stateAttributesMapping:be,props:[{role:"presentation",hidden:!m,style:{userSelect:"none",WebkitUserSelect:"none"}},d],enabled:s||!g})}),Ie=a.forwardRef(function(t,n){const{render:u,className:r,disabled:s=!1,nativeButton:d=!0,...i}=t,{store:o}=y(),g=o.useState("open");function m(l){g&&o.setOpen(!1,W(ue,l.nativeEvent))}const{getButtonProps:f,buttonRef:p}=q({disabled:s,native:d}),h=a.useMemo(()=>({disabled:s}),[s]);return D("button",t,{state:h,ref:[n,p],props:[{onClick:m},i,f]})}),ye=a.forwardRef(function(t,n){const{render:u,className:r,id:s,...d}=t,{store:i}=y(),o=_(s);return i.useSyncedValueWithCleanup("descriptionElementId",o),D("p",t,{ref:n,props:[{id:o},d]})});let ve=(function(e){return e.nestedDialogs="--nested-dialogs",e})({}),Pe=(function(e){return e[e.open=j.open]="open",e[e.closed=j.closed]="closed",e[e.startingStyle=j.startingStyle]="startingStyle",e[e.endingStyle=j.endingStyle]="endingStyle",e.nested="data-nested",e.nestedDialogOpen="data-nested-dialog-open",e})({});const H=a.createContext(void 0);function Ee(){const e=a.useContext(H);if(e===void 0)throw new Error(F(26));return e}const Te={...U,...V,nestedDialogOpen(e){return e?{[Pe.nestedDialogOpen]:""}:null}},Oe=a.forwardRef(function(t,n){const{className:u,finalFocus:r,initialFocus:s,render:d,...i}=t,{store:o}=y(),g=o.useState("descriptionElementId"),m=o.useState("disablePointerDismissal"),f=o.useState("floatingRootContext"),p=o.useState("popupProps"),h=o.useState("modal"),l=o.useState("mounted"),S=o.useState("nested"),x=o.useState("nestedOpenDialogCount"),b=o.useState("open"),k=o.useState("openMethod"),N=o.useState("titleElementId"),v=o.useState("transitionStatus"),P=o.useState("role");Ee(),$({open:b,ref:o.context.popupRef,onComplete(){b&&o.context.onOpenChangeComplete?.(!0)}});function E(R){return R==="touch"?o.context.popupRef.current:!0}const w=s===void 0?E:s,T=x>0,B=a.useMemo(()=>({open:b,nested:S,transitionStatus:v,nestedDialogOpen:T}),[b,S,v,T]),C=D("div",t,{state:B,props:[p,{"aria-labelledby":N??void 0,"aria-describedby":g??void 0,role:P,tabIndex:-1,hidden:!l,onKeyDown(R){A.has(R.key)&&R.stopPropagation()},style:{[ve.nestedDialogs]:x}},i],ref:[n,o.context.popupRef,o.useStateSetter("popupElement")],stateAttributesMapping:Te});return c.jsx(J,{context:f,openInteractionType:k,disabled:!l,closeOnFocusOut:!m,initialFocus:w,returnFocus:r,modal:h!==!1,restoreFocus:"popup",children:C})}),De=a.forwardRef(function(t,n){const{keepMounted:u=!1,...r}=t,{store:s}=y(),d=s.useState("mounted"),i=s.useState("modal");return d||u?c.jsx(H.Provider,{value:u,children:c.jsxs(Q,{ref:n,...r,children:[d&&i===!0&&c.jsx(Z,{ref:s.context.internalBackdropRef,inert:ee(!open)}),t.children]})}):null});function ke(e){const{store:t,parentContext:n,actionsRef:u}=e,r=t.useState("open"),s=t.useState("disablePointerDismissal"),d=t.useState("modal"),i=t.useState("popupElement"),{openMethod:o,triggerProps:g,reset:m}=te(r);ge(t);const{forceUnmount:f}=fe(r,t,()=>{m()}),p=X(C=>{const R=W(C);return R.preventUnmountOnClose=()=>{t.set("preventUnmountingOnClose",!0)},R}),h=a.useCallback(()=>{t.setOpen(!1,p(pe))},[t,p]);a.useImperativeHandle(u,()=>({unmount:f,close:h}),[f,h]);const l=me({popupStore:t,onOpenChange:t.setOpen,treatPopupAsFloatingElement:!0,noEmit:!0}),[S,x]=a.useState(0),b=S===0,k=he(l),N=oe(l,{outsidePressEvent(){return t.context.internalBackdropRef.current||t.context.backdropRef.current?"intentional":{mouse:d==="trap-focus"?"sloppy":"intentional",touch:"sloppy"}},outsidePress(C){if("button"in C&&C.button!==0||"touches"in C&&C.touches.length!==1)return!1;const R=ne(C);if(b&&!s){const M=R;return d&&(t.context.internalBackdropRef.current||t.context.backdropRef.current)?t.context.internalBackdropRef.current===M||t.context.backdropRef.current===M||se(M,i)&&!M?.hasAttribute("data-base-ui-portal"):!0}return!1},escapeKey:b});ae(r&&d===!0,i);const{getReferenceProps:v,getFloatingProps:P,getTriggerProps:E}=K([k,N]);t.useContextCallback("onNestedDialogOpen",C=>{x(C+1)}),t.useContextCallback("onNestedDialogClose",()=>{x(0)}),a.useEffect(()=>(n?.onNestedDialogOpen&&r&&n.onNestedDialogOpen(S),n?.onNestedDialogClose&&!r&&n.onNestedDialogClose(),()=>{n?.onNestedDialogClose&&r&&n.onNestedDialogClose()}),[r,n,S]);const w=a.useMemo(()=>v(g),[v,g]),T=a.useMemo(()=>E(g),[E,g]),B=a.useMemo(()=>P(),[P]);t.useSyncedValues({openMethod:o,activeTriggerProps:w,inactiveTriggerProps:T,popupProps:B,floatingRootContext:l,nestedOpenDialogCount:S})}const Ne={...Se,modal:I(e=>e.modal),nested:I(e=>e.nested),nestedOpenDialogCount:I(e=>e.nestedOpenDialogCount),disablePointerDismissal:I(e=>e.disablePointerDismissal),openMethod:I(e=>e.openMethod),descriptionElementId:I(e=>e.descriptionElementId),titleElementId:I(e=>e.titleElementId),viewportElement:I(e=>e.viewportElement),role:I(e=>e.role)};class we extends re{constructor(t){super(Me(t),{popupRef:a.createRef(),backdropRef:a.createRef(),internalBackdropRef:a.createRef(),triggerElements:new ie,onOpenChange:void 0,onOpenChangeComplete:void 0},Ne)}setOpen=(t,n)=>{if(n.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},!t&&n.trigger==null&&this.state.activeTriggerId!=null&&(n.trigger=this.state.activeTriggerElement??void 0),this.context.onOpenChange?.(t,n),n.isCanceled)return;const u={open:t,nativeEvent:n.event,reason:n.reason,nested:this.state.nested};this.state.floatingRootContext.context.events?.emit("openchange",u);const r={open:t},s=n.trigger?.id??null;(s||t)&&(r.activeTriggerId=s,r.activeTriggerElement=n.trigger??null),this.update(r)}}function Me(e={}){return{...Ce(),modal:!0,disablePointerDismissal:!1,popupElement:null,viewportElement:null,descriptionElementId:void 0,titleElementId:void 0,openMethod:null,nested:!1,nestedOpenDialogCount:0,role:"dialog",...e}}function je(e){const{children:t,open:n,defaultOpen:u=!1,onOpenChange:r,onOpenChangeComplete:s,disablePointerDismissal:d=!1,modal:i=!0,actionsRef:o,handle:g,triggerId:m,defaultTriggerId:f=null}=e,p=y(!0),h=!!p,l=Y(()=>g?.store??new we({open:n??u,activeTriggerId:m!==void 0?m:f,modal:i,disablePointerDismissal:d,nested:h})).current;l.useControlledProp("open",n,u),l.useControlledProp("activeTriggerId",m,f),l.useSyncedValues({disablePointerDismissal:d,nested:h,modal:i}),l.useContextCallback("onOpenChange",r),l.useContextCallback("onOpenChangeComplete",s);const S=l.useState("payload");ke({store:l,actionsRef:o,parentContext:p?.store.context});const x=a.useMemo(()=>({store:l}),[l]);return c.jsx(z.Provider,{value:x,children:typeof t=="function"?t({payload:S}):t})}const Be=a.forwardRef(function(t,n){const{render:u,className:r,id:s,...d}=t,{store:i}=y(),o=_(s);return i.useSyncedValueWithCleanup("titleElementId",o),D("h2",t,{ref:n,props:[{id:o},d]})}),Fe=a.forwardRef(function(t,n){const{render:u,className:r,disabled:s=!1,nativeButton:d=!0,id:i,payload:o,handle:g,...m}=t,f=y(!0),p=g?.store??f?.store;if(!p)throw new Error(F(79));const h=_(i),l=p.useState("floatingRootContext"),S=p.useState("isOpenedByTrigger",h),x=a.useRef(null),{registerTrigger:b,isMountedByThisTrigger:k}=xe(h,x,p,{payload:o}),{getButtonProps:N,buttonRef:v}=q({disabled:s,native:d}),P=le(l,{enabled:l!=null}),E=K([P]),w=a.useMemo(()=>({disabled:s,open:S}),[s,S]),T=p.useState("triggerProps",k);return D("button",t,{state:w,ref:[v,n,b,x],props:[E.getReferenceProps(),T,{[ce]:"",id:h},m,N],stateAttributesMapping:de})});function _e({...e}){return c.jsx(je,{"data-slot":"sheet",...e})}function Ve({...e}){return c.jsx(Fe,{"data-slot":"sheet-trigger",...e})}function Ue({...e}){return c.jsx(De,{"data-slot":"sheet-portal",...e})}function Ke({className:e,...t}){return c.jsx(Re,{"data-slot":"sheet-overlay",className:O("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/10 duration-100 data-ending-style:opacity-0 data-starting-style:opacity-0 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 z-50",e),...t})}function We({className:e,children:t,side:n="right",showCloseButton:u=!0,...r}){return c.jsxs(Ue,{children:[c.jsx(Ke,{}),c.jsxs(Oe,{"data-slot":"sheet-content","data-side":n,className:O("bg-background data-open:animate-in data-closed:animate-out data-[side=right]:data-closed:slide-out-to-right-10 data-[side=right]:data-open:slide-in-from-right-10 data-[side=left]:data-closed:slide-out-to-left-10 data-[side=left]:data-open:slide-in-from-left-10 data-[side=top]:data-closed:slide-out-to-top-10 data-[side=top]:data-open:slide-in-from-top-10 data-closed:fade-out-0 data-open:fade-in-0 data-[side=bottom]:data-closed:slide-out-to-bottom-10 data-[side=bottom]:data-open:slide-in-from-bottom-10 fixed z-50 flex flex-col gap-4 bg-clip-padding text-sm shadow-lg transition duration-200 ease-in-out data-[side=bottom]:inset-x-0 data-[side=bottom]:bottom-0 data-[side=bottom]:h-auto data-[side=bottom]:border-t data-[side=left]:inset-y-0 data-[side=left]:left-0 data-[side=left]:h-full data-[side=left]:w-3/4 data-[side=left]:border-r data-[side=right]:inset-y-0 data-[side=right]:right-0 data-[side=right]:h-full data-[side=right]:w-3/4 data-[side=right]:border-l data-[side=top]:inset-x-0 data-[side=top]:top-0 data-[side=top]:h-auto data-[side=top]:border-b data-[side=left]:sm:max-w-sm data-[side=right]:sm:max-w-sm",e),...r,children:[t,u&&c.jsxs(Ie,{"data-slot":"sheet-close",render:c.jsx(G,{variant:"ghost",className:"absolute top-3 right-3",size:"icon-sm"}),children:[c.jsx(L,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function qe({className:e,...t}){return c.jsx("div",{"data-slot":"sheet-header",className:O("gap-0.5 p-4 flex flex-col",e),...t})}function ze({className:e,...t}){return c.jsx("div",{"data-slot":"sheet-footer",className:O("gap-2 p-4 mt-auto flex flex-col",e),...t})}function He({className:e,...t}){return c.jsx(Be,{"data-slot":"sheet-title",className:O("text-foreground text-base font-medium",e),...t})}function Ge({className:e,...t}){return c.jsx(ye,{"data-slot":"sheet-description",className:O("text-muted-foreground text-sm",e),...t})}_e.__docgenInfo={description:"",methods:[],displayName:"Sheet"};Ve.__docgenInfo={description:"",methods:[],displayName:"SheetTrigger"};We.__docgenInfo={description:"",methods:[],displayName:"SheetContent",props:{side:{required:!1,tsType:{name:"union",raw:'"top" | "right" | "bottom" | "left"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"right"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'}]},description:"",defaultValue:{value:'"right"',computed:!1}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};qe.__docgenInfo={description:"",methods:[],displayName:"SheetHeader"};ze.__docgenInfo={description:"",methods:[],displayName:"SheetFooter"};He.__docgenInfo={description:"",methods:[],displayName:"SheetTitle"};Ge.__docgenInfo={description:"",methods:[],displayName:"SheetDescription"};export{z as D,_e as S,We as a,qe as b,He as c,Ge as d,ze as e,ke as f,we as g,Oe as h,Be as i,ye as j,Ie as k,De as l,Re as m,Ve as n,y as u};
