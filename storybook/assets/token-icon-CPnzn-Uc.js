import{r as s,j as t}from"./iframe-BCrNjImN.js";import{c as d}from"./utils-4perknFd.js";const T=s.createContext(null);function h({getTokenIconBases:n,children:e}){return t.jsx(T.Provider,{value:{getTokenIconBases:n},children:e})}function w(){return s.useContext(T)}const q={xs:"aspect-square w-4 text-[8px]",sm:"aspect-square w-6 text-[10px]",md:"aspect-square w-8 text-xs",lg:"aspect-square w-10 @xs:w-12 text-sm"};function N(n,e){return n.replace(/\$SYMBOL/g,e.toUpperCase()).replace(/\$symbol/g,e.toLowerCase())}function y({symbol:n,chainId:e,imageUrl:r,size:l="md",className:I}){const[c,u]=s.useState(!1),[k,p]=s.useState(!1),[a,f]=s.useState(0),g=w();s.useEffect(()=>{u(!1),p(!1),f(0)},[n,e,r]);const m=n.toUpperCase(),v=m.charAt(0);let i=r??void 0;if(!i&&e){const o=g?.getTokenIconBases(e)??[],x=o[a];x&&a>=0&&a<o.length&&(i=N(x,n))}const b=()=>{if(e&&!r){const o=g?.getTokenIconBases(e)??[];if(a<o.length-1){f(a+1),u(!1);return}}p(!0)};return t.jsxs("div",{className:d("relative flex shrink-0 items-center justify-center overflow-hidden rounded-full",q[l],I),"aria-label":m,children:[t.jsx("span",{className:d("flex size-full items-center justify-center bg-muted font-bold text-muted-foreground transition-opacity",c&&"opacity-0"),children:v}),i&&!k&&t.jsx("img",{src:i,alt:m,className:d("absolute inset-0 size-full object-cover transition-opacity",c?"opacity-100":"opacity-0"),onLoad:()=>u(!0),onError:b})]})}function B({symbol:n,chainId:e,imageUrl:r,className:l}){return t.jsxs("span",{className:d("inline-flex items-center gap-1 rounded-full px-2 py-0.5 ps-0.5 text-xs font-medium","bg-muted text-muted-foreground",l),children:[t.jsx(y,{symbol:n,chainId:e,imageUrl:r,size:"sm",className:"size-4"}),n.toUpperCase()]})}h.__docgenInfo={description:"TokenIcon Provider - 可选，用于自动解析 token 图标",methods:[],displayName:"TokenIconProvider",props:{getTokenIconBases:{required:!0,tsType:{name:"signature",type:"function",raw:"(chainId: string) => string[]",signature:{arguments:[{type:{name:"string"},name:"chainId"}],return:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};y.__docgenInfo={description:`Token 图标组件

加载策略：首字母常驻 + 图片叠加
- 首字母始终渲染作为底层
- 图片加载成功后叠加显示，隐藏首字母
- 避免加载过程中的闪烁

@example
// 手动指定图标
<TokenIcon symbol="BFM" imageUrl="/path/to/icon.svg" />

// 自动从 Provider 获取（需要 chainId，仅 BioForest 链）
<TokenIcon symbol="BFM" chainId="bfmeta" />

// 仅显示首字母
<TokenIcon symbol="UNKNOWN" />`,methods:[],displayName:"TokenIcon",props:{symbol:{required:!0,tsType:{name:"string"},description:"Token symbol (如 ETH, BFM, USDT)"},chainId:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"所属链 ID（用于从 Provider 获取图标）"},imageUrl:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:"图标 URL（最高优先级，覆盖所有 fallback）"},size:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md' | 'lg' | undefined",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"undefined"}]},description:"",defaultValue:{value:"'md'",computed:!1}},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};B.__docgenInfo={description:"",methods:[],displayName:"TokenBadge",props:{symbol:{required:!0,tsType:{name:"string"},description:""},chainId:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},imageUrl:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:""},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};export{y as T,h as a,B as b};
