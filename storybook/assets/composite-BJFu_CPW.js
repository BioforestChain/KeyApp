import{r as f,z as kn,j as X}from"./iframe-QVsCtZB2.js";import{d as tt,b as Y,f as An,A as Wt,a as L,N as _t,i as de,B as Pn,v as jt,E as qt,C as Mn,u as Ln,z as St,j as nt,l as Bt,e as me,q as it,p as Nn,g as ct,n as Fn,w as Yt}from"./useRenderElement-D2oz4MdE.js";import{u as $t,c as re,f as Kt,g as Dn,o as Ht,d as Ae,e as Vn,n as Wn}from"./useBaseUiId-Bi6BAp26.js";import{r as Ge}from"./index-yRmMD5Lz.js";import{s as _n}from"./index-du3QcUno.js";const Gt={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1};function ke(e){const t=tt(jn,e).current;return t.next=e,Y(t.effect),t}function jn(e){const t={current:e,next:e,effect:()=>{t.current=t.next}};return t}var ze=Symbol("NOT_FOUND");function qn(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Bn(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Yn(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Rt=e=>Array.isArray(e)?e:[e];function $n(e){const t=Array.isArray(e[0])?e[0]:e;return Yn(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Kn(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}function Hn(e){let t;return{get(n){return t&&e(t.key,n)?t.value:ze},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Gn(e,t){let n=[];function r(a){const l=n.findIndex(c=>t(a,c.key));if(l>-1){const c=n[l];return l>0&&(n.splice(l,1),n.unshift(c)),c.value}return ze}function s(a,l){r(a)===ze&&(n.unshift({key:a,value:l}),n.length>e&&n.pop())}function o(){return n}function i(){n=[]}return{get:r,put:s,getEntries:o,clear:i}}var zn=(e,t)=>e===t;function Un(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:s}=n;for(let o=0;o<s;o++)if(!e(n[o],r[o]))return!1;return!0}}function Xn(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=zn,maxSize:s=1,resultEqualityCheck:o}=n,i=Un(r);let a=0;const l=s<=1?Hn(i):Gn(s,i);function c(){let p=l.get(arguments);if(p===ze){if(p=e.apply(null,arguments),a++,o){const T=l.getEntries().find(d=>o(d.value,p));T&&(p=T.value,a!==0&&a--)}l.put(arguments,p)}return p}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}var Zn=class{constructor(e){this.value=e}deref(){return this.value}},Jn=typeof WeakRef<"u"?WeakRef:Zn,Qn=0,Tt=1;function qe(){return{s:Qn,v:void 0,o:null,p:null}}function zt(e,t={}){let n=qe();const{resultEqualityCheck:r}=t;let s,o=0;function i(){let a=n;const{length:l}=arguments;for(let E=0,T=l;E<T;E++){const d=arguments[E];if(typeof d=="function"||typeof d=="object"&&d!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const R=g.get(d);R===void 0?(a=qe(),g.set(d,a)):a=R}else{let g=a.p;g===null&&(a.p=g=new Map);const R=g.get(d);R===void 0?(a=qe(),g.set(d,a)):a=R}}const c=a;let p;if(a.s===Tt)p=a.v;else if(p=e.apply(null,arguments),o++,r){const E=s?.deref?.()??s;E!=null&&r(E,p)&&(p=E,o!==0&&o--),s=typeof p=="object"&&p!==null||typeof p=="function"?new Jn(p):p}return c.s=Tt,c.v=p,p}return i.clearCache=()=>{n=qe(),i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function Ut(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let o=0,i=0,a,l={},c=s.pop();typeof c=="object"&&(l=c,c=s.pop()),qn(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const p={...n,...l},{memoize:E,memoizeOptions:T=[],argsMemoize:d=zt,argsMemoizeOptions:g=[]}=p,R=Rt(T),w=Rt(g),k=$n(s),y=E(function(){return o++,c.apply(null,arguments)},...R),S=d(function(){i++;const A=Kn(k,arguments);return a=y.apply(null,A),a},...w);return Object.assign(S,{resultFunc:c,memoizedResultFunc:y,dependencies:k,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:E,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var er=Ut(zt),tr=Object.assign((e,t=er)=>{Bn(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((i,a,l)=>(i[n[l]]=a,i),{}))},{withTypes:()=>tr});Ut({memoize:Xn,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const Oe=(e,t,n,r,s,o,...i)=>{if(i.length>0)throw new Error(An(1));let a;if(e)a=e;else throw new Error("Missing arguments");return a},nr=Wt(19),rr=nr?or:ir;function sr(e,t,n,r,s){return rr(e,t,n,r,s)}function or(e,t,n,r,s){const o=f.useCallback(()=>t(e.getSnapshot(),n,r,s),[e,t,n,r,s]);return _n.useSyncExternalStore(e.subscribe,o,o)}function ir(e,t,n,r,s){return kn.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,o=>t(o,n,r,s))}class Pe{constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){if(this.state===t)return;this.state=t,this.updateTick+=1;const n=this.updateTick;for(const r of this.listeners){if(n!==this.updateTick)return;r(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){Pe.prototype.setState.call(this,{...this.state,...t});return}}set(t,n){Object.is(this.state[t],n)||Pe.prototype.setState.call(this,{...this.state,[t]:n})}notifyAll(){const t={...this.state};Pe.prototype.setState.call(this,t)}}class cr extends Pe{constructor(t,n={},r){super(t),this.context=n,this.selectors=r}controlledValues=new Map;useSyncedValue(t,n){f.useDebugValue(t),Y(()=>{this.state[t]!==n&&this.set(t,n)},[t,n])}useSyncedValueWithCleanup(t,n){Y(()=>(this.state[t]!==n&&this.set(t,n),()=>{this.set(t,void 0)}),[t,n])}useSyncedValues(t){const n=Object.values(t);Y(()=>{this.update(t)},n)}useControlledProp(t,n,r){f.useDebugValue(t);const s=n!==void 0;this.controlledValues.has(t)||(this.controlledValues.set(t,s),!s&&!Object.is(this.state[t],r)&&super.setState({...this.state,[t]:r})),Y(()=>{s&&!Object.is(this.state[t],n)&&super.setState({...this.state,[t]:n})},[t,n,r,s])}set(t,n){this.controlledValues.get(t)!==!0&&super.set(t,n)}update(t){const n={...t};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.update(n)}setState(t){const n={...t};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.setState({...this.state,...n})}select=(t,n,r,s)=>{const o=this.selectors[t];return o(this.state,n,r,s)};useState=(t,n,r,s)=>{f.useDebugValue(t);const o=this.selectors[t];return sr(this,o,n,r,s)};useContextCallback(t,n){f.useDebugValue(t);const r=L(n??_t);this.context[t]=r}useStateSetter(t){const n=f.useRef(void 0);return n.current===void 0&&(n.current=r=>{this.set(t,r)}),n.current}observe(t,n){let r;typeof t=="function"?r=t:r=this.selectors[t];let s=r(this.state);return n(s,s,this),this.subscribe(o=>{const i=r(o);if(!Object.is(s,i)){const a=s;s=i,n(i,a,this)}})}}const ar=[];function Xt(e){f.useEffect(e,ar)}const Be=null;class ur{callbacks=[];callbacksCount=0;nextId=1;startId=1;isScheduled=!1;tick=t=>{this.isScheduled=!1;const n=this.callbacks,r=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,r>0)for(let s=0;s<n.length;s+=1)n[s]?.(t)};request(t){const n=this.nextId;return this.nextId+=1,this.callbacks.push(t),this.callbacksCount+=1,!this.isScheduled&&(requestAnimationFrame(this.tick),this.isScheduled=!0),n}cancel(t){const n=t-this.startId;n<0||n>=this.callbacks.length||(this.callbacks[n]=null,this.callbacksCount-=1)}}const Ye=new ur;class te{static create(){return new te}static request(t){return Ye.request(t)}static cancel(t){return Ye.cancel(t)}currentId=Be;request(t){this.cancel(),this.currentId=Ye.request(()=>{this.currentId=Be,t()})}cancel=()=>{this.currentId!==Be&&(Ye.cancel(this.currentId),this.currentId=Be)};disposeEffect=()=>this.cancel}function mt(){const e=tt(te.create).current;return Xt(e.disposeEffect),e}const Ie=0;class Se{static create(){return new Se}currentId=Ie;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=Ie,n()},t)}isStarted(){return this.currentId!==Ie}clear=()=>{this.currentId!==Ie&&(clearTimeout(this.currentId),this.currentId=Ie)};disposeEffect=()=>this.clear}function Le(){const e=tt(Se.create).current;return Xt(e.disposeEffect),e}const Te=typeof navigator<"u",at=pr(),Zt=br(),Jt=hr(),lr=typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter:none"),fr=at.platform==="MacIntel"&&at.maxTouchPoints>1?!0:/iP(hone|ad|od)|iOS/.test(at.platform),dr=Te&&/apple/i.test(navigator.vendor),dt=Te&&/android/i.test(Zt)||/android/i.test(Jt),Ss=Te&&Zt.toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints,Qt=Jt.includes("jsdom/");function pr(){if(!Te)return{platform:"",maxTouchPoints:-1};const e=navigator.userAgentData;return e?.platform?{platform:e.platform,maxTouchPoints:navigator.maxTouchPoints}:{platform:navigator.platform??"",maxTouchPoints:navigator.maxTouchPoints??-1}}function hr(){if(!Te)return"";const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function br(){if(!Te)return"";const e=navigator.userAgentData;return e?.platform?e.platform:navigator.platform??""}const pt="data-base-ui-focusable",en="active",tn="selected",gr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",Rs="ArrowLeft",Ts="ArrowRight",ws="ArrowUp",xs="ArrowDown";function ve(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function _(e,t){if(!e||!t)return!1;const n=t.getRootNode?.();if(e.contains(t))return!0;if(n&&Pn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ne(e){return"composedPath"in e?e.composedPath()[0]:e.target}function J(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function mr(e){return e.matches("html,body")}function $(e){return e?.ownerDocument||document}function nn(e){return de(e)&&e.matches(gr)}function wt(e){return e?e.getAttribute("role")==="combobox"&&nn(e):!1}function Cs(e){if(!e||Qt)return!0;try{return e.matches(":focus-visible")}catch{return!0}}function xt(e){return e?e.hasAttribute(pt)?e:e.querySelector(`[${pt}]`)||e:null}function ye(e,t,n=!0){return e.filter(s=>s.parentId===t&&(!n||s.context?.open)).flatMap(s=>[s,...ye(e,s.id,n)])}function Ct(e,t){let n=[],r=e.find(s=>s.id===t)?.parentId;for(;r;){const s=e.find(o=>o.id===r);r=s?.parentId,s&&(n=n.concat(s))}return n}function vr(e){e.preventDefault(),e.stopPropagation()}function yr(e){return"nativeEvent"in e}function Er(e){return e.mozInputSource===0&&e.isTrusted?!0:dt&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Sr(e){return Qt?!1:!dt&&e.width===0&&e.height===0||dt&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Ot(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function rn(e){const t=e.type;return t==="click"||t==="mousedown"||t==="keydown"||t==="keyup"}var Rr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ue=Rr.join(","),sn=typeof Element>"u",Re=sn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xe=!sn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},Ne=function(t,n){var r;n===void 0&&(n=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=s===""||s==="true",i=o||n&&t&&Ne(t.parentNode);return i},Tr=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},on=function(t,n,r){if(Ne(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(Ue));return n&&Re.call(t,Ue)&&s.unshift(t),s=s.filter(r),s},Ze=function(t,n,r){for(var s=[],o=Array.from(t);o.length;){var i=o.shift();if(!Ne(i,!1))if(i.tagName==="SLOT"){var a=i.assignedElements(),l=a.length?a:i.children,c=Ze(l,!0,r);r.flatten?s.push.apply(s,c):s.push({scopeParent:i,candidates:c})}else{var p=Re.call(i,Ue);p&&r.filter(i)&&(n||!t.includes(i))&&s.push(i);var E=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),T=!Ne(E,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(E&&T){var d=Ze(E===!0?i.children:E.children,!0,r);r.flatten?s.push.apply(s,d):s.push({scopeParent:i,candidates:d})}else o.unshift.apply(o,i.children)}}return s},cn=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},an=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Tr(t))&&!cn(t)?0:t.tabIndex},wr=function(t,n){var r=an(t);return r<0&&n&&!cn(t)?0:r},xr=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},un=function(t){return t.tagName==="INPUT"},Cr=function(t){return un(t)&&t.type==="hidden"},Or=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Ir=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},kr=function(t){if(!t.name)return!0;var n=t.form||Xe(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=Ir(s,t.form);return!o||o===t},Ar=function(t){return un(t)&&t.type==="radio"},Pr=function(t){return Ar(t)&&!kr(t)},Mr=function(t){var n,r=t&&Xe(t),s=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var i,a,l;for(o=!!((i=s)!==null&&i!==void 0&&(a=i.ownerDocument)!==null&&a!==void 0&&a.contains(s)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!o&&s;){var c,p,E;r=Xe(s),s=(c=r)===null||c===void 0?void 0:c.host,o=!!((p=s)!==null&&p!==void 0&&(E=p.ownerDocument)!==null&&E!==void 0&&E.contains(s))}}return o},It=function(t){var n=t.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},Lr=function(t,n){var r=n.displayCheck,s=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in t){var o=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!o}if(getComputedStyle(t).visibility==="hidden")return!0;var i=Re.call(t,"details>summary:first-of-type"),a=i?t.parentElement:t;if(Re.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof s=="function"){for(var l=t;t;){var c=t.parentElement,p=Xe(t);if(c&&!c.shadowRoot&&s(c)===!0)return It(t);t.assignedSlot?t=t.assignedSlot:!c&&p!==t.ownerDocument?t=p.host:t=c}t=l}if(Mr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return It(t);return!1},Nr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Re.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},ht=function(t,n){return!(n.disabled||Ne(n)||Cr(n)||Lr(n,t)||Or(n)||Nr(n))},bt=function(t,n){return!(Pr(n)||an(n)<0||!ht(t,n))},Fr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ln=function(t){var n=[],r=[];return t.forEach(function(s,o){var i=!!s.scopeParent,a=i?s.scopeParent:s,l=wr(a,i),c=i?ln(s.candidates):a;l===0?i?n.push.apply(n,c):n.push(a):r.push({documentOrder:o,tabIndex:l,item:s,isScope:i,content:c})}),r.sort(xr).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(n)},Fe=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Ze([t],n.includeContainer,{filter:bt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Fr}):r=on(t,n.includeContainer,bt.bind(null,n)),ln(r)},Dr=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Ze([t],n.includeContainer,{filter:ht.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=on(t,n.includeContainer,ht.bind(null,n)),r},fn=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Re.call(t,Ue)===!1?!1:bt(n,t)};const we=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function dn(e,t){const n=Fe(e,we()),r=n.length;if(r===0)return;const s=ve($(e)),o=n.indexOf(s),i=o===-1?t===1?0:r-1:o+t;return n[i]}function pn(e){return dn($(e).body,1)||e}function hn(e){return dn($(e).body,-1)||e}function bn(e,t){if(!e)return null;const n=Fe($(e).body,we()),r=n.length;if(r===0)return null;const s=n.indexOf(e);if(s===-1)return null;const o=(s+t+r)%r;return n[o]}function Os(e){return bn(e,1)}function Is(e){return bn(e,-1)}function Me(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!_(n,r)}function Vr(e){Fe(e,we()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function kt(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function gn(){const e=new Map;return{emit(t,n){e.get(t)?.forEach(r=>r(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){e.get(t)?.delete(n)}}}class Wr{nodesRef={current:[]};events=gn();addNode(t){this.nodesRef.current.push(t)}removeNode(t){const n=this.nodesRef.current.findIndex(r=>r===t);n!==-1&&this.nodesRef.current.splice(n,1)}}const mn=f.createContext(null),vn=f.createContext(null),yn=()=>f.useContext(mn)?.id||null,vt=e=>{const t=f.useContext(vn);return e??t};function ks(e){const t=$t(),n=vt(e),r=yn();return Y(()=>{if(!t)return;const s={id:t,parentId:r};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,t,r]),t}function As(e){const{children:t,id:n}=e,r=yn();return X.jsx(mn.Provider,{value:f.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function Ps(e){const{children:t,externalTree:n}=e,r=tt(()=>n??new Wr).current;return X.jsx(vn.Provider,{value:r,children:t})}const Ms=500,Ls=500,Ns={style:{transition:"none"}},_r="data-base-ui-click-trigger",Fs={fallbackAxisSide:"none"},Ds={fallbackAxisSide:"end"},jr={clipPath:"inset(50%)",position:"fixed",top:0,left:0};function Je(e){return`data-base-ui-${e}`}function rt(e){return e?.ownerDocument||document}const Qe=f.forwardRef(function(t,n){const[r,s]=f.useState();Y(()=>{dr&&s("button")},[]);const o={tabIndex:0,role:r};return X.jsx("span",{...t,ref:n,style:Gt,"aria-hidden":r?void 0:!0,...o,"data-base-ui-focus-guard":""})});let At=0;function ut(e,t={}){const{preventScroll:n=!1,cancelPrevious:r=!0,sync:s=!1}=t;r&&cancelAnimationFrame(At);const o=()=>e?.focus({preventScroll:n});s?o():At=requestAnimationFrame(o)}const Ee={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Pt(e){return e==="inert"?Ee.inert:e==="aria-hidden"?Ee["aria-hidden"]:Ee.none}let $e=new WeakSet,Ke={},lt=0;const En=e=>e&&(e.host||En(e.parentNode)),qr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=En(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Br(e,t,n,r){const s="data-base-ui-inert",o=r?"inert":n?"aria-hidden":null,i=qr(t,e),a=new Set,l=new Set(i),c=[];Ke[s]||(Ke[s]=new WeakMap);const p=Ke[s];i.forEach(E),T(t),a.clear();function E(d){!d||a.has(d)||(a.add(d),d.parentNode&&E(d.parentNode))}function T(d){!d||l.has(d)||[].forEach.call(d.children,g=>{if(jt(g)!=="script")if(a.has(g))T(g);else{const R=o?g.getAttribute(o):null,w=R!==null&&R!=="false",k=Pt(o),y=(k.get(g)||0)+1,S=(p.get(g)||0)+1;k.set(g,y),p.set(g,S),c.push(g),y===1&&w&&$e.add(g),S===1&&g.setAttribute(s,""),!w&&o&&g.setAttribute(o,o==="inert"?"":"true")}})}return lt+=1,()=>{c.forEach(d=>{const g=Pt(o),w=(g.get(d)||0)-1,k=(p.get(d)||0)-1;g.set(d,w),p.set(d,k),w||(!$e.has(d)&&o&&d.removeAttribute(o),$e.delete(d)),k||d.removeAttribute(s)}),lt-=1,lt||(Ee.inert=new WeakMap,Ee["aria-hidden"]=new WeakMap,Ee.none=new WeakMap,$e=new WeakSet,Ke={})}}function Yr(e,t=!1,n=!1){const r=$(e[0]).body;return Br(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Sn=f.createContext(null),Rn=()=>f.useContext(Sn),$r=Je("portal");function Kr(e={}){const{ref:t,container:n,componentProps:r=qt,elementProps:s,elementState:o}=e,i=$t(),l=Rn()?.portalNode,[c,p]=f.useState(null),[E,T]=f.useState(null),d=f.useRef(null);Y(()=>{if(n===null){d.current&&(d.current=null,T(null),p(null));return}if(i==null)return;const w=(n&&(Mn(n)?n:n.current))??l??document.body;if(w==null){d.current&&(d.current=null,T(null),p(null));return}d.current!==w&&(d.current=w,T(null),p(w))},[n,l,i]);const g=Ln("div",r,{ref:[t,T],state:o,props:[{id:i,[$r]:""},s]});return{portalNode:E,portalSubtree:c&&g?Ge.createPortal(g,c):null}}const Vs=f.forwardRef(function(t,n){const{children:r,container:s,className:o,render:i,renderGuards:a,...l}=t,{portalNode:c,portalSubtree:p}=Kr({container:s,ref:n,componentProps:t,elementProps:l}),E=f.useRef(null),T=f.useRef(null),d=f.useRef(null),g=f.useRef(null),[R,w]=f.useState(null),k=R?.modal,y=R?.open,S=typeof a=="boolean"?a:!!R&&!R.modal&&R.open&&!!c;f.useEffect(()=>{if(!c||k)return;function A(N){c&&Me(N)&&(N.type==="focusin"?kt:Vr)(c)}return c.addEventListener("focusin",A,!0),c.addEventListener("focusout",A,!0),()=>{c.removeEventListener("focusin",A,!0),c.removeEventListener("focusout",A,!0)}},[c,k]),f.useEffect(()=>{!c||y||kt(c)},[y,c]);const V=f.useMemo(()=>({beforeOutsideRef:E,afterOutsideRef:T,beforeInsideRef:d,afterInsideRef:g,portalNode:c,setFocusManagerState:w}),[c]);return X.jsxs(f.Fragment,{children:[p,X.jsxs(Sn.Provider,{value:V,children:[S&&c&&X.jsx(Qe,{"data-type":"outside",ref:E,onFocus:A=>{if(Me(A,c))d.current?.focus();else{const N=R?R.domReference:null;hn(N)?.focus()}}}),S&&c&&X.jsx("span",{"aria-owns":c.id,style:jr}),c&&Ge.createPortal(r,c),S&&c&&X.jsx(Qe,{"data-type":"outside",ref:T,onFocus:A=>{if(Me(A,c))g.current?.focus();else{const N=R?R.domReference:null;pn(N)?.focus(),R?.closeOnFocusOut&&R?.onOpenChange(!1,re(Kt,A.nativeEvent))}}})]})]})});function fe(e){return e==null?e:"current"in e?e.current:e}function Hr(e,t){const n=nt(e.target);return e instanceof n.KeyboardEvent?"keyboard":e instanceof n.FocusEvent?t||"keyboard":"pointerType"in e?e.pointerType||"keyboard":"touches"in e?"touch":e instanceof n.MouseEvent?t||(e.detail===0?"keyboard":"mouse"):""}const Mt=20;let ue=[];function yt(){ue=ue.filter(e=>e.isConnected)}function Gr(e){yt(),e&&jt(e)!=="body"&&(ue.push(e),ue.length>Mt&&(ue=ue.slice(-Mt)))}function ft(){return yt(),ue[ue.length-1]}function zr(e){if(!e)return null;const t=we();return fn(e,t)?e:Fe(e,t)[0]||e}function Ur(e){return!e||!e.isConnected?!1:typeof e.checkVisibility=="function"?e.checkVisibility():Bt(e).display!=="none"}function Lt(e,t){if(!t.current.includes("floating")&&!e.getAttribute("role")?.includes("dialog"))return;const n=we(),s=Dr(e,n).filter(i=>{const a=i.getAttribute("data-tabindex")||"";return fn(i,n)||i.hasAttribute("data-tabindex")&&!a.startsWith("-")}),o=e.getAttribute("tabindex");t.current.includes("floating")||s.length===0?o!=="0"&&e.setAttribute("tabindex","0"):(o!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function Ws(e){const{context:t,children:n,disabled:r=!1,order:s=["content"],initialFocus:o=!0,returnFocus:i=!0,restoreFocus:a=!1,modal:l=!0,closeOnFocusOut:c=!0,openInteractionType:p="",getInsideElements:E=()=>[],nextFocusableElement:T,previousFocusableElement:d,beforeContentFocusGuardRef:g,externalTree:R}=e,w="rootStore"in t?t.rootStore:t,k=w.useState("open"),y=w.useState("domReferenceElement"),S=w.useState("floatingElement"),{events:V,dataRef:A}=w.context,N=L(()=>A.current.floatingContext?.nodeId),q=L(E),W=o===!1,B=wt(y)&&W,Q=ke(s),se=ke(o),ce=ke(i),xe=ke(p),K=vt(R),P=Rn(),oe=f.useRef(null),st=f.useRef(null),j=f.useRef(!1),ee=f.useRef(!1),pe=f.useRef(!1),De=f.useRef(-1),he=f.useRef(""),Z=f.useRef(""),Ve=Le(),be=Le(),We=mt(),le=P!=null,x=xt(S),z=L((b=x)=>b?Fe(b,we()):[]),ae=L(b=>{const v=z(b);return Q.current.map(()=>v).filter(Boolean).flat()});f.useEffect(()=>{if(r||!l)return;function b(F){F.key==="Tab"&&_(x,ve($(x)))&&z().length===0&&!B&&vr(F)}const v=$(x);return v.addEventListener("keydown",b),()=>{v.removeEventListener("keydown",b)}},[r,y,x,l,Q,B,z,ae]),f.useEffect(()=>{if(r||!S)return;function b(v){const F=ne(v),D=z().indexOf(F);D!==-1&&(De.current=D)}return S.addEventListener("focusin",b),()=>{S.removeEventListener("focusin",b)}},[r,S,z]),f.useEffect(()=>{if(r||!k)return;const b=$(x);function v(){pe.current=!1}function F(D){const h=ne(D),C=_(S,h)||_(y,h)||_(P?.portalNode,h);pe.current=!C,Z.current=D.pointerType||"keyboard"}function M(){Z.current="keyboard"}return b.addEventListener("pointerdown",F,!0),b.addEventListener("pointerup",v,!0),b.addEventListener("pointercancel",v,!0),b.addEventListener("keydown",M,!0),()=>{b.removeEventListener("pointerdown",F,!0),b.removeEventListener("pointerup",v,!0),b.removeEventListener("pointercancel",v,!0),b.removeEventListener("keydown",M,!0)}},[r,S,y,x,k,P]),f.useEffect(()=>{if(r||!c)return;function b(){ee.current=!0,be.start(0,()=>{ee.current=!1})}function v(h){const C=h.relatedTarget,ie=h.currentTarget,G=ne(h);queueMicrotask(()=>{const ge=N(),_e=w.context.triggerElements,ot=!(_(y,C)||_(S,C)||_(C,S)||_(P?.portalNode,C)||C!=null&&_e.hasElement(C)||_e.hasMatchingElement(U=>_(U,C))||C?.hasAttribute(Je("focus-guard"))||K&&(ye(K.nodesRef.current,ge).find(U=>_(U.context?.elements.floating,C)||_(U.context?.elements.domReference,C))||Ct(K.nodesRef.current,ge).find(U=>[U.context?.elements.floating,xt(U.context?.elements.floating)].includes(C)||U.context?.elements.domReference===C)));if(ie===y&&x&&Lt(x,Q),a&&ie!==y&&!Ur(G)&&ve($(x))===$(x).body){if(de(x)&&(x.focus(),a==="popup")){We.request(()=>{x.focus()});return}const U=De.current,Ce=z(),je=Ce[U]||Ce[Ce.length-1]||x;de(je)&&je.focus()}if(A.current.insideReactTree){A.current.insideReactTree=!1;return}(B||!l)&&C&&ot&&!ee.current&&(B||C!==ft())&&(j.current=!0,w.setOpen(!1,re(Kt,h)))})}function F(){pe.current||(A.current.insideReactTree=!0,Ve.start(0,()=>{A.current.insideReactTree=!1}))}const M=de(y)?y:null,D=[];if(!(!S&&!M))return M&&(M.addEventListener("focusout",v),M.addEventListener("pointerdown",b),D.push(()=>{M.removeEventListener("focusout",v),M.removeEventListener("pointerdown",b)})),S&&(S.addEventListener("focusout",v),P&&(S.addEventListener("focusout",F,!0),D.push(()=>{S.removeEventListener("focusout",F,!0)})),D.push(()=>{S.removeEventListener("focusout",v)})),()=>{D.forEach(h=>{h()})}},[r,y,S,x,l,K,P,w,c,a,z,B,N,Q,A,Ve,be,We]);const u=f.useRef(null),O=f.useRef(null),m=St(u,g,P?.beforeInsideRef),H=St(O,P?.afterInsideRef);f.useEffect(()=>{if(r||!S||!k)return;const b=Array.from(P?.portalNode?.querySelectorAll(`[${Je("portal")}]`)||[]),F=(K?Ct(K.nodesRef.current,N()):[]).find(h=>wt(h.context?.elements.domReference||null))?.context?.elements.domReference,M=[S,F,...b,...q(),oe.current,st.current,u.current,O.current,P?.beforeOutsideRef.current,P?.afterOutsideRef.current,fe(d),fe(T),B?y:null].filter(h=>h!=null),D=Yr(M,l||B);return()=>{D()}},[k,r,y,S,l,Q,P,B,K,N,q,T,d]),Y(()=>{if(!k||r||!de(x))return;const b=$(x),v=ve(b);queueMicrotask(()=>{const F=ae(x),M=se.current,D=typeof M=="function"?M(xe.current||""):M;if(D===void 0||D===!1)return;let h;D===!0||D===null?h=F[0]||x:h=fe(D),h=h||F[0]||x,!_(x,v)&&ut(h,{preventScroll:h===x})})},[r,k,x,W,ae,se,xe]),Y(()=>{if(r||!x)return;const b=$(x),v=ve(b);Gr(v);function F(h){if(h.open||(he.current=Hr(h.nativeEvent,Z.current)),h.reason===Dn&&h.nativeEvent.type==="mouseleave"&&(j.current=!0),h.reason===Ht)if(h.nested)j.current=!1;else if(Er(h.nativeEvent)||Sr(h.nativeEvent))j.current=!1;else{let C=!1;document.createElement("div").focus({get preventScroll(){return C=!0,!1}}),C?j.current=!1:j.current=!0}}V.on("openchange",F);const M=b.createElement("span");M.setAttribute("tabindex","-1"),M.setAttribute("aria-hidden","true"),Object.assign(M.style,Gt),le&&y&&y.insertAdjacentElement("afterend",M);function D(){const h=ce.current;let C=typeof h=="function"?h(he.current):h;if(C===void 0||C===!1)return null;if(C===null&&(C=!0),typeof C=="boolean"){const G=y||ft();return G&&G.isConnected?G:M}const ie=y||ft()||M;return fe(C)||ie}return()=>{V.off("openchange",F);const h=ve(b),C=_(S,h)||K&&ye(K.nodesRef.current,N(),!1).some(G=>_(G.context?.elements.floating,h)),ie=D();queueMicrotask(()=>{const G=zr(ie),ge=typeof ce.current!="boolean";ce.current&&!j.current&&de(G)&&(!(!ge&&G!==h&&h!==b.body)||C)&&G.focus({preventScroll:!0}),M.remove()})}},[r,S,x,ce,A,V,K,le,y,N]),f.useEffect(()=>{queueMicrotask(()=>{j.current=!1})},[r]),f.useEffect(()=>{if(r||!k)return;function b(F){ne(F)?.closest(`[${_r}]`)&&(ee.current=!0)}const v=$(x);return v.addEventListener("pointerdown",b,!0),()=>{v.removeEventListener("pointerdown",b,!0)}},[r,k,x]),Y(()=>{if(!r&&P)return P.setFocusManagerState({modal:l,closeOnFocusOut:c,open:k,onOpenChange:w.setOpen,domReference:y}),()=>{P.setFocusManagerState(null)}},[r,P,l,k,w,c,y]),Y(()=>{if(!(r||!x))return Lt(x,Q),()=>{queueMicrotask(yt)}},[r,x,Q]);const I=!r&&(l?!B:!0)&&(le||l);return X.jsxs(f.Fragment,{children:[I&&X.jsx(Qe,{"data-type":"inside",ref:m,onFocus:b=>{if(l){const v=ae();ut(v[v.length-1])}else P?.portalNode&&(j.current=!1,Me(b,P.portalNode)?pn(y)?.focus():fe(d??P.beforeOutsideRef)?.focus())}}),n,I&&X.jsx(Qe,{"data-type":"inside",ref:H,onFocus:b=>{l?ut(ae()[0]):P?.portalNode&&(c&&(j.current=!0),Me(b,P.portalNode)?hn(y)?.focus():fe(T??P.afterOutsideRef)?.focus())}})]})}function _s(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.context.dataRef,{enabled:s=!0,event:o="click",toggle:i=!0,ignoreMouse:a=!1,stickIfOpen:l=!0,touchOpenDelay:c=0}=t,p=f.useRef(void 0),E=mt(),T=Le(),d=f.useMemo(()=>({onPointerDown(g){p.current=g.pointerType},onMouseDown(g){const R=p.current,w=g.nativeEvent,k=n.select("open");if(g.button!==0||o==="click"||Ot(R,!0)&&a)return;const y=r.current.openEvent,S=y?.type,V=n.select("domReferenceElement")!==g.currentTarget,A=k&&V||!(k&&i&&(!(y&&l)||S==="click"||S==="mousedown"));if(nn(w.target)){const q=re(Ae,w,w.target);A&&R==="touch"&&c>0?T.start(c,()=>{n.setOpen(!0,q)}):n.setOpen(A,q);return}const N=g.currentTarget;E.request(()=>{const q=re(Ae,w,N);A&&R==="touch"&&c>0?T.start(c,()=>{n.setOpen(!0,q)}):n.setOpen(A,q)})},onClick(g){if(o==="mousedown-only")return;const R=p.current;if(o==="mousedown"&&R){p.current=void 0;return}if(Ot(R,!0)&&a)return;const w=n.select("open"),k=r.current.openEvent,y=n.select("domReferenceElement")!==g.currentTarget,S=w&&y||!(w&&i&&(!(k&&l)||rn(k))),V=re(Ae,g.nativeEvent,g.currentTarget);S&&R==="touch"&&c>0?T.start(c,()=>{n.setOpen(!0,V)}):n.setOpen(S,V)},onKeyDown(){p.current=void 0}}),[r,o,a,n,l,i,E,T,c]);return f.useMemo(()=>s?{reference:d}:qt,[s,d])}const Xr={intentional:"onClick",sloppy:"onPointerDown"};function Zr(e){return{escapeKey:typeof e=="boolean"?e:e?.escapeKey??!1,outsidePress:typeof e=="boolean"?e:e?.outsidePress??!0}}function js(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),s=n.useState("floatingElement"),o=n.useState("referenceElement"),i=n.useState("domReferenceElement"),{onOpenChange:a,dataRef:l}=n.context,{enabled:c=!0,escapeKey:p=!0,outsidePress:E=!0,outsidePressEvent:T="sloppy",referencePress:d=!1,referencePressEvent:g="sloppy",ancestorScroll:R=!1,bubbles:w,externalTree:k}=t,y=vt(k),S=L(typeof E=="function"?E:()=>!1),V=typeof E=="function"?S:E,A=f.useRef(!1),{escapeKey:N,outsidePress:q}=Zr(w),W=f.useRef(null),B=Le(),Q=Le(),se=L(()=>{Q.clear(),l.current.insideReactTree=!1}),ce=f.useRef(!1),xe=f.useRef(""),K=L(u=>{xe.current=u.pointerType}),P=L(()=>{const u=xe.current,O=u==="pen"||!u?"mouse":u,m=typeof T=="function"?T():T;return typeof m=="string"?m:m[O]}),oe=L(u=>{if(!r||!c||!p||u.key!=="Escape"||ce.current)return;const O=l.current.floatingContext?.nodeId,m=y?ye(y.nodesRef.current,O):[];if(!N&&m.length>0){let b=!0;if(m.forEach(v=>{v.context?.open&&!v.context.dataRef.current.__escapeKeyBubbles&&(b=!1)}),!b)return}const H=yr(u)?u.nativeEvent:u,I=re(Vn,H);n.setOpen(!1,I),!N&&!I.isPropagationAllowed&&u.stopPropagation()}),st=L(u=>{const O=P();return O==="intentional"&&u.type!=="click"||O==="sloppy"&&u.type==="click"}),j=L(()=>{l.current.insideReactTree=!0,Q.start(0,se)}),ee=L((u,O=!1)=>{if(st(u)){se();return}if(l.current.insideReactTree){se();return}if(P()==="intentional"&&O||typeof V=="function"&&!V(u))return;const m=ne(u),H=`[${Je("inert")}]`,I=$(n.select("floatingElement")).querySelectorAll(H),b=n.context.triggerElements;if(m&&(b.hasElement(m)||b.hasMatchingElement(h=>_(h,m))))return;let v=me(m)?m:null;for(;v&&!it(v);){const h=Nn(v);if(it(h)||!me(h))break;v=h}if(I.length&&me(m)&&!mr(m)&&!_(m,n.select("floatingElement"))&&Array.from(I).every(h=>!_(v,h)))return;if(de(m)&&!("touches"in u)){const h=it(m),C=Bt(m),ie=/auto|scroll/,G=h||ie.test(C.overflowX),ge=h||ie.test(C.overflowY),_e=G&&m.clientWidth>0&&m.scrollWidth>m.clientWidth,ot=ge&&m.clientHeight>0&&m.scrollHeight>m.clientHeight,U=C.direction==="rtl",Ce=ot&&(U?u.offsetX<=m.offsetWidth-m.clientWidth:u.offsetX>m.clientWidth),je=_e&&u.offsetY>m.clientHeight;if(Ce||je)return}const F=l.current.floatingContext?.nodeId,M=y&&ye(y.nodesRef.current,F).some(h=>J(u,h.context?.elements.floating));if(J(u,n.select("floatingElement"))||J(u,n.select("domReferenceElement"))||M)return;const D=y?ye(y.nodesRef.current,F):[];if(D.length>0){let h=!0;if(D.forEach(C=>{C.context?.open&&!C.context.dataRef.current.__outsidePressBubbles&&(h=!1)}),!h)return}n.setOpen(!1,re(Ht,u)),se()}),pe=L(u=>{P()!=="sloppy"||u.pointerType==="touch"||!n.select("open")||!c||J(u,n.select("floatingElement"))||J(u,n.select("domReferenceElement"))||ee(u)}),De=L(u=>{if(P()!=="sloppy"||!n.select("open")||!c||J(u,n.select("floatingElement"))||J(u,n.select("domReferenceElement")))return;const O=u.touches[0];O&&(W.current={startTime:Date.now(),startX:O.clientX,startY:O.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},B.start(1e3,()=>{W.current&&(W.current.dismissOnTouchEnd=!1,W.current.dismissOnMouseDown=!1)}))}),he=L(u=>{const O=ne(u);function m(){De(u),O?.removeEventListener(u.type,m)}O?.addEventListener(u.type,m)}),Z=L(u=>{const O=A.current;if(A.current=!1,B.clear(),u.type==="mousedown"&&W.current&&!W.current.dismissOnMouseDown)return;const m=ne(u);function H(){u.type==="pointerdown"?pe(u):ee(u,O),m?.removeEventListener(u.type,H)}m?.addEventListener(u.type,H)}),Ve=L(u=>{if(P()!=="sloppy"||!W.current||J(u,n.select("floatingElement"))||J(u,n.select("domReferenceElement")))return;const O=u.touches[0];if(!O)return;const m=Math.abs(O.clientX-W.current.startX),H=Math.abs(O.clientY-W.current.startY),I=Math.sqrt(m*m+H*H);I>5&&(W.current.dismissOnTouchEnd=!0),I>10&&(ee(u),B.clear(),W.current=null)}),be=L(u=>{const O=ne(u);function m(){Ve(u),O?.removeEventListener(u.type,m)}O?.addEventListener(u.type,m)}),We=L(u=>{P()!=="sloppy"||!W.current||J(u,n.select("floatingElement"))||J(u,n.select("domReferenceElement"))||(W.current.dismissOnTouchEnd&&ee(u),B.clear(),W.current=null)}),le=L(u=>{const O=ne(u);function m(){We(u),O?.removeEventListener(u.type,m)}O?.addEventListener(u.type,m)});f.useEffect(()=>{if(!r||!c)return;l.current.__escapeKeyBubbles=N,l.current.__outsidePressBubbles=q;const u=new Se;function O(v){n.setOpen(!1,re(Wn,v))}function m(){u.clear(),ce.current=!0}function H(){u.start(Fn()?5:0,()=>{ce.current=!1})}const I=$(s);I.addEventListener("pointerdown",K,!0),p&&(I.addEventListener("keydown",oe),I.addEventListener("compositionstart",m),I.addEventListener("compositionend",H)),V&&(I.addEventListener("click",Z,!0),I.addEventListener("pointerdown",Z,!0),I.addEventListener("touchstart",he,!0),I.addEventListener("touchmove",be,!0),I.addEventListener("touchend",le,!0),I.addEventListener("mousedown",Z,!0));let b=[];return R&&(me(i)&&(b=ct(i)),me(s)&&(b=b.concat(ct(s))),!me(o)&&o&&o.contextElement&&(b=b.concat(ct(o.contextElement)))),b=b.filter(v=>v!==I.defaultView?.visualViewport),b.forEach(v=>{v.addEventListener("scroll",O,{passive:!0})}),()=>{I.removeEventListener("pointerdown",K,!0),p&&(I.removeEventListener("keydown",oe),I.removeEventListener("compositionstart",m),I.removeEventListener("compositionend",H)),V&&(I.removeEventListener("click",Z,!0),I.removeEventListener("pointerdown",Z,!0),I.removeEventListener("touchstart",he,!0),I.removeEventListener("touchmove",be,!0),I.removeEventListener("touchend",le,!0),I.removeEventListener("mousedown",Z,!0)),b.forEach(v=>{v.removeEventListener("scroll",O)}),u.clear()}},[l,s,o,i,p,V,r,a,R,c,N,q,oe,ee,Z,pe,he,be,le,K,n]),f.useEffect(se,[V,se]);const x=f.useMemo(()=>({onKeyDown:oe,...d&&{[Xr[g]]:u=>{n.setOpen(!1,re(Ae,u.nativeEvent))},...g!=="intentional"&&{onClick(u){n.setOpen(!1,re(Ae,u.nativeEvent))}}}}),[oe,n,d,g]),z=L(u=>{const O=ne(u.nativeEvent);!_(n.select("floatingElement"),O)||u.button!==0||(A.current=!0)}),ae=f.useMemo(()=>({onKeyDown:oe,onPointerDown:z,onMouseDown:z,onMouseUp:z,onClickCapture:j,onMouseDownCapture:j,onPointerDownCapture:j,onMouseUpCapture:j,onTouchEndCapture:j,onTouchMoveCapture:j}),[oe,z,j]);return f.useMemo(()=>c?{reference:x,floating:ae,trigger:x}:{},[c,x,ae])}const Jr={open:Oe(e=>e.open),domReferenceElement:Oe(e=>e.domReferenceElement),referenceElement:Oe(e=>e.positionReference??e.referenceElement),floatingElement:Oe(e=>e.floatingElement),floatingId:Oe(e=>e.floatingId)};class qs extends cr{constructor(t){const{nested:n,noEmit:r,onOpenChange:s,triggerElements:o,...i}=t;super({...i,positionReference:i.referenceElement,domReferenceElement:i.referenceElement},{onOpenChange:s,dataRef:{current:{}},events:gn(),nested:n,noEmit:r,triggerElements:o},Jr)}setOpen=(t,n)=>{if((!t||!this.state.open||rn(n.event))&&(this.context.dataRef.current.openEvent=t?n.event:void 0),!this.context.noEmit){const r={open:t,reason:n.reason,nativeEvent:n.event,nested:this.context.nested,triggerElement:n.trigger};this.context.events.emit("openchange",r)}this.context.onOpenChange?.(t,n)}}function Bs(e,t=!1,n=!1){const[r,s]=f.useState(e&&t?"idle":void 0),[o,i]=f.useState(e);return e&&!o&&(i(!0),s("starting")),!e&&o&&r!=="ending"&&!n&&s("ending"),!e&&!o&&r==="ending"&&s(void 0),Y(()=>{if(!e&&o&&r!=="ending"&&n){const a=te.request(()=>{s("ending")});return()=>{te.cancel(a)}}},[e,o,r,n]),Y(()=>{if(!e||t)return;const a=te.request(()=>{s(void 0)});return()=>{te.cancel(a)}},[t,e]),Y(()=>{if(!e||!t)return;e&&o&&r!=="idle"&&s("starting");const a=te.request(()=>{s("idle")});return()=>{te.cancel(a)}},[t,e,o,s,r]),f.useMemo(()=>({mounted:o,setMounted:i,transitionStatus:r}),[o,r])}function Qr(e,t=!1,n=!0){const r=mt();return L((s,o=null)=>{r.cancel();const i=fe(e);i!=null&&(typeof i.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?s():r.request(()=>{function a(){i&&Promise.all(i.getAnimations().map(l=>l.finished)).then(()=>{o!=null&&o.aborted||Ge.flushSync(s)}).catch(()=>{if(n){if(o!=null&&o.aborted)return;Ge.flushSync(s)}else i.getAnimations().length>0&&i.getAnimations().some(l=>l.pending||l.playState!=="finished")&&a()})}t?r.request(a):a()}))})}function Ys(e){const{enabled:t=!0,open:n,ref:r,onComplete:s}=e,o=ke(n),i=L(s),a=Qr(r,n);f.useEffect(()=>{t&&a(()=>{n===o.current&&i()})},[t,n,i,a,o])}class $s{constructor(){this.elements=new Set,this.idMap=new Map}add(t,n){const r=this.idMap.get(t);r!==n&&(r!==void 0&&this.elements.delete(r),this.elements.add(n),this.idMap.set(t,n))}delete(t){const n=this.idMap.get(t);n&&(this.elements.delete(n),this.idMap.delete(t))}hasElement(t){return this.elements.has(t)}hasMatchingElement(t){for(const n of this.elements)if(t(n))return!0;return!1}getById(t){return this.idMap.get(t)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function Ks(e=[]){const t=e.map(c=>c?.reference),n=e.map(c=>c?.floating),r=e.map(c=>c?.item),s=e.map(c=>c?.trigger),o=f.useCallback(c=>He(c,e,"reference"),t),i=f.useCallback(c=>He(c,e,"floating"),n),a=f.useCallback(c=>He(c,e,"item"),r),l=f.useCallback(c=>He(c,e,"trigger"),s);return f.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:a,getTriggerProps:l}),[o,i,a,l])}function He(e,t,n){const r=new Map,s=n==="item",o={};n==="floating"&&(o.tabIndex=-1,o[pt]="");for(const i in e)s&&e&&(i===en||i===tn)||(o[i]=e[i]);for(let i=0;i<t.length;i+=1){let a;const l=t[i]?.[n];typeof l=="function"?a=e?l(e):null:a=l,a&&Nt(o,a,s,r)}return Nt(o,e,s,r),o}function Nt(e,t,n,r){for(const s in t){const o=t[s];n&&(s===en||s===tn)||(s.startsWith("on")?(r.has(s)||r.set(s,[]),typeof o=="function"&&(r.get(s)?.push(o),e[s]=(...i)=>r.get(s)?.map(a=>a(...i)).find(a=>a!==void 0))):e[s]=o)}}function es(e){const t=f.useRef(""),n=f.useCallback(s=>{s.defaultPrevented||(t.current=s.pointerType,e(s,s.pointerType))},[e]);return{onClick:f.useCallback(s=>{if(s.detail===0){e(s,"keyboard");return}"pointerType"in s&&e(s,s.pointerType),e(s,t.current),t.current=""},[e]),onPointerDown:n}}function Hs(e){const[t,n]=f.useState(null),r=L((a,l)=>{e||n(l)}),s=f.useCallback(()=>{n(null)},[]),{onClick:o,onPointerDown:i}=es(r);return f.useMemo(()=>({openMethod:t,reset:s,triggerProps:{onClick:o,onPointerDown:i}}),[t,s,o,i])}let et=(function(e){return e.startingStyle="data-starting-style",e.endingStyle="data-ending-style",e})({});const ts={[et.startingStyle]:""},ns={[et.endingStyle]:""},Gs={transitionStatus(e){return e==="starting"?ts:e==="ending"?ns:null}};let Et=(function(e){return e.open="data-open",e.closed="data-closed",e[e.startingStyle=et.startingStyle]="startingStyle",e[e.endingStyle=et.endingStyle]="endingStyle",e.anchorHidden="data-anchor-hidden",e})({}),gt=(function(e){return e.popupOpen="data-popup-open",e.pressed="data-pressed",e})({});const rs={[gt.popupOpen]:""},ss={[gt.popupOpen]:"",[gt.pressed]:""},os={[Et.open]:""},is={[Et.closed]:""},cs={[Et.anchorHidden]:""},zs={open(e){return e?rs:null}},Us={open(e){return e?ss:null}},Xs={open(e){return e?os:is},anchorHidden(e){return e?cs:null}};function Zs(e){return Wt(19)?e:e?"true":void 0}let Ft={},Dt={},Vt="";function as(e){if(typeof document>"u")return!1;const t=rt(e);return nt(t).innerWidth-t.documentElement.clientWidth>0}function us(e){const t=rt(e),n=t.documentElement,r=t.body,s=Yt(n)?n:r,o=s.style.overflow;return s.style.overflow="hidden",()=>{s.style.overflow=o}}function ls(e){const t=rt(e),n=t.documentElement,r=t.body,s=nt(n);let o=0,i=0;const a=te.create(),l=typeof CSS<"u"&&CSS.supports?.("scrollbar-gutter","stable");if(lr&&(s.visualViewport?.scale??1)!==1)return()=>{};function c(){const T=s.getComputedStyle(n),d=s.getComputedStyle(r),w=(T.scrollbarGutter||"").includes("both-edges")?"stable both-edges":"stable";o=n.scrollTop,i=n.scrollLeft,Ft={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},Vt=n.style.scrollBehavior,Dt={position:r.style.position,height:r.style.height,width:r.style.width,boxSizing:r.style.boxSizing,overflowY:r.style.overflowY,overflowX:r.style.overflowX,scrollBehavior:r.style.scrollBehavior};const k=n.scrollHeight>n.clientHeight,y=n.scrollWidth>n.clientWidth,S=T.overflowY==="scroll"||d.overflowY==="scroll",V=T.overflowX==="scroll"||d.overflowX==="scroll",A=Math.max(0,s.innerWidth-n.clientWidth),N=Math.max(0,s.innerHeight-n.clientHeight),q=parseFloat(d.marginTop)+parseFloat(d.marginBottom),W=parseFloat(d.marginLeft)+parseFloat(d.marginRight),B=Yt(n)?n:r;if(l){n.style.scrollbarGutter=w,B.style.overflowY="hidden",B.style.overflowX="hidden";return}Object.assign(n.style,{scrollbarGutter:w,overflowY:"hidden",overflowX:"hidden"}),(k||S)&&(n.style.overflowY="scroll"),(y||V)&&(n.style.overflowX="scroll"),Object.assign(r.style,{position:"relative",height:q||N?`calc(100dvh - ${q+N}px)`:"100dvh",width:W||A?`calc(100vw - ${W+A}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),r.scrollTop=o,r.scrollLeft=i,n.setAttribute("data-base-ui-scroll-locked",""),n.style.scrollBehavior="unset"}function p(){Object.assign(n.style,Ft),Object.assign(r.style,Dt),l||(n.scrollTop=o,n.scrollLeft=i,n.removeAttribute("data-base-ui-scroll-locked"),n.style.scrollBehavior=Vt)}function E(){p(),a.request(c)}return c(),s.addEventListener("resize",E),()=>{a.cancel(),p(),typeof s.removeEventListener=="function"&&s.removeEventListener("resize",E)}}class fs{lockCount=0;restore=null;timeoutLock=Se.create();timeoutUnlock=Se.create();acquire(t){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(t)),this.release}release=()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)};unlock=()=>{this.lockCount===0&&this.restore&&(this.restore?.(),this.restore=null)};lock(t){if(this.lockCount===0||this.restore!==null)return;const r=rt(t).documentElement,s=nt(r).getComputedStyle(r).overflowY;if(s==="hidden"||s==="clip"){this.restore=_t;return}const o=fr||!as(t);this.restore=o?us(t):ls(t)}}const ds=new fs;function Js(e=!0,t=null){Y(()=>{if(e)return ds.acquire(t)},[e,t])}const Qs=f.forwardRef(function(t,n){const{cutout:r,...s}=t;let o;if(r){const i=r?.getBoundingClientRect();o=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${i.left}px ${i.top}px,
      ${i.left}px ${i.bottom}px,
      ${i.right}px ${i.bottom}px,
      ${i.right}px ${i.top}px,
      ${i.left}px ${i.top}px
    )`}return X.jsx("div",{ref:n,role:"presentation","data-base-ui-inert":"",...s,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:o}})}),Tn="ArrowUp",wn="ArrowDown",xn="ArrowLeft",Cn="ArrowRight",On="Home",In="End",ps=new Set([xn,Cn]),hs=new Set([Tn,wn]),bs=new Set([...ps,...hs]);[...bs];const eo=new Set([Tn,wn,xn,Cn,On,In]);export{Wr as $,ws as A,wt as B,Et as C,ut as D,ve as E,qs as F,$ as G,Er as H,Qs as I,Sr as J,Le as K,rt as L,Ns as M,Ot as N,Je as O,$s as P,nn as Q,cr as R,Cs as S,Ss as T,dr as U,gr as V,Se as W,ye as X,Fs as Y,Ds as Z,As as _,Ys as a,ks as a0,Ms as a1,mt as a2,Ps as a3,Is as a4,Me as a5,Os as a6,pn as a7,Us as a8,Qe as a9,Ls as aa,sr as ab,Gt as ac,Pe as ad,lr as ae,yn as b,Oe as c,eo as d,Ws as e,Vs as f,xt as g,Hs as h,Zs as i,js as j,ne as k,_ as l,Js as m,Ks as n,_s as o,Xs as p,zs as q,_r as r,vr as s,Gs as t,Bs as u,xs as v,Rs as w,Ts as x,vt as y,ke as z};
