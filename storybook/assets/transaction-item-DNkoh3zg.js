import{j as e}from"./iframe-QVsCtZB2.js";import{c as a}from"./utils-4perknFd.js";import{A as N}from"./address-display-BcrQ41jG.js";import{C as T}from"./chain-icon-UL41VTkN.js";import"./LoadingSpinner-BshP3aJN.js";import{A as b}from"./amount-display-ficMOKCB.js";import"./animated-number-CCKqWxky.js";import{T as w}from"./time-display-CmsojBez.js";import"./service-status-alert-CQJpD7DK.js";import{B as u}from"./button-2XVhiOj4.js";import{g as z,a as I}from"./transaction-meta-DUKTFcr4.js";import{u as k}from"./useTranslation-BAUoxyUr.js";import{I as A}from"./IconRefresh-BNSzlQ-E.js";import{I as C}from"./IconTrash-XGGr1vT7.js";function q({transaction:s,onClick:r,className:p,showChainIcon:x,onRetry:m,onDelete:d}){const{t:n}=k("transaction"),t=z(s.type),f=I(s.status),o=!!r,l=s.status==="pending",h=s.status==="failed",g=m||d,y=t.Icon,j=new Set(["send","destroy","destroyEntity","emigrate"]),c=s.amount.toNumber(),v=j.has(s.type)?-Math.abs(c):c;return e.jsxs("div",{role:o?"button":void 0,tabIndex:o?0:void 0,onClick:r,onKeyDown:o?i=>i.key==="Enter"&&r?.():void 0,className:a("@container flex items-center gap-3 rounded-xl p-3 transition-colors",o&&"hover:bg-muted/50 active:bg-muted cursor-pointer",p),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:a("flex size-10 items-center justify-center rounded-full @xs:size-12",t.bg,l&&"animate-pulse"),children:e.jsx(y,{className:a("size-5 @xs:size-6",t.color,l&&"animate-spin-slow")})}),x&&s.chain&&e.jsx(T,{chain:s.chain,size:"sm",className:"ring-background absolute -right-0.5 -bottom-0.5 size-4 text-[8px] ring-2"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium @xs:text-base",children:n(`type.${s.type}`)}),s.status!=="confirmed"&&e.jsx("span",{className:a("text-xs",f),children:n(`status.${s.status}`)})]}),s.type!=="signature"&&e.jsxs("p",{className:"text-muted-foreground flex items-center gap-1 text-xs @xs:text-sm",children:[e.jsx("span",{className:"shrink-0",children:s.type==="send"?n("toAddress"):n("fromAddress")}),e.jsx(N,{address:s.address,copyable:!1,className:"min-w-0 flex-1"})]})]}),g?e.jsxs("div",{className:"flex shrink-0 flex-col gap-1",children:[h&&m&&e.jsx(u,{variant:"ghost",size:"icon",className:"size-8",onClick:i=>{i.stopPropagation(),m()},title:n("pendingTx.retry"),children:e.jsx(A,{className:"size-4"})}),d&&e.jsx(u,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive size-8",onClick:i=>{i.stopPropagation(),d()},title:n("pendingTx.delete"),children:e.jsx(C,{className:"size-4"})})]}):e.jsxs("div",{className:"shrink-0 text-right",children:[e.jsx(b,{value:v,symbol:s.symbol,decimals:s.amount.decimals,sign:t.amountSign,color:"default",weight:"normal",size:"sm",className:a("@xs:text-base",t.color)}),e.jsx(w,{value:s.timestamp,format:"monthDayTime",className:"text-muted-foreground block text-xs"})]})]})}q.__docgenInfo={description:"",methods:[],displayName:"TransactionItem",props:{transaction:{required:!0,tsType:{name:"TransactionInfo"},description:""},onClick:{required:!1,tsType:{name:"union",raw:"(() => void) | undefined",elements:[{name:"unknown"},{name:"undefined"}]},description:""},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},showChainIcon:{required:!1,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:"是否显示链图标（右下角小徽章）"},onRetry:{required:!1,tsType:{name:"union",raw:"(() => void) | undefined",elements:[{name:"unknown"},{name:"undefined"}]},description:"重试回调（仅待处理交易）"},onDelete:{required:!1,tsType:{name:"union",raw:"(() => void) | undefined",elements:[{name:"unknown"},{name:"undefined"}]},description:"删除回调（仅待处理交易）"}}};export{q as T};
