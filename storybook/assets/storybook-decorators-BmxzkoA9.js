import{A as mt,S as oo,j as P,r as C,R as gt,u as so,B as no,q as ro}from"./iframe-DDpXk3xY.js";import{r as io}from"./index-C52N-TnH.js";const q="__TSR_index",ge="popstate",ye="beforeunload";function Ie(t){let o=t.getLocation();const e=new Set,s=a=>{o=t.getLocation(),e.forEach(i=>i({location:o,action:a}))},n=a=>{t.notifyOnIndexChange??!0?s(a):o=t.getLocation()},r=async({task:a,navigateOpts:i,...c})=>{if(i?.ignoreBlocker??!1){a();return}const d=t.getBlockers?.()??[],h=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&d.length&&h)for(const l of d){const f=yt(c.path,c.state);if(await l.blockerFn({currentLocation:o,nextLocation:f,action:c.type})){t.onBlocked?.();return}}a()};return{get location(){return o},get length(){return t.getLength()},subscribers:e,subscribe:a=>(e.add(a),()=>{e.delete(a)}),push:(a,i,c)=>{const u=o.state[q];i=Yt(u+1,i),r({task:()=>{t.pushState(a,i),s({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:a,state:i})},replace:(a,i,c)=>{const u=o.state[q];i=Yt(u,i),r({task:()=>{t.replaceState(a,i),s({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:a,state:i})},go:(a,i)=>{r({task:()=>{t.go(a),n({type:"GO",index:a})},navigateOpts:i,type:"GO"})},back:a=>{r({task:()=>{t.back(a?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:a,type:"BACK"})},forward:a=>{r({task:()=>{t.forward(a?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:a,type:"FORWARD"})},canGoBack:()=>o.state[q]!==0,createHref:a=>t.createHref(a),block:a=>{if(!t.setBlockers)return()=>{};const i=t.getBlockers?.()??[];return t.setBlockers([...i,a]),()=>{const c=t.getBlockers?.()??[];t.setBlockers?.(c.filter(u=>u!==a))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function Yt(t,o){o||(o={});const e=Qt();return{...o,key:e,__TSR_key:e,[q]:t}}function ao(t){const o=typeof document<"u"?window:void 0,e=o.history.pushState,s=o.history.replaceState;let n=[];const r=()=>n,a=_=>n=_,i=(_=>_),c=(()=>yt(`${o.location.pathname}${o.location.search}${o.location.hash}`,o.history.state));if(!o.history.state?.__TSR_key&&!o.history.state?.key){const _=Qt();o.history.replaceState({[q]:0,key:_,__TSR_key:_},"")}let u=c(),d,h=!1,l=!1,f=!1,p=!1;const S=()=>u;let g,m;const y=()=>{g&&(x._ignoreSubscribers=!0,(g.isPush?o.history.pushState:o.history.replaceState)(g.state,"",g.href),x._ignoreSubscribers=!1,g=void 0,m=void 0,d=void 0)},w=(_,L,b)=>{const k=i(L);m||(d=u),u=yt(L,b),g={href:k,state:b,isPush:g?.isPush||_==="push"},m||(m=Promise.resolve().then(()=>y()))},R=_=>{u=c(),x.notify({type:_})},M=async()=>{if(l){l=!1;return}const _=c(),L=_.state[q]-u.state[q],b=L===1,k=L===-1,F=!b&&!k||h;h=!1;const B=F?"GO":k?"BACK":"FORWARD",$=F?{type:"GO",index:L}:{type:k?"BACK":"FORWARD"};if(f)f=!1;else{const U=r();if(typeof document<"u"&&U.length){for(const st of U)if(await st.blockerFn({currentLocation:u,nextLocation:_,action:B})){l=!0,o.history.go(1),x.notify($);return}}}u=c(),x.notify($)},v=_=>{if(p){p=!1;return}let L=!1;const b=r();if(typeof document<"u"&&b.length)for(const k of b){const F=k.enableBeforeUnload??!0;if(F===!0){L=!0;break}if(typeof F=="function"&&F()===!0){L=!0;break}}if(L)return _.preventDefault(),_.returnValue=""},x=Ie({getLocation:S,getLength:()=>o.history.length,pushState:(_,L)=>w("push",_,L),replaceState:(_,L)=>w("replace",_,L),back:_=>(_&&(f=!0),p=!0,o.history.back()),forward:_=>{_&&(f=!0),p=!0,o.history.forward()},go:_=>{h=!0,o.history.go(_)},createHref:_=>i(_),flush:y,destroy:()=>{o.history.pushState=e,o.history.replaceState=s,o.removeEventListener(ye,v,{capture:!0}),o.removeEventListener(ge,M)},onBlocked:()=>{d&&u!==d&&(u=d)},getBlockers:r,setBlockers:a,notifyOnIndexChange:!1});return o.addEventListener(ye,v,{capture:!0}),o.addEventListener(ge,M),o.history.pushState=function(..._){const L=e.apply(o.history,_);return x._ignoreSubscribers||R("PUSH"),L},o.history.replaceState=function(..._){const L=s.apply(o.history,_);return x._ignoreSubscribers||R("REPLACE"),L},x}function co(t={initialEntries:["/"]}){const o=t.initialEntries;let e=t.initialIndex?Math.min(Math.max(t.initialIndex,0),o.length-1):o.length-1;const s=o.map((r,a)=>Yt(a,void 0));return Ie({getLocation:()=>yt(o[e],s[e]),getLength:()=>o.length,pushState:(r,a)=>{e<o.length-1&&(o.splice(e+1),s.splice(e+1)),s.push(a),o.push(r),e=Math.max(o.length-1,0)},replaceState:(r,a)=>{s[e]=a,o[e]=r},back:()=>{e=Math.max(e-1,0)},forward:()=>{e=Math.min(e+1,o.length-1)},go:r=>{e=Math.min(Math.max(e+r,0),o.length-1)},createHref:r=>r})}function yt(t,o){const e=t.indexOf("#"),s=t.indexOf("?"),n=Qt();return{href:t,pathname:t.substring(0,e>0?s>0?Math.min(e,s):e:s>0?s:t.length),hash:e>-1?t.substring(e):"",search:s>-1?t.slice(s,e===-1?void 0:e):"",state:o||{[q]:0,key:n,__TSR_key:n}}}function Qt(){return(Math.random()+1).toString(36).substring(7)}function Mt(t){return t[t.length-1]}function lo(t){return typeof t=="function"}function z(t,o){return lo(t)?t(o):t}const uo=Object.prototype.hasOwnProperty;function N(t,o){if(t===o)return t;const e=o,s=Pe(t)&&Pe(e);if(!s&&!(kt(t)&&kt(e)))return e;const n=s?t:ve(t);if(!n)return e;const r=s?e:ve(e);if(!r)return e;const a=n.length,i=r.length,c=s?new Array(i):{};let u=0;for(let d=0;d<i;d++){const h=s?d:r[d],l=t[h],f=e[h];if(l===f){c[h]=l,(s?d<a:uo.call(t,h))&&u++;continue}if(l===null||f===null||typeof l!="object"||typeof f!="object"){c[h]=f;continue}const p=N(l,f);c[h]=p,p===l&&u++}return a===i&&u===a?t:c}function ve(t){const o=[],e=Object.getOwnPropertyNames(t);for(const n of e){if(!Object.prototype.propertyIsEnumerable.call(t,n))return!1;o.push(n)}const s=Object.getOwnPropertySymbols(t);for(const n of s){if(!Object.prototype.propertyIsEnumerable.call(t,n))return!1;o.push(n)}return o}function kt(t){if(!Se(t))return!1;const o=t.constructor;if(typeof o>"u")return!0;const e=o.prototype;return!(!Se(e)||!e.hasOwnProperty("isPrototypeOf"))}function Se(t){return Object.prototype.toString.call(t)==="[object Object]"}function Pe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Z(t,o,e){if(t===o)return!0;if(typeof t!=typeof o)return!1;if(Array.isArray(t)&&Array.isArray(o)){if(t.length!==o.length)return!1;for(let s=0,n=t.length;s<n;s++)if(!Z(t[s],o[s],e))return!1;return!0}if(kt(t)&&kt(o)){const s=e?.ignoreUndefined??!0;if(e?.partial){for(const a in o)if((!s||o[a]!==void 0)&&!Z(t[a],o[a],e))return!1;return!0}let n=0;if(!s)n=Object.keys(t).length;else for(const a in t)t[a]!==void 0&&n++;let r=0;for(const a in o)if((!s||o[a]!==void 0)&&(r++,r>n||!Z(t[a],o[a],e)))return!1;return n===r}return!1}function ct(t){let o,e;const s=new Promise((n,r)=>{o=n,e=r});return s.status="pending",s.resolve=n=>{s.status="resolved",s.value=n,o(n),t?.(n)},s.reject=n=>{s.status="rejected",e(n)},s}function Y(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function _e(t){try{return decodeURI(t)}catch{return t.replaceAll(/%[0-9A-F]{2}/gi,o=>{try{return decodeURI(o)}catch{return o}})}}function Re(t,o){if(!t)return t;const e=/%25|%5C/gi;let s=0,n="",r;for(;(r=e.exec(t))!==null;)n+=_e(t.slice(s,r.index))+r[0],s=e.lastIndex;return n+_e(s?t.slice(s):t)}var ho="Invariant failed";function V(t,o){if(!t)throw new Error(ho)}function It(t){const o=new Map;let e,s;const n=r=>{r.next&&(r.prev?(r.prev.next=r.next,r.next.prev=r.prev,r.next=void 0,s&&(s.next=r,r.prev=s)):(r.next.prev=void 0,e=r.next,r.next=void 0,s&&(r.prev=s,s.next=r)),s=r)};return{get(r){const a=o.get(r);if(a)return n(a),a.value},set(r,a){if(o.size>=t&&e){const c=e;o.delete(c.key),c.next&&(e=c.next,c.next.prev=void 0),c===s&&(s=void 0)}const i=o.get(r);if(i)i.value=a,n(i);else{const c={key:r,value:a,prev:s};s&&(s.next=c),s=c,e||(e=c),o.set(r,c)}},clear(){o.clear(),e=void 0,s=void 0}}}const lt=0,et=1,ot=2,vt=3,it=4,fo=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,po=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,mo=/^([^{]*)\{\$\}([^}]*)$/;function te(t,o,e=new Uint16Array(6)){const s=t.indexOf("/",o),n=s===-1?t.length:s,r=t.substring(o,n);if(!r||!r.includes("$"))return e[0]=lt,e[1]=o,e[2]=o,e[3]=n,e[4]=n,e[5]=n,e;if(r==="$"){const u=t.length;return e[0]=ot,e[1]=o,e[2]=o,e[3]=u,e[4]=u,e[5]=u,e}if(r.charCodeAt(0)===36)return e[0]=et,e[1]=o,e[2]=o+1,e[3]=n,e[4]=n,e[5]=n,e;const a=r.match(mo);if(a){const d=a[1].length;return e[0]=ot,e[1]=o+d,e[2]=o+d+1,e[3]=o+d+2,e[4]=o+d+3,e[5]=t.length,e}const i=r.match(po);if(i){const u=i[1],d=i[2],h=i[3],l=u.length;return e[0]=vt,e[1]=o+l,e[2]=o+l+3,e[3]=o+l+3+d.length,e[4]=n-h.length,e[5]=n,e}const c=r.match(fo);if(c){const u=c[1],d=c[2],h=c[3],l=u.length;return e[0]=et,e[1]=o+l,e[2]=o+l+2,e[3]=o+l+2+d.length,e[4]=n-h.length,e[5]=n,e}return e[0]=lt,e[1]=o,e[2]=o,e[3]=n,e[4]=n,e[5]=n,e}function Ot(t,o,e,s,n,r,a){a?.(e);let i=s;{const c=e.fullPath??e.from,u=c.length,d=e.options?.caseSensitive??t;for(;i<u;){const l=te(c,i,o);let f;const p=i,S=l[5];switch(i=S+1,r++,l[0]){case lt:{const m=c.substring(l[2],l[3]);if(d){const y=n.static?.get(m);if(y)f=y;else{n.static??=new Map;const w=at(e.fullPath??e.from);w.parent=n,w.depth=r,f=w,n.static.set(m,w)}}else{const y=m.toLowerCase(),w=n.staticInsensitive?.get(y);if(w)f=w;else{n.staticInsensitive??=new Map;const R=at(e.fullPath??e.from);R.parent=n,R.depth=r,f=R,n.staticInsensitive.set(y,R)}}break}case et:{const m=c.substring(p,l[1]),y=c.substring(l[4],S),w=d&&!!(m||y),R=m?w?m:m.toLowerCase():void 0,M=y?w?y:y.toLowerCase():void 0,v=n.dynamic?.find(x=>x.caseSensitive===w&&x.prefix===R&&x.suffix===M);if(v)f=v;else{const x=Kt(et,e.fullPath??e.from,w,R,M);f=x,x.depth=r,x.parent=n,n.dynamic??=[],n.dynamic.push(x)}break}case vt:{const m=c.substring(p,l[1]),y=c.substring(l[4],S),w=d&&!!(m||y),R=m?w?m:m.toLowerCase():void 0,M=y?w?y:y.toLowerCase():void 0,v=n.optional?.find(x=>x.caseSensitive===w&&x.prefix===R&&x.suffix===M);if(v)f=v;else{const x=Kt(vt,e.fullPath??e.from,w,R,M);f=x,x.parent=n,x.depth=r,n.optional??=[],n.optional.push(x)}break}case ot:{const m=c.substring(p,l[1]),y=c.substring(l[4],S),w=d&&!!(m||y),R=m?w?m:m.toLowerCase():void 0,M=y?w?y:y.toLowerCase():void 0,v=Kt(ot,e.fullPath??e.from,w,R,M);f=v,v.parent=n,v.depth=r,n.wildcard??=[],n.wildcard.push(v)}}n=f}const h=(e.path||!e.children)&&!e.isRoot;if(h&&c.endsWith("/")){const l=at(e.fullPath??e.from);l.kind=it,l.parent=n,r++,l.depth=r,n.index=l,n=l}h&&!n.route&&(n.route=e,n.fullPath=e.fullPath??e.from)}if(e.children)for(const c of e.children)Ot(t,o,c,i,n,r,a)}function Ut(t,o){if(t.prefix&&o.prefix&&t.prefix!==o.prefix){if(t.prefix.startsWith(o.prefix))return-1;if(o.prefix.startsWith(t.prefix))return 1}if(t.suffix&&o.suffix&&t.suffix!==o.suffix){if(t.suffix.endsWith(o.suffix))return-1;if(o.suffix.endsWith(t.suffix))return 1}return t.prefix&&!o.prefix?-1:!t.prefix&&o.prefix?1:t.suffix&&!o.suffix?-1:!t.suffix&&o.suffix?1:t.caseSensitive&&!o.caseSensitive?-1:!t.caseSensitive&&o.caseSensitive?1:0}function X(t){if(t.static)for(const o of t.static.values())X(o);if(t.staticInsensitive)for(const o of t.staticInsensitive.values())X(o);if(t.dynamic?.length){t.dynamic.sort(Ut);for(const o of t.dynamic)X(o)}if(t.optional?.length){t.optional.sort(Ut);for(const o of t.optional)X(o)}if(t.wildcard?.length){t.wildcard.sort(Ut);for(const o of t.wildcard)X(o)}}function at(t){return{kind:lt,depth:0,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null}}function Kt(t,o,e,s,n){return{kind:t,depth:0,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:o,parent:null,caseSensitive:e,prefix:s,suffix:n}}function go(t,o){const e=at("/"),s=new Uint16Array(6);for(const n of t)Ot(!1,s,n,1,e,0);X(e),o.masksTree=e,o.flatCache=It(1e3)}function yo(t,o){t||="/";const e=o.flatCache.get(t);if(e)return e;const s=ee(t,o.masksTree);return o.flatCache.set(t,s),s}function vo(t,o,e,s,n){t||="/",s||="/";const r=o?`case\0${t}`:t;let a=n.singleCache.get(r);if(!a){a=at("/");const i=new Uint16Array(6);Ot(o,i,{from:t},1,a,0),n.singleCache.set(r,a)}return ee(s,a,e)}function So(t,o,e=!1){const s=e?t:`nofuzz\0${t}`,n=o.matchCache.get(s);if(n!==void 0)return n;t||="/";const r=ee(t,o.segmentTree,e);return r&&(r.branch=xo(r.route)),o.matchCache.set(s,r),r}function Po(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function _o(t,o=!1,e){const s=at(t.fullPath),n=new Uint16Array(6),r={},a={};let i=0;return Ot(o,n,t,1,s,0,u=>{if(e?.(u,i),V(!(u.id in r),`Duplicate routes found with id: ${String(u.id)}`),r[u.id]=u,i!==0&&u.path){const d=Po(u.fullPath);(!a[d]||u.fullPath.endsWith("/"))&&(a[d]=u)}i++}),X(s),{processedTree:{segmentTree:s,singleCache:It(1e3),matchCache:It(1e3),flatCache:null,masksTree:null},routesById:r,routesByPath:a}}function ee(t,o,e=!1){const s=t.split("/"),n=Lo(t,s,o,e);if(!n)return null;const r=Ro(t,s,n);return"**"in n&&(r["**"]=n["**"]),{route:n.node.route,params:r}}function Ro(t,o,e){const s=wo(e.node);let n=null;const r={};for(let a=0,i=0,c=0;i<s.length;a++,i++,c++){const u=s[i],d=o[a],h=c;if(d&&(c+=d.length),u.kind===et){n??=e.node.fullPath.split("/");const l=n[i],f=u.prefix?.length??0;if(l.charCodeAt(f)===123){const S=u.suffix?.length??0,g=l.substring(f+2,l.length-S-1),m=d.substring(f,d.length-S);r[g]=decodeURIComponent(m)}else{const S=l.substring(1);r[S]=decodeURIComponent(d)}}else if(u.kind===vt){if(e.skipped&1<<i){a--;continue}n??=e.node.fullPath.split("/");const l=n[i],f=u.prefix?.length??0,p=u.suffix?.length??0,S=l.substring(f+3,l.length-p-1),g=u.suffix||u.prefix?d.substring(f,d.length-p):d;g&&(r[S]=decodeURIComponent(g))}else if(u.kind===ot){const l=u,f=t.substring(h+(l.prefix?.length??0),t.length-(l.suffix?.length??0)),p=decodeURIComponent(f);r["*"]=p,r._splat=p;break}}return r}function xo(t){const o=[t];for(;t.parentRoute;)t=t.parentRoute,o.push(t);return o.reverse(),o}function wo(t){const o=Array(t.depth+1);do o[t.depth]=t,t=t.parent;while(t);return o}function Lo(t,o,e,s){if(t==="/"&&e.index)return{node:e.index,skipped:0};const n=!Mt(o),r=n&&t!=="/",a=o.length-(n?1:0),i=[{node:e,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let c=null,u=null,d=null;for(;i.length;){const h=i.pop();let{node:l,index:f,skipped:p,depth:S,statics:g,dynamics:m,optionals:y}=h;s&&l.route&&l.kind!==it&&ht(u,h)&&(u=h);const w=f===a;if(w&&(l.route&&!r&&ht(d,h)&&(d=h),!l.optional&&!l.wildcard&&!l.index))continue;const R=w?void 0:o[f];let M;if(w&&l.index){const v={node:l.index,index:f,skipped:p,depth:S+1,statics:g,dynamics:m,optionals:y};if(g===a&&!m&&!y&&!p)return v;ht(d,v)&&(d=v)}if(l.wildcard&&ht(c,h))for(const v of l.wildcard){const{prefix:x,suffix:_}=v;if(!(x&&(w||!(v.caseSensitive?R:M??=R.toLowerCase()).startsWith(x)))){if(_){if(w)continue;const L=o.slice(f).join("/").slice(-_.length);if((v.caseSensitive?L:L.toLowerCase())!==_)continue}c={node:v,index:a,skipped:p,depth:S,statics:g,dynamics:m,optionals:y};break}}if(l.optional){const v=p|1<<S,x=S+1;for(let _=l.optional.length-1;_>=0;_--){const L=l.optional[_];i.push({node:L,index:f,skipped:v,depth:x,statics:g,dynamics:m,optionals:y})}if(!w)for(let _=l.optional.length-1;_>=0;_--){const L=l.optional[_],{prefix:b,suffix:k}=L;if(b||k){const F=L.caseSensitive?R:M??=R.toLowerCase();if(b&&!F.startsWith(b)||k&&!F.endsWith(k))continue}i.push({node:L,index:f+1,skipped:p,depth:x,statics:g,dynamics:m,optionals:y+1})}}if(!w&&l.dynamic&&R)for(let v=l.dynamic.length-1;v>=0;v--){const x=l.dynamic[v],{prefix:_,suffix:L}=x;if(_||L){const b=x.caseSensitive?R:M??=R.toLowerCase();if(_&&!b.startsWith(_)||L&&!b.endsWith(L))continue}i.push({node:x,index:f+1,skipped:p,depth:S+1,statics:g,dynamics:m+1,optionals:y})}if(!w&&l.staticInsensitive){const v=l.staticInsensitive.get(M??=R.toLowerCase());v&&i.push({node:v,index:f+1,skipped:p,depth:S+1,statics:g+1,dynamics:m,optionals:y})}if(!w&&l.static){const v=l.static.get(R);v&&i.push({node:v,index:f+1,skipped:p,depth:S+1,statics:g+1,dynamics:m,optionals:y})}}if(d&&c)return ht(c,d)?d:c;if(d)return d;if(c)return c;if(s&&u){let h=u.index;for(let f=0;f<u.index;f++)h+=o[f].length;const l=h===t.length?"/":t.slice(h);return{node:u.node,skipped:u.skipped,"**":decodeURIComponent(l)}}return null}function ht(t,o){return t?o.statics>t.statics||o.statics===t.statics&&(o.dynamics>t.dynamics||o.dynamics===t.dynamics&&(o.optionals>t.optionals||o.optionals===t.optionals&&((o.node.kind===it)>(t.node.kind===it)||o.node.kind===it==(t.node.kind===it)&&o.depth>t.depth))):!0}function Ct(t){return oe(t.filter(o=>o!==void 0).join("/"))}function oe(t){return t.replace(/\/{2,}/g,"/")}function Te(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Q(t){const o=t.length;return o>1&&t[o-1]==="/"?t.replace(/\/{1,}$/,""):t}function Ee(t){return Q(Te(t))}function Tt(t,o){return t?.endsWith("/")&&t!=="/"&&t!==`${o}/`?t.slice(0,-1):t}function Co(t,o,e){return Tt(t,e)===Tt(o,e)}function bo({base:t,to:o,trailingSlash:e="never",cache:s}){const n=o.startsWith("/"),r=!n&&o===".";let a;if(s){a=n?o:r?t:t+"\0"+o;const h=s.get(a);if(h)return h}let i;if(r)i=t.split("/");else if(n)i=o.split("/");else{for(i=t.split("/");i.length>1&&Mt(i)==="";)i.pop();const h=o.split("/");for(let l=0,f=h.length;l<f;l++){const p=h[l];p===""?l?l===f-1&&i.push(p):i=[p]:p===".."?i.pop():p==="."||i.push(p)}}i.length>1&&(Mt(i)===""?e==="never"&&i.pop():e==="always"&&i.push(""));let c,u="";for(let h=0;h<i.length;h++){h>0&&(u+="/");const l=i[h];if(!l)continue;c=te(l,0,c);const f=c[0];if(f===lt){u+=l;continue}const p=c[5],S=l.substring(0,c[1]),g=l.substring(c[4],p),m=l.substring(c[2],c[3]);f===et?u+=S||g?`${S}{$${m}}${g}`:`$${m}`:f===ot?u+=S||g?`${S}{$}${g}`:"$":u+=`${S}{-$${m}}${g}`}u=oe(u);const d=u||"/";return a&&s&&s.set(a,d),d}function Wt(t,o,e){const s=o[t];return typeof s!="string"?s:t==="_splat"?encodeURI(s):Mo(s,e)}function Ht({path:t,params:o,decodeCharMap:e}){let s=!1;const n={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:n,isMissingParams:s};if(!t.includes("$"))return{interpolatedPath:t,usedParams:n,isMissingParams:s};const r=t.length;let a=0,i,c="";for(;a<r;){const d=a;i=te(t,d,i);const h=i[5];if(a=h+1,d===h)continue;const l=i[0];if(l===lt){c+="/"+t.substring(d,h);continue}if(l===ot){const f=o._splat;n._splat=f,n["*"]=f;const p=t.substring(d,i[1]),S=t.substring(i[4],h);if(!f){s=!0,(p||S)&&(c+="/"+p+S);continue}const g=Wt("_splat",o,e);c+="/"+p+g+S;continue}if(l===et){const f=t.substring(i[2],i[3]);!s&&!(f in o)&&(s=!0),n[f]=o[f];const p=t.substring(d,i[1]),S=t.substring(i[4],h),g=Wt(f,o,e)??"undefined";c+="/"+p+g+S;continue}if(l===vt){const f=t.substring(i[2],i[3]),p=o[f];if(p==null)continue;n[f]=p;const S=t.substring(d,i[1]),g=t.substring(i[4],h),m=Wt(f,o,e)??"";c+="/"+S+m+g;continue}}return t.endsWith("/")&&(c+="/"),{usedParams:n,interpolatedPath:c||"/",isMissingParams:s}}function Mo(t,o){let e=encodeURIComponent(t);if(o)for(const[s,n]of o)e=e.replaceAll(s,n);return e}function A(t){return!!t?.isNotFound}function ko(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Et="tsr-scroll-restoration-v1_3",Io=(t,o)=>{let e;return(...s)=>{e||(e=setTimeout(()=>{t(...s),e=null},o))}};function To(){const t=ko();if(!t)return null;const o=t.getItem(Et);let e=o?JSON.parse(o):{};return{state:e,set:s=>(e=z(s,e)||e,t.setItem(Et,JSON.stringify(e)))}}const xt=To(),Jt=t=>t.state.__TSR_key||t.href;function Eo(t){const o=[];let e;for(;e=t.parentNode;)o.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(e.children,t)+1})`),t=e;return`${o.reverse().join(" > ")}`.toLowerCase()}let Ft=!1;function Fe({storageKey:t,key:o,behavior:e,shouldScrollRestoration:s,scrollToTopSelectors:n,location:r}){let a;try{a=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(u){console.error(u);return}const i=o||window.history.state?.__TSR_key,c=a[i];Ft=!0;t:{if(s&&c&&Object.keys(c).length>0){for(const h in c){const l=c[h];if(h==="window")window.scrollTo({top:l.scrollY,left:l.scrollX,behavior:e});else if(h){const f=document.querySelector(h);f&&(f.scrollLeft=l.scrollX,f.scrollTop=l.scrollY)}}break t}const u=(r??window.location).hash.split("#",2)[1];if(u){const h=window.history.state?.__hashScrollIntoViewOptions??!0;if(h){const l=document.getElementById(u);l&&l.scrollIntoView(h)}break t}const d={top:0,left:0,behavior:e};if(window.scrollTo(d),n)for(const h of n){if(h==="window")continue;const l=typeof h=="function"?h():document.querySelector(h);l&&l.scrollTo(d)}}Ft=!1}function Fo(t,o){if(!xt&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!xt))return;t.isScrollRestorationSetup=!0,Ft=!1;const s=t.options.getScrollRestorationKey||Jt;window.history.scrollRestoration="manual";const n=r=>{if(Ft||!t.isScrollRestoring)return;let a="";if(r.target===document||r.target===window)a="window";else{const c=r.target.getAttribute("data-scroll-restoration-id");c?a=`[data-scroll-restoration-id="${c}"]`:a=Eo(r.target)}const i=s(t.state.location);xt.set(c=>{const u=c[i]||={},d=u[a]||={};if(a==="window")d.scrollX=window.scrollX||0,d.scrollY=window.scrollY||0;else if(a){const h=document.querySelector(a);h&&(d.scrollX=h.scrollLeft||0,d.scrollY=h.scrollTop||0)}return c})};typeof document<"u"&&document.addEventListener("scroll",Io(n,100),!0),t.subscribe("onRendered",r=>{const a=s(r.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(Fe({storageKey:Et,key:a,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&xt.set(i=>(i[a]||={},i)))})}function Bo(t){if(typeof document<"u"&&document.querySelector){const o=t.state.location.state.__hashScrollIntoViewOptions??!0;if(o&&t.state.location.hash!==""){const e=document.getElementById(t.state.location.hash);e&&e.scrollIntoView(o)}}}function Oo(t,o=String){const e=new URLSearchParams;for(const s in t){const n=t[s];n!==void 0&&e.set(s,o(n))}return e.toString()}function Vt(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function Ao(t){const o=new URLSearchParams(t),e={};for(const[s,n]of o.entries()){const r=e[s];r==null?e[s]=Vt(n):Array.isArray(r)?r.push(Vt(n)):e[s]=[r,Vt(n)]}return e}const jo=Do(JSON.parse),No=$o(JSON.stringify,JSON.parse);function Do(t){return o=>{o[0]==="?"&&(o=o.substring(1));const e=Ao(o);for(const s in e){const n=e[s];if(typeof n=="string")try{e[s]=t(n)}catch{}}return e}}function $o(t,o){const e=typeof o=="function";function s(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(e&&typeof n=="string")try{return o(n),t(n)}catch{}return n}return n=>{const r=Oo(n,s);return r?`?${r}`:""}}const O="__root__";function Uo(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const o=new Headers(t.headers);t.href&&o.get("Location")===null&&o.set("Location",t.href);const e=new Response(null,{status:t.statusCode,headers:o});if(e.options=t,t.throw)throw e;return e}function D(t){return t instanceof Response&&!!t.options}const bt=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},At=(t,o)=>!!(t.preload&&!t.router.state.matches.some(e=>e.id===o)),se=(t,o,e=!0)=>{const s={...t.router.options.context??{}},n=e?o:o-1;for(let r=0;r<=n;r++){const a=t.matches[r];if(!a)continue;const i=t.router.getMatch(a.id);i&&Object.assign(s,i.__routeContext,i.__beforeLoadContext)}return s},Be=(t,o)=>{const e=t.router.routesById[o.routeId??""]??t.router.routeTree;!e.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(e.options.notFoundComponent=t.router.options.defaultNotFoundComponent),V(e.options.notFoundComponent);const s=t.matches.find(n=>n.routeId===e.id);V(s,"Could not find match for route: "+e.id),t.updateMatch(s.id,n=>({...n,status:"notFound",error:o,isFetching:!1})),o.routerCode==="BEFORE_LOAD"&&e.parentRoute&&(o.routeId=e.parentRoute.id,Be(t,o))},G=(t,o,e)=>{if(!(!D(e)&&!A(e))){if(D(e)&&e.redirectHandled&&!e.options.reloadDocument)throw e;if(o){o._nonReactive.beforeLoadPromise?.resolve(),o._nonReactive.loaderPromise?.resolve(),o._nonReactive.beforeLoadPromise=void 0,o._nonReactive.loaderPromise=void 0;const s=D(e)?"redirected":"notFound";o._nonReactive.error=e,t.updateMatch(o.id,n=>({...n,status:s,isFetching:!1,error:e})),A(e)&&!e.routeId&&(e.routeId=o.routeId),o._nonReactive.loadPromise?.resolve()}throw D(e)?(t.rendered=!0,e.options._fromLocation=t.location,e.redirectHandled=!0,e=t.router.resolveRedirect(e),e):(Be(t,e),e)}},Oe=(t,o)=>{const e=t.router.getMatch(o);return!!(!t.router.isServer&&e._nonReactive.dehydrated||t.router.isServer&&e.ssr===!1)},dt=(t,o,e,s)=>{const{id:n,routeId:r}=t.matches[o],a=t.router.looseRoutesById[r];if(e instanceof Promise)throw e;e.routerCode=s,t.firstBadMatchIndex??=o,G(t,t.router.getMatch(n),e);try{a.options.onError?.(e)}catch(i){e=i,G(t,t.router.getMatch(n),e)}t.updateMatch(n,i=>(i._nonReactive.beforeLoadPromise?.resolve(),i._nonReactive.beforeLoadPromise=void 0,i._nonReactive.loadPromise?.resolve(),{...i,error:e,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},Ko=(t,o,e,s)=>{const n=t.router.getMatch(o),r=t.matches[e-1]?.id,a=r?t.router.getMatch(r):void 0;if(t.router.isShell()){n.ssr=s.id===O;return}if(a?.ssr===!1){n.ssr=!1;return}const i=f=>f===!0&&a?.ssr==="data-only"?"data-only":f,c=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){n.ssr=i(c);return}if(typeof s.options.ssr!="function"){n.ssr=i(s.options.ssr);return}const{search:u,params:d}=n,h={search:wt(u,n.searchError),params:wt(d,n.paramsError),location:t.location,matches:t.matches.map(f=>({index:f.index,pathname:f.pathname,fullPath:f.fullPath,staticData:f.staticData,id:f.id,routeId:f.routeId,search:wt(f.search,f.searchError),params:wt(f.params,f.paramsError),ssr:f.ssr}))},l=s.options.ssr(h);if(Y(l))return l.then(f=>{n.ssr=i(f??c)});n.ssr=i(l??c)},Ae=(t,o,e,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const n=e.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!At(t,o)&&(e.options.loader||e.options.beforeLoad||De(e))&&typeof n=="number"&&n!==1/0&&(e.options.pendingComponent??t.router.options?.defaultPendingComponent))){const a=setTimeout(()=>{bt(t)},n);s._nonReactive.pendingTimeout=a}},Wo=(t,o,e)=>{const s=t.router.getMatch(o);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;Ae(t,o,e,s);const n=()=>{const r=t.router.getMatch(o);r.preload&&(r.status==="redirected"||r.status==="notFound")&&G(t,r,r.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(n):n()},Ho=(t,o,e,s)=>{const n=t.router.getMatch(o),r=n._nonReactive.loadPromise;n._nonReactive.loadPromise=ct(()=>{r?.resolve()});const{paramsError:a,searchError:i}=n;a&&dt(t,e,a,"PARSE_PARAMS"),i&&dt(t,e,i,"VALIDATE_SEARCH"),Ae(t,o,s,n);const c=new AbortController,u=t.matches[e-1]?.id;(u?t.router.getMatch(u):void 0)?.context??t.router.options.context;let h=!1;const l=()=>{h||(h=!0,t.updateMatch(o,v=>({...v,isFetching:"beforeLoad",fetchCount:v.fetchCount+1,abortController:c})))},f=()=>{n._nonReactive.beforeLoadPromise?.resolve(),n._nonReactive.beforeLoadPromise=void 0,t.updateMatch(o,v=>({...v,isFetching:!1}))};if(!s.options.beforeLoad){mt(()=>{l(),f()});return}n._nonReactive.beforeLoadPromise=ct();const p={...se(t,e,!1),...n.__routeContext},{search:S,params:g,cause:m}=n,y=At(t,o),w={search:S,abortController:c,params:g,preload:y,context:p,location:t.location,navigate:v=>t.router.navigate({...v,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:y?"preload":m,matches:t.matches,...t.router.options.additionalContext},R=v=>{if(v===void 0){mt(()=>{l(),f()});return}(D(v)||A(v))&&(l(),dt(t,e,v,"BEFORE_LOAD")),mt(()=>{l(),t.updateMatch(o,x=>({...x,__beforeLoadContext:v})),f()})};let M;try{if(M=s.options.beforeLoad(w),Y(M))return l(),M.catch(v=>{dt(t,e,v,"BEFORE_LOAD")}).then(R)}catch(v){l(),dt(t,e,v,"BEFORE_LOAD")}R(M)},Vo=(t,o)=>{const{id:e,routeId:s}=t.matches[o],n=t.router.looseRoutesById[s],r=()=>{if(t.router.isServer){const c=Ko(t,e,o,n);if(Y(c))return c.then(i)}return i()},a=()=>Ho(t,e,o,n),i=()=>{if(Oe(t,e))return;const c=Wo(t,e,n);return Y(c)?c.then(a):a()};return r()},zo=(t,o,e)=>{const s=t.router.getMatch(o);if(!s||!e.options.head&&!e.options.scripts&&!e.options.headers)return;const n={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([e.options.head?.(n),e.options.scripts?.(n),e.options.headers?.(n)]).then(([r,a,i])=>{const c=r?.meta,u=r?.links,d=r?.scripts,h=r?.styles;return{meta:c,links:u,headScripts:d,headers:i,scripts:a,styles:h}})},je=(t,o,e,s)=>{const n=t.matchPromises[e-1],{params:r,loaderDeps:a,abortController:i,cause:c}=t.router.getMatch(o),u=se(t,e),d=At(t,o);return{params:r,deps:a,preload:!!d,parentMatchPromise:n,abortController:i,context:u,location:t.location,navigate:h=>t.router.navigate({...h,_fromLocation:t.location}),cause:d?"preload":c,route:s,...t.router.options.additionalContext}},xe=async(t,o,e,s)=>{try{const n=t.router.getMatch(o);try{(!t.router.isServer||n.ssr===!0)&&Ne(s);const r=s.options.loader?.(je(t,o,e,s)),a=s.options.loader&&Y(r);if((a||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||n._nonReactive.minPendingPromise)&&t.updateMatch(o,u=>({...u,isFetching:"loader"})),s.options.loader){const u=a?await r:r;G(t,t.router.getMatch(o),u),u!==void 0&&t.updateMatch(o,d=>({...d,loaderData:u}))}s._lazyPromise&&await s._lazyPromise;const c=n._nonReactive.minPendingPromise;c&&await c,s._componentsPromise&&await s._componentsPromise,t.updateMatch(o,u=>({...u,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(r){let a=r;const i=n._nonReactive.minPendingPromise;i&&await i,A(r)&&await s.options.notFoundComponent?.preload?.(),G(t,t.router.getMatch(o),r);try{s.options.onError?.(r)}catch(c){a=c,G(t,t.router.getMatch(o),c)}t.updateMatch(o,c=>({...c,error:a,status:"error",isFetching:!1}))}}catch(n){const r=t.router.getMatch(o);r&&(r._nonReactive.loaderPromise=void 0),G(t,r,n)}},Go=async(t,o)=>{const{id:e,routeId:s}=t.matches[o];let n=!1,r=!1;const a=t.router.looseRoutesById[s],i=()=>{t.updateMatch(e,d=>({...d,context:se(t,o)}))};if(Oe(t,e)){if(t.router.isServer)return t.router.getMatch(e)}else{const d=t.router.getMatch(e);if(d._nonReactive.loaderPromise){if(d.status==="success"&&!t.sync&&!d.preload)return d;await d._nonReactive.loaderPromise;const h=t.router.getMatch(e),l=h._nonReactive.error||h.error;l&&G(t,h,l)}else{const h=Date.now()-d.updatedAt,l=At(t,e),f=l?a.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:a.options.staleTime??t.router.options.defaultStaleTime??0,p=a.options.shouldReload,S=typeof p=="function"?p(je(t,e,o,a)):p,g=!!l&&!t.router.state.matches.some(R=>R.id===e),m=t.router.getMatch(e);m._nonReactive.loaderPromise=ct(),g!==m.preload&&t.updateMatch(e,R=>({...R,preload:g}));const{status:y,invalid:w}=m;n=y==="success"&&(w||(S??h>f)),l&&a.options.preload===!1||(n&&!t.sync?(r=!0,(async()=>{try{await xe(t,e,o,a),i();const R=t.router.getMatch(e);R._nonReactive.loaderPromise?.resolve(),R._nonReactive.loadPromise?.resolve(),R._nonReactive.loaderPromise=void 0}catch(R){D(R)&&await t.router.navigate(R.options)}})()):(y!=="success"||n&&t.sync)&&await xe(t,e,o,a))}}const c=t.router.getMatch(e);r||(c._nonReactive.loaderPromise?.resolve(),c._nonReactive.loadPromise?.resolve()),clearTimeout(c._nonReactive.pendingTimeout),c._nonReactive.pendingTimeout=void 0,r||(c._nonReactive.loaderPromise=void 0),c._nonReactive.dehydrated=void 0,r||i();const u=r?c.isFetching:!1;return u!==c.isFetching||c.invalid!==!1?(t.updateMatch(e,d=>({...d,isFetching:u,invalid:!1})),t.router.getMatch(e)):c};async function we(t){const o=Object.assign(t,{matchPromises:[]});!o.router.isServer&&o.router.state.matches.some(e=>e._forcePending)&&bt(o);try{for(let i=0;i<o.matches.length;i++){const c=Vo(o,i);Y(c)&&await c}const e=o.firstBadMatchIndex??o.matches.length;for(let i=0;i<e;i++)o.matchPromises.push(Go(o,i));const n=(await Promise.allSettled(o.matchPromises)).filter(i=>i.status==="rejected").map(i=>i.reason);let r;for(const i of n){if(D(i))throw i;!r&&A(i)&&(r=i)}for(const i of o.matches){const{id:c,routeId:u}=i,d=o.router.looseRoutesById[u];try{const h=zo(o,c,d);if(h){const l=await h;o.updateMatch(c,f=>({...f,...l}))}}catch(h){console.error(`Error executing head for route ${u}:`,h)}}if(r)throw r;const a=bt(o);Y(a)&&await a}catch(e){if(A(e)&&!o.preload){const s=bt(o);throw Y(s)&&await s,e}if(D(e))throw e}return o.matches}async function Ne(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(o=>{const{id:e,...s}=o.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const o=()=>{const e=[];for(const s of $e){const n=t.options[s]?.preload;n&&e.push(n())}if(e.length)return Promise.all(e).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(o):o()}return t._componentsPromise}function wt(t,o){return o?{status:"error",error:o}:{status:"success",value:t}}function De(t){for(const o of $e)if(t.options[o]?.preload)return!0;return!1}const $e=["component","errorComponent","pendingComponent","notFoundComponent"];function qo(t){return{input:({url:o})=>{for(const e of t)o=Ue(e,o);return o},output:({url:o})=>{for(let e=t.length-1;e>=0;e--)o=Xt(t[e],o);return o}}}function Yo(t){const o=Ee(t.basepath),e=`/${o}`,s=`${e}/`,n=t.caseSensitive?e:e.toLowerCase(),r=t.caseSensitive?s:s.toLowerCase();return{input:({url:a})=>{const i=t.caseSensitive?a.pathname:a.pathname.toLowerCase();return i===n?a.pathname="/":i.startsWith(r)&&(a.pathname=a.pathname.slice(e.length)),a},output:({url:a})=>(a.pathname=Ct(["/",o,a.pathname]),a)}}function Ue(t,o){const e=t?.input?.({url:o});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return o}function Xt(t,o){const e=t?.output?.({url:o});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return o}function tt(t){const o=t.resolvedLocation,e=t.location,s=o?.pathname!==e.pathname,n=o?.href!==e.href,r=o?.hash!==e.hash;return{fromLocation:o,toLocation:e,pathChanged:s,hrefChanged:n,hashChanged:r}}class Jo{constructor(o){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{e.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,n=this.basepath??s?.basepath??"/",r=this.basepath===void 0,a=s?.rewrite;this.options={...s,...e},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(l=>[encodeURIComponent(l),l])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=ao())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new oo(Zo(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(l=>!["redirected"].includes(l.status))}}}),Fo(this));let i=!1;const c=this.options.basepath??"/",u=this.options.rewrite;if(r||n!==c||a!==u){this.basepath=c;const l=[];Ee(c)!==""&&l.push(Yo({basepath:c})),u&&l.push(u),this.rewrite=l.length===0?void 0:l.length===1?l[0]:qo(l),this.history&&this.updateLatestLocation(),i=!0}i&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:e,routesByPath:s,processedTree:n}=_o(this.routeTree,this.options.caseSensitive,(a,i)=>{a.init({originalIndex:i})});this.options.routeMasks&&go(this.options.routeMasks,n),this.routesById=e,this.routesByPath=s,this.processedTree=n;const r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999}),this.routesById[r.id]=r)},this.subscribe=(e,s)=>{const n={eventType:e,fn:s};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=e=>{this.subscribers.forEach(s=>{s.eventType===e.type&&s.fn(e)})},this.parseLocation=(e,s)=>{const n=({href:c,state:u})=>{const d=new URL(c,this.origin),h=Ue(this.rewrite,d),l=this.options.parseSearch(h.search),f=this.options.stringifySearch(l);h.search=f;const p=h.href.replace(h.origin,""),S=h.pathname,g=new URL(h.href),m=Xt(this.rewrite,g),y=m.pathname+m.search+m.hash;return{href:p,publicHref:y,url:h,pathname:Re(S),searchStr:f,search:N(s?.search,l),hash:h.hash.split("#").reverse()[0]??"",state:N(s?.state,u)}},r=n(e),{__tempLocation:a,__tempKey:i}=r.state;if(a&&(!i||i===this.tempLocationKey)){const c=n(a);return c.state.key=r.state.key,c.state.__TSR_key=r.state.__TSR_key,delete c.state.__tempLocation,{...c,maskedLocation:r}}return r},this.resolvePathCache=It(1e3),this.resolvePathWithBase=(e,s)=>bo({base:e,to:oe(s),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(e,s,n)=>typeof e=="string"?this.matchRoutesInternal({pathname:e,search:s},n):this.matchRoutesInternal(e,s),this.getMatchedRoutes=e=>Qo({pathname:e,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=e=>{const s=this.getMatch(e);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const e=this.state.matches.filter(r=>r.status==="pending"),s=this.state.matches.filter(r=>r.isFetching==="loader");new Set([...this.state.pendingMatches??[],...e,...s]).forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=e=>{const s=(r={})=>{const a=r._fromLocation||this.pendingBuiltLocation||this.latestLocation,i=this.matchRoutes(a,{_buildLocation:!0}),c=Mt(i);r.from;const u=r.unsafeRelative==="path"?a.pathname:r.from??c.fullPath,d=this.resolvePathWithBase(u,"."),h=c.search,l={...c.params},f=r.to?this.resolvePathWithBase(d,`${r.to}`):this.resolvePathWithBase(d,"."),p=r.params===!1||r.params===null?{}:(r.params??!0)===!0?l:Object.assign(l,z(r.params,l)),S=Ht({path:f,params:p}).interpolatedPath,g=this.matchRoutes(S,void 0,{_buildLocation:!0}).map(b=>this.looseRoutesById[b.routeId]);if(Object.keys(p).length>0)for(const b of g){const k=b.options.params?.stringify??b.options.stringifyParams;k&&Object.assign(p,k(p))}const m=e.leaveParams?f:Re(Ht({path:f,params:p,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let y=h;if(e._includeValidateSearch&&this.options.search?.strict){const b={};g.forEach(k=>{if(k.options.validateSearch)try{Object.assign(b,Zt(k.options.validateSearch,{...b,...y}))}catch{}}),y=b}y=ts({search:y,dest:r,destRoutes:g,_includeValidateSearch:e._includeValidateSearch}),y=N(h,y);const w=this.options.stringifySearch(y),R=r.hash===!0?a.hash:r.hash?z(r.hash,a.hash):void 0,M=R?`#${R}`:"";let v=r.state===!0?a.state:r.state?z(r.state,a.state):{};v=N(a.state,v);const x=`${m}${w}${M}`,_=new URL(x,this.origin),L=Xt(this.rewrite,_);return{publicHref:L.pathname+L.search+L.hash,href:x,url:L,pathname:m,search:y,searchStr:w,state:v,hash:R??"",unmaskOnReload:r.unmaskOnReload}},n=(r={},a)=>{const i=s(r);let c=a?s(a):void 0;if(!c){const u={};if(this.options.routeMasks){const d=yo(i.pathname,this.processedTree);if(d){Object.assign(u,d.params);const{from:h,params:l,...f}=d.route,p=l===!1||l===null?{}:(l??!0)===!0?u:Object.assign(u,z(l,u));a={from:e.from,...f,params:p},c=s(a)}}}return c&&(i.maskedLocation=c),i};return e.mask?n(e,{from:e.from,...e.mask}):n(e)},this.commitLocation=({viewTransition:e,ignoreBlocker:s,...n})=>{const r=()=>{const c=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];c.forEach(d=>{n.state[d]=this.latestLocation.state[d]});const u=Z(n.state,this.latestLocation.state);return c.forEach(d=>{delete n.state[d]}),u},a=Q(this.latestLocation.href)===Q(n.href),i=this.commitLocationPromise;if(this.commitLocationPromise=ct(()=>{i?.resolve()}),a&&r())this.load();else{let{maskedLocation:c,hashScrollIntoView:u,url:d,...h}=n;c&&(h={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...h,search:h.searchStr,state:{...h.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(h.unmaskOnReload??this.options.unmaskOnReload??!1)&&(h.state.__tempKey=this.tempLocationKey)),h.state.__hashScrollIntoViewOptions=u??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=e,this.history[n.replace?"replace":"push"](h.publicHref,h.state,{ignoreBlocker:s})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:e,resetScroll:s,hashScrollIntoView:n,viewTransition:r,ignoreBlocker:a,href:i,...c}={})=>{if(i){const h=this.history.location.state.__TSR_index,l=yt(i,{__TSR_index:e?h:h+1});c.to=l.pathname,c.search=this.options.parseSearch(l.search),c.hash=l.hash.slice(1)}const u=this.buildLocation({...c,_includeValidateSearch:!0});this.pendingBuiltLocation=u;const d=this.commitLocation({...u,viewTransition:r,replace:e,resetScroll:s,hashScrollIntoView:n,ignoreBlocker:a});return Promise.resolve().then(()=>{this.pendingBuiltLocation===u&&(this.pendingBuiltLocation=void 0)}),d},this.navigate=async({to:e,reloadDocument:s,href:n,publicHref:r,...a})=>{let i=!1;if(n)try{new URL(`${n}`),i=!0}catch{}if(i&&!s&&(s=!0),s){if(!n||!r&&!i){const u=this.buildLocation({to:e,...a});n=n??u.url.href,r=r??u.url.href}const c=!i&&r?r:n;if(!a.ignoreBlocker){const d=this.history.getBlockers?.()??[];for(const h of d)if(h?.blockerFn&&await h.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(c):window.location.href=c,Promise.resolve()}return this.buildAndCommitLocation({...a,href:n,to:e,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==s.publicHref||s.url.origin!==this.origin){const n=this.getParsedLocationHref(s);throw Uo({href:n})}}const e=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:e,cachedMatches:s.cachedMatches.filter(n=>!e.some(r=>r.id===n.id))}))},this.load=async e=>{let s,n,r;for(r=new Promise(i=>{this.startTransition(async()=>{try{this.beforeLoad();const c=this.latestLocation,u=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...tt({resolvedLocation:u,location:c})}),this.emit({type:"onBeforeLoad",...tt({resolvedLocation:u,location:c})}),await we({router:this,sync:e?.sync,matches:this.state.pendingMatches,location:c,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let d=[],h=[],l=[];mt(()=>{this.__store.setState(f=>{const p=f.matches,S=f.pendingMatches||f.matches;return d=p.filter(g=>!S.some(m=>m.id===g.id)),h=S.filter(g=>!p.some(m=>m.id===g.id)),l=S.filter(g=>p.some(m=>m.id===g.id)),{...f,isLoading:!1,loadedAt:Date.now(),matches:S,pendingMatches:void 0,cachedMatches:[...f.cachedMatches,...d.filter(g=>g.status!=="error"&&g.status!=="notFound")]}}),this.clearExpiredCache()}),[[d,"onLeave"],[h,"onEnter"],[l,"onStay"]].forEach(([f,p])=>{f.forEach(S=>{this.looseRoutesById[S.routeId].options[p]?.(S)})})})})}})}catch(c){D(c)?(s=c,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):A(c)&&(n=c),this.__store.setState(u=>({...u,statusCode:s?s.status:n?404:u.matches.some(d=>d.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===r&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})}),this.latestLoadPromise=r,await r;this.latestLoadPromise&&r!==this.latestLoadPromise;)await this.latestLoadPromise;let a;this.hasNotFoundMatch()?a=404:this.__store.state.matches.some(i=>i.status==="error")&&(a=500),a!==void 0&&this.__store.setState(i=>({...i,statusCode:a}))},this.startViewTransition=e=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const r=this.latestLocation,a=this.state.resolvedLocation,i=typeof s.types=="function"?s.types(tt({resolvedLocation:a,location:r})):s.types;if(i===!1){e();return}n={update:e,types:i}}else n=e;document.startViewTransition(n)}else e()},this.updateMatch=(e,s)=>{this.startTransition(()=>{const n=this.state.pendingMatches?.some(r=>r.id===e)?"pendingMatches":this.state.matches.some(r=>r.id===e)?"matches":this.state.cachedMatches.some(r=>r.id===e)?"cachedMatches":"";n&&this.__store.setState(r=>({...r,[n]:r[n]?.map(a=>a.id===e?s(a):a)}))})},this.getMatch=e=>{const s=n=>n.id===e;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=e=>{const s=n=>e?.filter?.(n)??!0?{...n,invalid:!0,...e?.forcePending||n.status==="error"||n.status==="notFound"?{status:"pending",error:void 0}:void 0}:n;return this.__store.setState(n=>({...n,matches:n.matches.map(s),cachedMatches:n.cachedMatches.map(s),pendingMatches:n.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:e?.sync})},this.getParsedLocationHref=e=>{let s=e.url.href;return this.origin&&e.url.origin===this.origin&&(s=s.replace(this.origin,"")||"/"),s},this.resolveRedirect=e=>{if(!e.options.href){const s=this.buildLocation(e.options),n=this.getParsedLocationHref(s);e.options.href=s.href,e.headers.set("Location",n)}return e.headers.get("Location")||e.headers.set("Location",e.options.href),e},this.clearCache=e=>{const s=e?.filter;s!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(r=>!s(r))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const e=s=>{const n=this.looseRoutesById[s.routeId];if(!n.options.loader)return!0;const r=(s.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=r};this.clearCache({filter:e})},this.loadRouteChunk=Ne,this.preloadRoute=async e=>{const s=this.buildLocation(e);let n=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:e});const r=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(i=>i.id)),a=new Set([...r,...this.state.cachedMatches.map(i=>i.id)]);mt(()=>{n.forEach(i=>{a.has(i.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,i]}))})});try{return n=await we({router:this,matches:n,location:s,preload:!0,updateMatch:(i,c)=>{r.has(i)?n=n.map(u=>u.id===i?c(u):u):this.updateMatch(i,c)}}),n}catch(i){if(D(i))return i.options.reloadDocument?void 0:await this.preloadRoute({...i.options,_fromLocation:s});A(i)||console.error(i);return}},this.matchRoute=(e,s)=>{const n={...e,to:e.to?this.resolvePathWithBase(e.from||"",e.to):void 0,params:e.params||{},leaveParams:!0},r=this.buildLocation(n);if(s?.pending&&this.state.status!=="pending")return!1;const i=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,c=vo(r.pathname,s?.caseSensitive??!1,s?.fuzzy??!1,i.pathname,this.processedTree);return!c||e.params&&!Z(c.params,e.params,{partial:!0})?!1:s?.includeSearch??!0?Z(i.search,r.search,{partial:!0})?c.params:!1:c.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status==="notFound"||e.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...o,caseSensitive:o.caseSensitive??!1,notFoundMode:o.notFoundMode??"fuzzy",stringifySearch:o.stringifySearch??No,parseSearch:o.parseSearch??jo}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(o,e){const s=this.getMatchedRoutes(o.pathname),{foundRoute:n,routeParams:r}=s;let{matchedRoutes:a}=s,i=!1;(n?n.path!=="/"&&r["**"]:Q(o.pathname))&&(this.options.notFoundRoute?a=[...a,this.options.notFoundRoute]:i=!0);const c=(()=>{if(i){if(this.options.notFoundMode!=="root")for(let h=a.length-1;h>=0;h--){const l=a[h];if(l.children)return l.id}return O}})(),u=[],d=h=>h?.id?h.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((h,l)=>{const f=u[l-1],[p,S,g]=(()=>{const B=f?.search??o.search,$=f?._strictSearch??void 0;try{const U=Zt(h.options.validateSearch,{...B})??void 0;return[{...B,...U},{...$,...U},void 0]}catch(U){let st=U;if(U instanceof Bt||(st=new Bt(U.message,{cause:U})),e?.throwOnError)throw st;return[B,{},st]}})(),m=h.options.loaderDeps?.({search:p})??"",y=m?JSON.stringify(m):"",{interpolatedPath:w,usedParams:R}=Ht({path:h.fullPath,params:r,decodeCharMap:this.pathParamsDecodeCharMap}),M=h.id+w+y,v=this.getMatch(M),x=this.state.matches.find(B=>B.routeId===h.id),_=v?._strictParams??R;let L;if(!v){const B=h.options.params?.parse??h.options.parseParams;if(B)try{Object.assign(_,B(_))}catch($){if(A($)||D($)?L=$:L=new Xo($.message,{cause:$}),e?.throwOnError)throw L}}Object.assign(r,_);const b=x?"stay":"enter";let k;if(v)k={...v,cause:b,params:x?N(x.params,r):r,_strictParams:_,search:N(x?x.search:v.search,p),_strictSearch:S};else{const B=h.options.loader||h.options.beforeLoad||h.lazyFn||De(h)?"pending":"success";k={id:M,ssr:this.isServer?void 0:h.options.ssr,index:l,routeId:h.id,params:x?N(x.params,r):r,_strictParams:_,pathname:w,updatedAt:Date.now(),search:x?N(x.search,p):p,_strictSearch:S,searchError:void 0,status:B,isFetching:!1,error:void 0,paramsError:L,__routeContext:void 0,_nonReactive:{loadPromise:ct()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:b,loaderDeps:x?N(x.loaderDeps,m):m,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},fullPath:h.fullPath}}e?.preload||(k.globalNotFound=c===h.id),k.searchError=g;const F=d(f);k.context={...F,...k.__routeContext,...k.__beforeLoadContext},u.push(k)}),u.forEach((h,l)=>{const f=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&e?._buildLocation!==!0){const S=u[l-1],g=d(S);if(f.options.context){const m={deps:h.loaderDeps,params:h.params,context:g??{},location:o,navigate:y=>this.navigate({...y,_fromLocation:o}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:u};h.__routeContext=f.options.context(m)??void 0}h.context={...g,...h.__routeContext,...h.__beforeLoadContext}}}),u}}class Bt extends Error{}class Xo extends Error{}function Zo(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Zt(t,o){if(t==null)return{};if("~standard"in t){const e=t["~standard"].validate(o);if(e instanceof Promise)throw new Bt("Async validation not supported");if(e.issues)throw new Bt(JSON.stringify(e.issues,void 0,2),{cause:e});return e.value}return"parse"in t?t.parse(o):typeof t=="function"?t(o):{}}function Qo({pathname:t,routesById:o,processedTree:e}){const s={},n=Q(t);let r;const a=So(n,e,!0);return a&&(r=a.route,Object.assign(s,a.params)),{matchedRoutes:a?.branch||[o[O]],routeParams:s,foundRoute:r}}function ts({search:t,dest:o,destRoutes:e,_includeValidateSearch:s}){const n=e.reduce((i,c)=>{const u=[];if("search"in c.options)c.options.search?.middlewares&&u.push(...c.options.search.middlewares);else if(c.options.preSearchFilters||c.options.postSearchFilters){const d=({search:h,next:l})=>{let f=h;"preSearchFilters"in c.options&&c.options.preSearchFilters&&(f=c.options.preSearchFilters.reduce((S,g)=>g(S),h));const p=l(f);return"postSearchFilters"in c.options&&c.options.postSearchFilters?c.options.postSearchFilters.reduce((S,g)=>g(S),p):p};u.push(d)}if(s&&c.options.validateSearch){const d=({search:h,next:l})=>{const f=l(h);try{return{...f,...Zt(c.options.validateSearch,f)??void 0}}catch{return f}};u.push(d)}return i.concat(u)},[])??[],r=({search:i})=>o.search?o.search===!0?i:z(o.search,i):{};n.push(r);const a=(i,c)=>{if(i>=n.length)return c;const u=n[i];return u({search:c,next:h=>a(i+1,h)})};return a(0,t)}const es="Error preloading route! ";class Ke{constructor(o){if(this.init=e=>{this.originalIndex=e.originalIndex;const s=this.options,n=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),n?this._path=O:this.parentRoute||V(!1);let r=n?O:s?.path;r&&r!=="/"&&(r=Te(r));const a=s?.id||r;let i=n?O:Ct([this.parentRoute.id===O?"":this.parentRoute.id,a]);r===O&&(r="/"),i!==O&&(i=Ct(["/",i]));const c=i===O?"/":Ct([this.parentRoute.fullPath,r]);this._path=r,this._id=i,this._fullPath=c,this._to=c},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.options=o||{},this.isRoot=!o?.getParentRoute,o?.id&&o?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class os extends Ke{constructor(o){super(o)}}function ne(t){const o=t.errorComponent??jt;return P.jsx(ss,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:e,reset:s})=>e?C.createElement(o,{error:e,reset:s}):t.children})}class ss extends C.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(o){return{resetKey:o.getResetKey()}}static getDerivedStateFromError(o){return{error:o}}reset(){this.setState({error:null})}componentDidUpdate(o,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(o,e){this.props.onCatch&&this.props.onCatch(o,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function jt({error:t}){const[o,e]=C.useState(!1);return P.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[P.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),P.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>e(s=>!s),children:o?"Hide Error":"Show Error"})]}),P.jsx("div",{style:{height:".25rem"}}),o?P.jsx("div",{children:P.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?P.jsx("code",{children:t.message}):null})}):null]})}function ns({children:t,fallback:o=null}){return rs()?P.jsx(gt.Fragment,{children:t}):P.jsx(gt.Fragment,{children:o})}function rs(){return gt.useSyncExternalStore(is,()=>!0,()=>!1)}function is(){return()=>{}}const zt=C.createContext(null);function We(){return typeof document>"u"?zt:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=zt,zt)}function j(t){const o=C.useContext(We());return t?.warn,o}function E(t){const o=j({warn:t?.router===void 0}),e=t?.router||o,s=C.useRef(void 0);return so(e.__store,n=>{if(t?.select){if(t.structuralSharing??e.options.defaultStructuralSharing){const r=N(s.current,t.select(n));return s.current=r,r}return t.select(n)}return n})}const Nt=C.createContext(void 0),as=C.createContext(void 0);function W(t){const o=C.useContext(t.from?as:Nt);return E({select:s=>{const n=s.matches.find(r=>t.from?t.from===r.routeId:r.id===o);if(V(!((t.shouldThrow??!0)&&!n),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),n!==void 0)return t.select?t.select(n):n},structuralSharing:t.structuralSharing})}function re(t){return W({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:o=>t.select?t.select(o.loaderData):o.loaderData})}function ie(t){const{select:o,...e}=t;return W({...e,select:s=>o?o(s.loaderDeps):s.loaderDeps})}function ae(t){return W({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:o=>{const e=t.strict===!1?o.params:o._strictParams;return t.select?t.select(e):e}})}function ce(t){return W({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:o=>t.select?t.select(o.search):o.search})}const Lt=typeof window<"u"?C.useLayoutEffect:C.useEffect;function Gt(t){const o=C.useRef({value:t,prev:null}),e=o.current.value;return t!==e&&(o.current={value:t,prev:e}),o.current.prev}function cs(t,o,e={},s={}){C.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const n=new IntersectionObserver(([r])=>{o(r)},e);return n.observe(t.current),()=>{n.disconnect()}},[o,e,s.disabled,t])}function ls(t){const o=C.useRef(null);return C.useImperativeHandle(t,()=>o.current,[]),o}function le(t){const o=j();return C.useCallback(e=>o.navigate({...e,from:e.from??t?.from}),[t?.from,o])}function us(t,o){const e=j(),[s,n]=C.useState(!1),r=C.useRef(!1),a=ls(o),{activeProps:i,inactiveProps:c,activeOptions:u,to:d,preload:h,preloadDelay:l,hashScrollIntoView:f,replace:p,startTransition:S,resetScroll:g,viewTransition:m,children:y,target:w,disabled:R,style:M,className:v,onClick:x,onFocus:_,onMouseEnter:L,onMouseLeave:b,onTouchStart:k,ignoreBlocker:F,params:B,search:$,hash:U,state:st,mask:Ye,reloadDocument:Es,unsafeRelative:Fs,from:Bs,_fromLocation:Os,...ue}=t,Je=E({select:I=>I.location.search,structuralSharing:!0}),he=t.from,ut=C.useMemo(()=>({...t,from:he}),[e,Je,he,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),H=C.useMemo(()=>e.buildLocation({...ut}),[e,ut]),St=C.useMemo(()=>{if(R)return;let I=H.maskedLocation?H.maskedLocation.url.href:H.url.href,T=!1;return e.origin&&(I.startsWith(e.origin)?I=e.history.createHref(I.replace(e.origin,""))||"/":T=!0),{href:I,external:T}},[R,H.maskedLocation,H.url,e.origin,e.history]),Pt=C.useMemo(()=>{if(St?.external)return St.href;try{return new URL(d),d}catch{}},[d,St]),nt=t.reloadDocument||Pt?!1:h??e.options.defaultPreload,Dt=l??e.options.defaultPreloadDelay??0,$t=E({select:I=>{if(Pt)return!1;if(u?.exact){if(!Co(I.location.pathname,H.pathname,e.basepath))return!1}else{const T=Tt(I.location.pathname,e.basepath),K=Tt(H.pathname,e.basepath);if(!(T.startsWith(K)&&(T.length===K.length||T[K.length]==="/")))return!1}return(u?.includeSearch??!0)&&!Z(I.location.search,H.search,{partial:!u?.exact,ignoreUndefined:!u?.explicitUndefined})?!1:u?.includeHash?I.location.hash===H.hash:!0}}),J=C.useCallback(()=>{e.preloadRoute({...ut}).catch(I=>{console.warn(I),console.warn(es)})},[e,ut]),Xe=C.useCallback(I=>{I?.isIntersecting&&J()},[J]);cs(a,Xe,ms,{disabled:!!R||nt!=="viewport"}),C.useEffect(()=>{r.current||!R&&nt==="render"&&(J(),r.current=!0)},[R,J,nt]);const Ze=I=>{const T=I.currentTarget.getAttribute("target"),K=w!==void 0?w:T;if(!R&&!gs(I)&&!I.defaultPrevented&&(!K||K==="_self")&&I.button===0){I.preventDefault(),io.flushSync(()=>{n(!0)});const me=e.subscribe("onResolved",()=>{me(),n(!1)});e.navigate({...ut,replace:p,resetScroll:g,hashScrollIntoView:f,startTransition:S,viewTransition:m,ignoreBlocker:F})}};if(Pt)return{...ue,ref:a,href:Pt,...y&&{children:y},...w&&{target:w},...R&&{disabled:R},...M&&{style:M},...v&&{className:v},...x&&{onClick:x},..._&&{onFocus:_},...L&&{onMouseEnter:L},...b&&{onMouseLeave:b},...k&&{onTouchStart:k}};const de=I=>{R||nt&&J()},Qe=de,to=I=>{if(!(R||!nt))if(!Dt)J();else{const T=I.target;if(ft.has(T))return;const K=setTimeout(()=>{ft.delete(T),J()},Dt);ft.set(T,K)}},eo=I=>{if(R||!nt||!Dt)return;const T=I.target,K=ft.get(T);K&&(clearTimeout(K),ft.delete(T))},_t=$t?z(i,{})??hs:qt,Rt=$t?qt:z(c,{})??qt,fe=[v,_t.className,Rt.className].filter(Boolean).join(" "),pe=(M||_t.style||Rt.style)&&{...M,..._t.style,...Rt.style};return{...ue,..._t,...Rt,href:St?.href,ref:a,onClick:pt([x,Ze]),onFocus:pt([_,de]),onMouseEnter:pt([L,to]),onMouseLeave:pt([b,eo]),onTouchStart:pt([k,Qe]),disabled:!!R,target:w,...pe&&{style:pe},...fe&&{className:fe},...R&&ds,...$t&&fs,...s&&ps}}const qt={},hs={className:"active"},ds={role:"link","aria-disabled":!0},fs={"data-status":"active","aria-current":"page"},ps={"data-transitioning":"transitioning"},ft=new WeakMap,ms={rootMargin:"100px"},pt=t=>o=>{for(const e of t)if(e){if(o.defaultPrevented)return;e(o)}},He=C.forwardRef((t,o)=>{const{_asChild:e,...s}=t,{type:n,ref:r,...a}=us(s,o),i=typeof s.children=="function"?s.children({isActive:a["data-status"]==="active"}):s.children;return e===void 0&&delete a.disabled,C.createElement(e||"a",{...a,ref:r},i)});function gs(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class ys extends Ke{constructor(o){super(o),this.useMatch=e=>W({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>W({...e,from:this.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>ie({...e,from:this.id}),this.useLoaderData=e=>re({...e,from:this.id}),this.useNavigate=()=>le({from:this.fullPath}),this.Link=gt.forwardRef((e,s)=>P.jsx(He,{ref:s,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function Ve(t){return new ys(t)}class vs extends os{constructor(o){super(o),this.useMatch=e=>W({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>W({...e,from:this.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>ie({...e,from:this.id}),this.useLoaderData=e=>re({...e,from:this.id}),this.useNavigate=()=>le({from:this.fullPath}),this.Link=gt.forwardRef((e,s)=>P.jsx(He,{ref:s,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function Ss(t){return new vs(t)}function Le(t){return typeof t=="object"?new Ce(t,{silent:!0}).createRoute(t):new Ce(t,{silent:!0}).createRoute}class Ce{constructor(o,e){this.path=o,this.createRoute=s=>{this.silent;const n=Ve(s);return n.isRoot=!1,n},this.silent=e?.silent}}class be{constructor(o){this.useMatch=e=>W({select:e?.select,from:this.options.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>W({from:this.options.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useParams=e=>ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useLoaderDeps=e=>ie({...e,from:this.options.id}),this.useLoaderData=e=>re({...e,from:this.options.id}),this.useNavigate=()=>{const e=j();return le({from:e.routesById[this.options.id].fullPath})},this.options=o,this.$$typeof=Symbol.for("react.memo")}}function Me(t){return typeof t=="object"?new be(t):o=>new be({id:t,...o})}function Ps(){const t=j(),o=C.useRef({router:t,mounted:!1}),[e,s]=C.useState(!1),{hasPendingMatches:n,isLoading:r}=E({select:h=>({isLoading:h.isLoading,hasPendingMatches:h.matches.some(l=>l.status==="pending")}),structuralSharing:!0}),a=Gt(r),i=r||e||n,c=Gt(i),u=r||n,d=Gt(u);return t.startTransition=h=>{s(!0),C.startTransition(()=>{h(),s(!1)})},C.useEffect(()=>{const h=t.history.subscribe(t.load),l=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Q(t.latestLocation.publicHref)!==Q(l.publicHref)&&t.commitLocation({...l,replace:!0}),()=>{h()}},[t,t.history]),Lt(()=>{if(typeof window<"u"&&t.ssr||o.current.router===t&&o.current.mounted)return;o.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(l){console.error(l)}})()},[t]),Lt(()=>{a&&!r&&t.emit({type:"onLoad",...tt(t.state)})},[a,t,r]),Lt(()=>{d&&!u&&t.emit({type:"onBeforeRouteMount",...tt(t.state)})},[u,d,t]),Lt(()=>{if(c&&!i){const h=tt(t.state);t.emit({type:"onResolved",...h}),t.__store.setState(l=>({...l,status:"idle",resolvedLocation:l.location})),h.hrefChanged&&Bo(t)}},[i,c,t]),null}function _s(t){const o=E({select:e=>`not-found-${e.location.pathname}-${e.status}`});return P.jsx(ne,{getResetKey:()=>o,onCatch:(e,s)=>{if(A(e))t.onCatch?.(e,s);else throw e},errorComponent:({error:e})=>{if(A(e))return t.fallback?.(e);throw e},children:t.children})}function Rs(){return P.jsx("p",{children:"Not Found"})}function rt(t){return P.jsx(P.Fragment,{children:t.children})}function ze(t,o,e){return o.options.notFoundComponent?P.jsx(o.options.notFoundComponent,{...e}):t.options.defaultNotFoundComponent?P.jsx(t.options.defaultNotFoundComponent,{...e}):P.jsx(Rs,{})}function xs({children:t}){const o=j();return o.isServer?P.jsx("script",{nonce:o.options.ssr?.nonce,dangerouslySetInnerHTML:{__html:t+";document.currentScript.remove()"}}):null}function ws(){const t=j();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const e=(t.options.getScrollRestorationKey||Jt)(t.latestLocation),s=e!==Jt(t.latestLocation)?e:void 0,n={storageKey:Et,shouldScrollRestoration:!0};return s&&(n.key=s),P.jsx(xs,{children:`(${Fe.toString()})(${JSON.stringify(n)})`})}const Ge=C.memo(function({matchId:o}){const e=j(),s=E({select:m=>{const y=m.matches.find(w=>w.id===o);return V(y),{routeId:y.routeId,ssr:y.ssr,_displayPending:y._displayPending}},structuralSharing:!0}),n=e.routesById[s.routeId],r=n.options.pendingComponent??e.options.defaultPendingComponent,a=r?P.jsx(r,{}):null,i=n.options.errorComponent??e.options.defaultErrorComponent,c=n.options.onCatch??e.options.defaultOnCatch,u=n.isRoot?n.options.notFoundComponent??e.options.notFoundRoute?.options.component:n.options.notFoundComponent,d=s.ssr===!1||s.ssr==="data-only",h=(!n.isRoot||n.options.wrapInSuspense||d)&&(n.options.wrapInSuspense??r??(n.options.errorComponent?.preload||d))?C.Suspense:rt,l=i?ne:rt,f=u?_s:rt,p=E({select:m=>m.loadedAt}),S=E({select:m=>{const y=m.matches.findIndex(w=>w.id===o);return m.matches[y-1]?.routeId}}),g=n.isRoot?n.options.shellComponent??rt:rt;return P.jsxs(g,{children:[P.jsx(Nt.Provider,{value:o,children:P.jsx(h,{fallback:a,children:P.jsx(l,{getResetKey:()=>p,errorComponent:i||jt,onCatch:(m,y)=>{if(A(m))throw m;c?.(m,y)},children:P.jsx(f,{fallback:m=>{if(!u||m.routeId&&m.routeId!==s.routeId||!m.routeId&&!n.isRoot)throw m;return C.createElement(u,m)},children:d||s._displayPending?P.jsx(ns,{fallback:a,children:P.jsx(ke,{matchId:o})}):P.jsx(ke,{matchId:o})})})})}),S===O&&e.options.scrollRestoration?P.jsxs(P.Fragment,{children:[P.jsx(Ls,{}),P.jsx(ws,{})]}):null]})});function Ls(){const t=j(),o=C.useRef(void 0);return P.jsx("script",{suppressHydrationWarning:!0,ref:e=>{e&&(o.current===void 0||o.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...tt(t.state)}),o.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const ke=C.memo(function({matchId:o}){const e=j(),{match:s,key:n,routeId:r}=E({select:c=>{const u=c.matches.find(p=>p.id===o),d=u.routeId,l=(e.routesById[d].options.remountDeps??e.options.defaultRemountDeps)?.({routeId:d,loaderDeps:u.loaderDeps,params:u._strictParams,search:u._strictSearch});return{key:l?JSON.stringify(l):void 0,routeId:d,match:{id:u.id,status:u.status,error:u.error,invalid:u.invalid,_forcePending:u._forcePending,_displayPending:u._displayPending}}},structuralSharing:!0}),a=e.routesById[r],i=C.useMemo(()=>{const c=a.options.component??e.options.defaultComponent;return c?P.jsx(c,{},n):P.jsx(qe,{})},[n,a.options.component,e.options.defaultComponent]);if(s._displayPending)throw e.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw e.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const c=a.options.pendingMinMs??e.options.defaultPendingMinMs;if(c){const u=e.getMatch(s.id);if(u&&!u._nonReactive.minPendingPromise&&!e.isServer){const d=ct();u._nonReactive.minPendingPromise=d,setTimeout(()=>{d.resolve(),u._nonReactive.minPendingPromise=void 0},c)}}throw e.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return V(A(s.error)),ze(e,a,s.error);if(s.status==="redirected")throw V(D(s.error)),e.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(e.isServer){const c=(a.options.errorComponent??e.options.defaultErrorComponent)||jt;return P.jsx(c,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return i}),qe=C.memo(function(){const o=j(),e=C.useContext(Nt),s=E({select:u=>u.matches.find(d=>d.id===e)?.routeId}),n=o.routesById[s],r=E({select:u=>{const h=u.matches.find(l=>l.id===e);return V(h),h.globalNotFound}}),a=E({select:u=>{const d=u.matches,h=d.findIndex(l=>l.id===e);return d[h+1]?.id}}),i=o.options.defaultPendingComponent?P.jsx(o.options.defaultPendingComponent,{}):null;if(r)return ze(o,n,void 0);if(!a)return null;const c=P.jsx(Ge,{matchId:a});return s===O?P.jsx(C.Suspense,{fallback:i,children:c}):c});function Cs(){const t=j(),e=t.routesById[O].options.pendingComponent??t.options.defaultPendingComponent,s=e?P.jsx(e,{}):null,n=t.isServer||typeof document<"u"&&t.ssr?rt:C.Suspense,r=P.jsxs(n,{fallback:s,children:[!t.isServer&&P.jsx(Ps,{}),P.jsx(bs,{})]});return t.options.InnerWrap?P.jsx(t.options.InnerWrap,{children:r}):r}function bs(){const t=j(),o=E({select:n=>n.matches[0]?.id}),e=E({select:n=>n.loadedAt}),s=o?P.jsx(Ge,{matchId:o}):null;return P.jsx(Nt.Provider,{value:o,children:t.options.disableGlobalCatchBoundary?s:P.jsx(ne,{getResetKey:()=>e,errorComponent:jt,onCatch:n=>{n.message||n.toString()},children:s})})}const Ms=t=>new ks(t);class ks extends Jo{constructor(o){super(o)}}typeof globalThis<"u"?(globalThis.createFileRoute=Le,globalThis.createLazyFileRoute=Me):typeof window<"u"&&(window.createFileRoute=Le,window.createLazyFileRoute=Me);function Is({router:t,children:o,...e}){Object.keys(e).length>0&&t.update({...t.options,...e,context:{...t.options.context,...e.context}});const s=We(),n=P.jsx(s.Provider,{value:t,children:o});return t.options.Wrap?P.jsx(t.options.Wrap,{children:n}):n}function Ts({router:t,...o}){return P.jsx(Is,{router:t,...o,children:P.jsx(Cs,{})})}function Ns(t="/",o=[]){return e=>{const s=Ss({component:()=>P.jsxs(P.Fragment,{children:[P.jsx(qe,{}),P.jsx(e,{})]})}),r=Array.from(new Set(["/",...o])).map(u=>Ve({getParentRoute:()=>s,path:u})),a=s.addChildren(r),i=co({initialEntries:[t]}),c=Ms({routeTree:a,history:i});return P.jsx(Ts,{router:c})}}function Ds(){return t=>P.jsx(no,{i18n:ro,children:P.jsx(t,{})})}export{Ds as a,Ns as w};
