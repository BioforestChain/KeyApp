import{r as o,j as r}from"./iframe-DP2WwkEK.js";import{c as d}from"./utils-4perknFd.js";const x=o.createContext(null);function y({getTokenIconBases:e,children:n}){return r.jsx(x.Provider,{value:{getTokenIconBases:e},children:n})}function h(){return o.useContext(x)}const m={xs:"aspect-square w-4 text-[8px]",sm:"aspect-square w-6 text-[10px]",md:"aspect-square w-8 text-xs",lg:"aspect-square w-10 @xs:w-12 text-sm"};function b(e,n){return e.replace(/\$SYMBOL/g,n.toUpperCase()).replace(/\$symbol/g,n.toLowerCase())}function T({symbol:e,chainId:n,imageUrl:t,size:a="md",className:l}){const[I,f]=o.useState(!1),[i,u]=o.useState(0),k=h();o.useEffect(()=>{f(!1),u(0)},[e,n,t]);const s=e.toUpperCase(),v=s.charAt(0);if(t&&!I)return r.jsx("div",{className:d("flex shrink-0 items-center justify-center overflow-hidden rounded-full",m[a],l),"aria-label":s,children:r.jsx("img",{src:t,alt:s,className:"size-full object-cover",onError:()=>f(!0)})});const c=n?k?.getTokenIconBases(n)??[]:[],p=c[i],g=p?b(p,e):void 0;return g&&i>=0&&i<c.length?r.jsx("div",{className:d("flex shrink-0 items-center justify-center overflow-hidden rounded-full",m[a],l),"aria-label":s,children:r.jsx("img",{src:g,alt:s,className:"size-full object-cover",onError:()=>{i<c.length-1?u(i+1):u(-1)}})}):r.jsx("div",{className:d("flex shrink-0 items-center justify-center overflow-hidden rounded-full","bg-muted font-bold text-muted-foreground",m[a],l),"aria-label":s,children:v})}function w({symbol:e,chainId:n,imageUrl:t,className:a}){return r.jsxs("span",{className:d("inline-flex items-center gap-1 rounded-full px-2 py-0.5 ps-0.5 text-xs font-medium","bg-muted text-muted-foreground",a),children:[r.jsx(T,{symbol:e,chainId:n,imageUrl:t,size:"sm",className:"size-4"}),e.toUpperCase()]})}y.__docgenInfo={description:"TokenIcon Provider - 可选，用于自动解析 token 图标",methods:[],displayName:"TokenIconProvider",props:{getTokenIconBases:{required:!0,tsType:{name:"signature",type:"function",raw:"(chainId: string) => string[]",signature:{arguments:[{type:{name:"string"},name:"chainId"}],return:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};T.__docgenInfo={description:`Token 图标组件

加载优先级：
1. imageUrl prop（手动指定）
2. TokenIconProvider + chainId（多层 fallback）
3. 首字母 fallback

@example
// 手动指定图标
<TokenIcon symbol="BFM" imageUrl="/path/to/icon.svg" />

// 自动从 Provider 获取（需要 chainId）
<TokenIcon symbol="BFM" chainId="bfmeta" />

// 仅显示首字母
<TokenIcon symbol="UNKNOWN" />`,methods:[],displayName:"TokenIcon",props:{symbol:{required:!0,tsType:{name:"string"},description:"Token symbol (如 ETH, BFM, USDT)"},chainId:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"所属链 ID（用于从 Provider 获取图标）"},imageUrl:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:"图标 URL（最高优先级，覆盖所有 fallback）"},size:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md' | 'lg' | undefined",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"undefined"}]},description:"",defaultValue:{value:"'md'",computed:!1}},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};w.__docgenInfo={description:"",methods:[],displayName:"TokenBadge",props:{symbol:{required:!0,tsType:{name:"string"},description:""},chainId:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},imageUrl:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:""},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};export{T,y as a,w as b};
