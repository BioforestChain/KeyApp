import{r as w,j as b}from"./iframe-SYGESj7Y.js";import{c as S}from"./utils-4perknFd.js";import{u as T,c as R}from"./hologram-canvas-DyqaDJCH.js";import{u as z}from"./useTranslation-CIUwsVEu.js";const h=(e,n,r)=>Math.max(n,Math.min(r,e));function I(e){const n=e%360;return n<0?n+360:n}function f(e){const n=h(e,0,1);return n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055}function v(e,n,r){const i=I(r)*Math.PI/180,c=n*Math.cos(i),d=n*Math.sin(i),a=e+.3963377774*c+.2158037573*d,s=e-.1055613458*c-.0638541728*d,o=e-.0894841775*c-1.291485548*d,t=a*a*a,l=s*s*s,u=o*o*o,m=4.0767416621*t-3.3077115913*l+.2309699292*u,p=-1.2684380046*t+2.6097574011*l-.3413193965*u,x=-.0041960863*t-.7034186147*l+1.707614701*u,g=h(Math.round(f(m)*255),0,255),k=h(Math.round(f(p)*255),0,255),y=h(Math.round(f(x)*255),0,255);return`rgb(${g}, ${k}, ${y})`}function N(e){return{themeHue:e,c0:v(.5,.2,e),c1:v(.4,.22,e+20),c2:v(.3,.18,e+40)}}const $=5,M=3,P={xs:{width:20,height:12,radius:"rounded-[2px]",iconSize:10},sm:{width:32,height:20,radius:"rounded-[3px]",iconSize:16},md:{width:44,height:28,radius:"rounded-[4px]",iconSize:22}};function _(e,n){const r=e/$,i=n/M;let c="";for(let a=0;a<M;a++)for(let s=0;s<$;s++){const o=s*r,t=a*i;c+=`<path d="M${o},${t+i} L${o+r},${t+i} L${o+r},${t} Z" fill="rgba(255,255,255,0.15)"/>`}const d=`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${n}" viewBox="0 0 ${e} ${n}">${c}</svg>`;return`url("data:image/svg+xml,${encodeURIComponent(d)}")`}const E=[R(.9)];function j({themeHue:e,size:n="sm",showPattern:r=!0,watermarkIconUrl:i,className:c}){const{t:d}=z("wallet"),{c0:a,c1:s,c2:o}=w.useMemo(()=>N(e),[e]),{width:t,height:l,radius:u,iconSize:m}=P[n],p=w.useMemo(()=>r?_(t,l):null,[r,t,l]),x=typeof window<"u"?Math.min(3,window.devicePixelRatio||1):2,g=T(i,{size:Math.round(m*x),invert:!1,contrast:1.8,targetBrightness:.85,pipeline:E});return b.jsxs("div",{className:S("relative shrink-0 overflow-hidden",u,c),style:{width:t,height:l,background:`linear-gradient(135deg, ${a} 0%, ${s} 50%, ${o} 100%)`,boxShadow:`
          inset 0 0.5px 0.5px rgba(255,255,255,0.3),
          inset 0 -0.5px 0.5px rgba(0,0,0,0.15),
          0 1px 3px rgba(0,0,0,0.2)
        `,border:"0.5px solid rgba(255,255,255,0.2)"},role:"img","aria-label":d("miniCard.label"),children:[p&&b.jsx("div",{className:"pointer-events-none absolute inset-0",style:{backgroundImage:p,backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",mixBlendMode:"overlay"},"data-testid":"pattern-layer","aria-hidden":"true"}),g&&b.jsx("div",{className:"pointer-events-none absolute inset-0",style:{backgroundImage:`url(${g})`,backgroundSize:`${m}px`,backgroundRepeat:"no-repeat",backgroundPosition:"center"},"data-testid":"watermark-layer","aria-hidden":"true"}),b.jsx("div",{className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%)"},"aria-hidden":"true"})]})}j.__docgenInfo={description:"",methods:[],displayName:"WalletMiniCard",props:{themeHue:{required:!0,tsType:{name:"number"},description:""},size:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md'",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"}]},description:"",defaultValue:{value:"'sm'",computed:!1}},showPattern:{required:!1,tsType:{name:"boolean"},description:"是否显示三角形纹理",defaultValue:{value:"true",computed:!1}},watermarkIconUrl:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:"水印图标 URL（居中显示，彩虹渐变）"},className:{required:!1,tsType:{name:"string"},description:""}}};export{j as W,N as r};
