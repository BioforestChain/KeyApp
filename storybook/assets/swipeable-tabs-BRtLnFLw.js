import{r,j as a}from"./iframe-D_wumixU.js";import{c}from"./utils-4perknFd.js";import{S as j,a as w}from"./swiper-lfGq_F6Y.js";import{I as S}from"./IconCoins-GBvD9mEX.js";import{c as C}from"./createReactComponent-DTmO_ECI.js";const q=[["path",{d:"M12 8l0 4l2 2",key:"svg-0"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5",key:"svg-1"}]],k=C("outline","history","History",q),T=[{id:"assets",label:"资产",icon:a.jsx(S,{className:"size-4"})},{id:"history",label:"交易",icon:a.jsx(k,{className:"size-4"})}];function I({tabs:s=T,defaultTab:u="assets",activeTab:p,onTabChange:l,children:m,className:f}){const[i,g]=r.useState(u),o=p??i,d=r.useCallback(t=>{g(t),l?.(t)},[l]);return a.jsxs("div",{className:c("flex flex-col",f),children:[a.jsx("div",{className:"bg-background sticky top-0 z-10 border-b",children:a.jsx("div",{className:"flex",children:s.map(t=>a.jsxs("button",{onClick:()=>d(t.id),className:c("flex flex-1 items-center justify-center gap-2 py-3 text-sm font-medium transition-colors","-mb-px border-b-2",o===t.id?"border-primary text-primary":"text-muted-foreground hover:text-foreground border-transparent"),children:[t.icon,a.jsx("span",{children:t.label})]},t.id))})}),a.jsx("div",{className:"flex-1 overflow-auto",children:m(o)})]})}function R({tabs:s=T,defaultTab:u="assets",activeTab:p,onTabChange:l,children:m,className:f,testIdPrefix:i}){const[g,o]=r.useState(u),d=r.useRef(null),t=r.useRef(null),b=p??g,y=s.findIndex(e=>e.id===b),v=r.useCallback(e=>{const n=s.findIndex(x=>x.id===e);n!==-1&&d.current?.slideTo(n)},[s]),h=r.useCallback(e=>{const n=s[e.activeIndex];n&&(o(n.id),l?.(n.id))},[s,l]),N=r.useCallback((e,n)=>{if(!t.current)return;const x=n*(s.length-1);t.current.style.setProperty("--tab-index",String(x))},[s.length]);return a.jsxs("div",{...i&&{"data-testid":i},className:c("flex flex-col overflow-hidden",f),children:[a.jsx("div",{className:"bg-background px-4 pb-2",children:a.jsxs("div",{className:"bg-muted/60 relative flex rounded-xl p-1",children:[a.jsx("div",{ref:t,className:"bg-primary/10 absolute top-1 bottom-1 rounded-lg shadow-sm",style:{"--tab-index":y,"--tab-count":s.length,width:`calc(${100/s.length}% - 4px)`,transform:"translateX(calc(var(--tab-index) * (100% + 4px)))"}}),s.map(e=>a.jsxs("button",{onClick:()=>v(e.id),...i&&{"data-testid":`${i}-tab-${e.id}`},"data-active":b===e.id?"true":"false",className:c("relative z-10 flex flex-1 items-center justify-center gap-1.5 py-2 text-sm font-medium transition-colors",b===e.id?"text-primary":"text-muted-foreground"),children:[e.icon,a.jsx("span",{children:e.label})]},e.id))]})}),a.jsx(j,{className:"w-full flex-1",initialSlide:y,onSwiper:e=>{d.current=e},onSlideChange:h,onProgress:N,resistanceRatio:.5,children:s.map(e=>a.jsx(w,{className:"h-full overflow-auto",...i&&{"data-testid":`${i}-panel-${e.id}`},children:m(e.id)},e.id))})]})}I.__docgenInfo={description:"Tab 切换组件",methods:[],displayName:"Tabs",props:{tabs:{required:!1,tsType:{name:"Array",elements:[{name:"Tab"}],raw:"Tab[]"},description:"",defaultValue:{value:`[
  { id: 'assets', label: '资产', icon: <Coins className="size-4" /> }, // i18n-ignore: default prop
  { id: 'history', label: '交易', icon: <History className="size-4" /> }, // i18n-ignore: default prop
]`,computed:!1}},defaultTab:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'assets'",computed:!1}},activeTab:{required:!1,tsType:{name:"string"},description:""},onTabChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(tabId: string) => void",signature:{arguments:[{type:{name:"string"},name:"tabId"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(activeTab: string) => ReactNode",signature:{arguments:[{type:{name:"string"},name:"activeTab"}],return:{name:"ReactNode"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},testIdPrefix:{required:!1,tsType:{name:"string"},description:""}}};R.__docgenInfo={description:`滑动版 Tab 切换组件（使用 Swiper 实现手势滑动）
指示器位置通过 CSS 变量实时更新，实现丝滑跟手效果`,methods:[],displayName:"SwipeableTabs",props:{tabs:{required:!1,tsType:{name:"Array",elements:[{name:"Tab"}],raw:"Tab[]"},description:"",defaultValue:{value:`[
  { id: 'assets', label: '资产', icon: <Coins className="size-4" /> }, // i18n-ignore: default prop
  { id: 'history', label: '交易', icon: <History className="size-4" /> }, // i18n-ignore: default prop
]`,computed:!1}},defaultTab:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'assets'",computed:!1}},activeTab:{required:!1,tsType:{name:"string"},description:""},onTabChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(tabId: string) => void",signature:{arguments:[{type:{name:"string"},name:"tabId"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(activeTab: string) => ReactNode",signature:{arguments:[{type:{name:"string"},name:"activeTab"}],return:{name:"ReactNode"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},testIdPrefix:{required:!1,tsType:{name:"string"},description:""}}};export{R as S,I as T};
