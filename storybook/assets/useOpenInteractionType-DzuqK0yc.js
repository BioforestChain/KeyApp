import{r as l,j as Z,W as An}from"./iframe-Cctxta_P.js";import{e as De,b as B,i as he,g as Pn,h as Bt,E as ye,j as Mn,u as Ln,a as L,k as xt,l as rt,n as qt,d as de,o as ut,p as Fn,q as lt,r as Nn,f as Dn,s as $t,N as Yt,t as Kt}from"./useRenderElement-qlaWX--Y.js";import{b as ot,c as oe,f as Ht,t as Vn,o as Gt,d as Pe,e as Wn,n as jn}from"./useBaseUiId-H_eAYFur.js";import{r as ze}from"./index-CAE8aR0t.js";import{s as _n}from"./index-ECTMCtyo.js";const ko=500,Ao=500,Po={style:{transition:"none"}},Bn="data-base-ui-click-trigger",Mo={fallbackAxisSide:"none"},Lo={fallbackAxisSide:"end"},qn={clipPath:"inset(50%)",position:"fixed",top:0,left:0};let Xe=(function(e){return e.startingStyle="data-starting-style",e.endingStyle="data-ending-style",e})({});const $n={[Xe.startingStyle]:""},Yn={[Xe.endingStyle]:""},Fo={transitionStatus(e){return e==="starting"?$n:e==="ending"?Yn:null}};let St=(function(e){return e.open="data-open",e.closed="data-closed",e[e.startingStyle=Xe.startingStyle]="startingStyle",e[e.endingStyle=Xe.endingStyle]="endingStyle",e.anchorHidden="data-anchor-hidden",e})({}),gt=(function(e){return e.popupOpen="data-popup-open",e.pressed="data-pressed",e})({});const Kn={[gt.popupOpen]:""},Hn={[gt.popupOpen]:"",[gt.pressed]:""},Gn={[St.open]:""},Un={[St.closed]:""},zn={[St.anchorHidden]:""},No={open(e){return e?Kn:null}},Do={open(e){return e?Hn:null}},Vo={open(e){return e?Gn:Un},anchorHidden(e){return e?zn:null}},Xn=[];function Ut(e){l.useEffect(e,Xn)}const ke=0;class Re{static create(){return new Re}currentId=ke;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=ke,n()},t)}isStarted(){return this.currentId!==ke}clear=()=>{this.currentId!==ke&&(clearTimeout(this.currentId),this.currentId=ke)};disposeEffect=()=>this.clear}function Fe(){const e=De(Re.create).current;return Ut(e.disposeEffect),e}function Ae(e){const t=De(Zn,e).current;return t.next=e,B(t.effect),t}function Zn(e){const t={current:e,next:e,effect:()=>{t.current=t.next}};return t}const xe=typeof navigator<"u",ft=tr(),zt=rr(),Xt=nr(),Jn=typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter:none"),Qn=ft.platform==="MacIntel"&&ft.maxTouchPoints>1?!0:/iP(hone|ad|od)|iOS/.test(ft.platform),er=xe&&/apple/i.test(navigator.vendor),mt=xe&&/android/i.test(zt)||/android/i.test(Xt),Wo=xe&&zt.toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints,Zt=Xt.includes("jsdom/");function tr(){if(!xe)return{platform:"",maxTouchPoints:-1};const e=navigator.userAgentData;return e?.platform?{platform:e.platform,maxTouchPoints:navigator.maxTouchPoints}:{platform:navigator.platform??"",maxTouchPoints:navigator.maxTouchPoints??-1}}function nr(){if(!xe)return"";const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function rr(){if(!xe)return"";const e=navigator.userAgentData;return e?.platform?e.platform:navigator.platform??""}const bt="data-base-ui-focusable",Jt="active",Qt="selected",or="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",jo="ArrowLeft",_o="ArrowRight",Bo="ArrowUp",qo="ArrowDown";function Ee(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function _(e,t){if(!e||!t)return!1;const n=t.getRootNode?.();if(e.contains(t))return!0;if(n&&Pn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ne(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Q(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function sr(e){return e.matches("html,body")}function K(e){return e?.ownerDocument||document}function en(e){return he(e)&&e.matches(or)}function Ct(e){return e?e.getAttribute("role")==="combobox"&&en(e):!1}function $o(e){if(!e||Zt)return!0;try{return e.matches(":focus-visible")}catch{return!0}}function vt(e){return e?e.hasAttribute(bt)?e:e.querySelector(`[${bt}]`)||e:null}function Se(e,t,n=!0){return e.filter(o=>o.parentId===t&&(!n||o.context?.open)).flatMap(o=>[o,...Se(e,o.id,n)])}function Ot(e,t){let n=[],r=e.find(o=>o.id===t)?.parentId;for(;r;){const o=e.find(s=>s.id===r);r=o?.parentId,o&&(n=n.concat(o))}return n}function ir(e){e.preventDefault(),e.stopPropagation()}function ar(e){return"nativeEvent"in e}function cr(e){return e.mozInputSource===0&&e.isTrusted?!0:mt&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ur(e){return Zt?!1:!mt&&e.width===0&&e.height===0||mt&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function It(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function tn(e){const t=e.type;return t==="click"||t==="mousedown"||t==="keydown"||t==="keyup"}var lr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ze=lr.join(","),nn=typeof Element>"u",we=nn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Je=!nn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},Ne=function(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=o===""||o==="true",i=s||n&&t&&Ne(t.parentNode);return i},fr=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},rn=function(t,n,r){if(Ne(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Ze));return n&&we.call(t,Ze)&&o.unshift(t),o=o.filter(r),o},Qe=function(t,n,r){for(var o=[],s=Array.from(t);s.length;){var i=s.shift();if(!Ne(i,!1))if(i.tagName==="SLOT"){var a=i.assignedElements(),u=a.length?a:i.children,c=Qe(u,!0,r);r.flatten?o.push.apply(o,c):o.push({scopeParent:i,candidates:c})}else{var d=we.call(i,Ze);d&&r.filter(i)&&(n||!t.includes(i))&&o.push(i);var h=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),g=!Ne(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(h&&g){var p=Qe(h===!0?i.children:h.children,!0,r);r.flatten?o.push.apply(o,p):o.push({scopeParent:i,candidates:p})}else s.unshift.apply(s,i.children)}}return o},on=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},sn=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||fr(t))&&!on(t)?0:t.tabIndex},dr=function(t,n){var r=sn(t);return r<0&&n&&!on(t)?0:r},pr=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},an=function(t){return t.tagName==="INPUT"},hr=function(t){return an(t)&&t.type==="hidden"},gr=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},mr=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},br=function(t){if(!t.name)return!0;var n=t.form||Je(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=mr(o,t.form);return!s||s===t},vr=function(t){return an(t)&&t.type==="radio"},Er=function(t){return vr(t)&&!br(t)},yr=function(t){var n,r=t&&Je(t),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==t){var i,a,u;for(s=!!((i=o)!==null&&i!==void 0&&(a=i.ownerDocument)!==null&&a!==void 0&&a.contains(o)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!s&&o;){var c,d,h;r=Je(o),o=(c=r)===null||c===void 0?void 0:c.host,s=!!((d=o)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(o))}}return s},kt=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Sr=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in t){var s=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(t).visibility==="hidden")return!0;var i=we.call(t,"details>summary:first-of-type"),a=i?t.parentElement:t;if(we.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var c=t.parentElement,d=Je(t);if(c&&!c.shadowRoot&&o(c)===!0)return kt(t);t.assignedSlot?t=t.assignedSlot:!c&&d!==t.ownerDocument?t=d.host:t=c}t=u}if(yr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return kt(t);return!1},Tr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return we.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Et=function(t,n){return!(n.disabled||Ne(n)||hr(n)||Sr(n,t)||gr(n)||Tr(n))},yt=function(t,n){return!(Er(n)||sn(n)<0||!Et(t,n))},Rr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},cn=function(t){var n=[],r=[];return t.forEach(function(o,s){var i=!!o.scopeParent,a=i?o.scopeParent:o,u=dr(a,i),c=i?cn(o.candidates):a;u===0?i?n.push.apply(n,c):n.push(a):r.push({documentOrder:s,tabIndex:u,item:o,isScope:i,content:c})}),r.sort(pr).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},Ve=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Qe([t],n.includeContainer,{filter:yt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Rr}):r=rn(t,n.includeContainer,yt.bind(null,n)),cn(r)},wr=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Qe([t],n.includeContainer,{filter:Et.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=rn(t,n.includeContainer,Et.bind(null,n)),r},un=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return we.call(t,Ze)===!1?!1:yt(n,t)};const Ce=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ln(e,t){const n=Ve(e,Ce()),r=n.length;if(r===0)return;const o=Ee(K(e)),s=n.indexOf(o),i=s===-1?t===1?0:r-1:s+t;return n[i]}function fn(e){return ln(K(e).body,1)||e}function dn(e){return ln(K(e).body,-1)||e}function pn(e,t){if(!e)return null;const n=Ve(K(e).body,Ce()),r=n.length;if(r===0)return null;const o=n.indexOf(e);if(o===-1)return null;const s=(o+t+r)%r;return n[s]}function Yo(e){return pn(e,1)}function Ko(e){return pn(e,-1)}function Me(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!_(n,r)}function xr(e){Ve(e,Ce()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function At(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function hn(){const e=new Map;return{emit(t,n){e.get(t)?.forEach(r=>r(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){e.get(t)?.delete(n)}}}class Cr{nodesRef={current:[]};events=hn();addNode(t){this.nodesRef.current.push(t)}removeNode(t){const n=this.nodesRef.current.findIndex(r=>r===t);n!==-1&&this.nodesRef.current.splice(n,1)}}const gn=l.createContext(null),mn=l.createContext(null),st=()=>l.useContext(gn)?.id||null,Tt=e=>{const t=l.useContext(mn);return e??t};function Ho(e){const t=ot(),n=Tt(e),r=st();return B(()=>{if(!t)return;const o={id:t,parentId:r};return n?.addNode(o),()=>{n?.removeNode(o)}},[n,t,r]),t}function Go(e){const{children:t,id:n}=e,r=st();return Z.jsx(gn.Provider,{value:l.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function Uo(e){const{children:t,externalTree:n}=e,r=De(()=>n??new Cr).current;return Z.jsx(mn.Provider,{value:r,children:t})}function et(e){return`data-base-ui-${e}`}const bn={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1},$e=null;class Or{callbacks=[];callbacksCount=0;nextId=1;startId=1;isScheduled=!1;tick=t=>{this.isScheduled=!1;const n=this.callbacks,r=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,r>0)for(let o=0;o<n.length;o+=1)n[o]?.(t)};request(t){const n=this.nextId;return this.nextId+=1,this.callbacks.push(t),this.callbacksCount+=1,!this.isScheduled&&(requestAnimationFrame(this.tick),this.isScheduled=!0),n}cancel(t){const n=t-this.startId;n<0||n>=this.callbacks.length||(this.callbacks[n]=null,this.callbacksCount-=1)}}const Ye=new Or;class re{static create(){return new re}static request(t){return Ye.request(t)}static cancel(t){return Ye.cancel(t)}currentId=$e;request(t){this.cancel(),this.currentId=Ye.request(()=>{this.currentId=$e,t()})}cancel=()=>{this.currentId!==$e&&(Ye.cancel(this.currentId),this.currentId=$e)};disposeEffect=()=>this.cancel}function Rt(){const e=De(re.create).current;return Ut(e.disposeEffect),e}function it(e){return e?.ownerDocument||document}const tt=l.forwardRef(function(t,n){const[r,o]=l.useState();B(()=>{er&&o("button")},[]);const s={tabIndex:0,role:r};return Z.jsx("span",{...t,ref:n,style:bn,"aria-hidden":r?void 0:!0,...s,"data-base-ui-focus-guard":""})});let Pt=0;function dt(e,t={}){const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Pt);const s=()=>e?.focus({preventScroll:n});o?s():Pt=requestAnimationFrame(s)}const Te={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Mt(e){return e==="inert"?Te.inert:e==="aria-hidden"?Te["aria-hidden"]:Te.none}let Ke=new WeakSet,He={},pt=0;const vn=e=>e&&(e.host||vn(e.parentNode)),Ir=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=vn(n);return e.contains(r)?r:null}).filter(n=>n!=null);function kr(e,t,n,r){const o="data-base-ui-inert",s=r?"inert":n?"aria-hidden":null,i=Ir(t,e),a=new Set,u=new Set(i),c=[];He[o]||(He[o]=new WeakMap);const d=He[o];i.forEach(h),g(t),a.clear();function h(p){!p||a.has(p)||(a.add(p),p.parentNode&&h(p.parentNode))}function g(p){!p||u.has(p)||[].forEach.call(p.children,b=>{if(Bt(b)!=="script")if(a.has(b))g(b);else{const R=s?b.getAttribute(s):null,w=R!==null&&R!=="false",O=Mt(s),y=(O.get(b)||0)+1,S=(d.get(b)||0)+1;O.set(b,y),d.set(b,S),c.push(b),y===1&&w&&Ke.add(b),S===1&&b.setAttribute(o,""),!w&&s&&b.setAttribute(s,s==="inert"?"":"true")}})}return pt+=1,()=>{c.forEach(p=>{const b=Mt(s),w=(b.get(p)||0)-1,O=(d.get(p)||0)-1;b.set(p,w),d.set(p,O),w||(!Ke.has(p)&&s&&p.removeAttribute(s),Ke.delete(p)),O||p.removeAttribute(o)}),pt-=1,pt||(Te.inert=new WeakMap,Te["aria-hidden"]=new WeakMap,Te.none=new WeakMap,Ke=new WeakSet,He={})}}function Ar(e,t=!1,n=!1){const r=K(e[0]).body;return kr(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const En=l.createContext(null),yn=()=>l.useContext(En),Pr=et("portal");function Mr(e={}){const{ref:t,container:n,componentProps:r=ye,elementProps:o,elementState:s}=e,i=ot(),u=yn()?.portalNode,[c,d]=l.useState(null),[h,g]=l.useState(null),p=l.useRef(null);B(()=>{if(n===null){p.current&&(p.current=null,g(null),d(null));return}if(i==null)return;const w=(n&&(Mn(n)?n:n.current))??u??document.body;if(w==null){p.current&&(p.current=null,g(null),d(null));return}p.current!==w&&(p.current=w,g(null),d(w))},[n,u,i]);const b=Ln("div",r,{ref:[t,g],state:s,props:[{id:i,[Pr]:""},o]});return{portalNode:h,portalSubtree:c&&b?ze.createPortal(b,c):null}}const zo=l.forwardRef(function(t,n){const{children:r,container:o,className:s,render:i,renderGuards:a,...u}=t,{portalNode:c,portalSubtree:d}=Mr({container:o,ref:n,componentProps:t,elementProps:u}),h=l.useRef(null),g=l.useRef(null),p=l.useRef(null),b=l.useRef(null),[R,w]=l.useState(null),O=R?.modal,y=R?.open,S=typeof a=="boolean"?a:!!R&&!R.modal&&R.open&&!!c;l.useEffect(()=>{if(!c||O)return;function k(N){c&&Me(N)&&(N.type==="focusin"?At:xr)(c)}return c.addEventListener("focusin",k,!0),c.addEventListener("focusout",k,!0),()=>{c.removeEventListener("focusin",k,!0),c.removeEventListener("focusout",k,!0)}},[c,O]),l.useEffect(()=>{!c||y||At(c)},[y,c]);const F=l.useMemo(()=>({beforeOutsideRef:h,afterOutsideRef:g,beforeInsideRef:p,afterInsideRef:b,portalNode:c,setFocusManagerState:w}),[c]);return Z.jsxs(l.Fragment,{children:[d,Z.jsxs(En.Provider,{value:F,children:[S&&c&&Z.jsx(tt,{"data-type":"outside",ref:h,onFocus:k=>{if(Me(k,c))p.current?.focus();else{const N=R?R.domReference:null;dn(N)?.focus()}}}),S&&c&&Z.jsx("span",{"aria-owns":c.id,style:qn}),c&&ze.createPortal(r,c),S&&c&&Z.jsx(tt,{"data-type":"outside",ref:g,onFocus:k=>{if(Me(k,c))b.current?.focus();else{const N=R?R.domReference:null;fn(N)?.focus(),R?.closeOnFocusOut&&R?.onOpenChange(!1,oe(Ht,k.nativeEvent))}}})]})]})});function pe(e){return e==null?e:"current"in e?e.current:e}function Lr(e,t){const n=rt(e.target);return e instanceof n.KeyboardEvent?"keyboard":e instanceof n.FocusEvent?t||"keyboard":"pointerType"in e?e.pointerType||"keyboard":"touches"in e?"touch":e instanceof n.MouseEvent?t||(e.detail===0?"keyboard":"mouse"):""}const Lt=20;let le=[];function wt(){le=le.filter(e=>e.isConnected)}function Fr(e){wt(),e&&Bt(e)!=="body"&&(le.push(e),le.length>Lt&&(le=le.slice(-Lt)))}function ht(){return wt(),le[le.length-1]}function Nr(e){if(!e)return null;const t=Ce();return un(e,t)?e:Ve(e,t)[0]||e}function Dr(e){return!e||!e.isConnected?!1:typeof e.checkVisibility=="function"?e.checkVisibility():qt(e).display!=="none"}function Ft(e,t){if(!t.current.includes("floating")&&!e.getAttribute("role")?.includes("dialog"))return;const n=Ce(),o=wr(e,n).filter(i=>{const a=i.getAttribute("data-tabindex")||"";return un(i,n)||i.hasAttribute("data-tabindex")&&!a.startsWith("-")}),s=e.getAttribute("tabindex");t.current.includes("floating")||o.length===0?s!=="0"&&e.setAttribute("tabindex","0"):(s!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function Xo(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],initialFocus:s=!0,returnFocus:i=!0,restoreFocus:a=!1,modal:u=!0,closeOnFocusOut:c=!0,openInteractionType:d="",getInsideElements:h=()=>[],nextFocusableElement:g,previousFocusableElement:p,beforeContentFocusGuardRef:b,externalTree:R}=e,w="rootStore"in t?t.rootStore:t,O=w.useState("open"),y=w.useState("domReferenceElement"),S=w.useState("floatingElement"),{events:F,dataRef:k}=w.context,N=L(()=>k.current.floatingContext?.nodeId),$=L(h),W=s===!1,Y=Ct(y)&&W,ee=Ae(o),se=Ae(s),ce=Ae(i),Oe=Ae(d),H=Tt(R),P=yn(),ie=l.useRef(null),at=l.useRef(null),q=l.useRef(!1),te=l.useRef(!1),ge=l.useRef(!1),We=l.useRef(-1),me=l.useRef(""),J=l.useRef(""),je=Fe(),be=Fe(),_e=Rt(),fe=P!=null,x=vt(S),z=L((v=x)=>v?Ve(v,Ce()):[]),ue=L(v=>{const T=z(v);return ee.current.map(()=>T).filter(Boolean).flat()});l.useEffect(()=>{if(r||!u)return;function v(D){D.key==="Tab"&&_(x,Ee(K(x)))&&z().length===0&&!Y&&ir(D)}const T=K(x);return T.addEventListener("keydown",v),()=>{T.removeEventListener("keydown",v)}},[r,y,x,u,ee,Y,z,ue]),l.useEffect(()=>{if(r||!S)return;function v(T){const D=ne(T),V=z().indexOf(D);V!==-1&&(We.current=V)}return S.addEventListener("focusin",v),()=>{S.removeEventListener("focusin",v)}},[r,S,z]),l.useEffect(()=>{if(r||!O)return;const v=K(x);function T(){ge.current=!1}function D(V){const m=ne(V),C=_(S,m)||_(y,m)||_(P?.portalNode,m);ge.current=!C,J.current=V.pointerType||"keyboard"}function M(){J.current="keyboard"}return v.addEventListener("pointerdown",D,!0),v.addEventListener("pointerup",T,!0),v.addEventListener("pointercancel",T,!0),v.addEventListener("keydown",M,!0),()=>{v.removeEventListener("pointerdown",D,!0),v.removeEventListener("pointerup",T,!0),v.removeEventListener("pointercancel",T,!0),v.removeEventListener("keydown",M,!0)}},[r,S,y,x,O,P]),l.useEffect(()=>{if(r||!c)return;function v(){te.current=!0,be.start(0,()=>{te.current=!1})}function T(m){const C=m.relatedTarget,ae=m.currentTarget,U=ne(m);queueMicrotask(()=>{const ve=N(),Be=w.context.triggerElements,ct=!(_(y,C)||_(S,C)||_(C,S)||_(P?.portalNode,C)||C!=null&&Be.hasElement(C)||Be.hasMatchingElement(X=>_(X,C))||C?.hasAttribute(et("focus-guard"))||H&&(Se(H.nodesRef.current,ve).find(X=>_(X.context?.elements.floating,C)||_(X.context?.elements.domReference,C))||Ot(H.nodesRef.current,ve).find(X=>[X.context?.elements.floating,vt(X.context?.elements.floating)].includes(C)||X.context?.elements.domReference===C)));if(ae===y&&x&&Ft(x,ee),a&&ae!==y&&!Dr(U)&&Ee(K(x))===K(x).body){if(he(x)&&(x.focus(),a==="popup")){_e.request(()=>{x.focus()});return}const X=We.current,Ie=z(),qe=Ie[X]||Ie[Ie.length-1]||x;he(qe)&&qe.focus()}if(k.current.insideReactTree){k.current.insideReactTree=!1;return}(Y||!u)&&C&&ct&&!te.current&&(Y||C!==ht())&&(q.current=!0,w.setOpen(!1,oe(Ht,m)))})}function D(){ge.current||(k.current.insideReactTree=!0,je.start(0,()=>{k.current.insideReactTree=!1}))}const M=he(y)?y:null,V=[];if(!(!S&&!M))return M&&(M.addEventListener("focusout",T),M.addEventListener("pointerdown",v),V.push(()=>{M.removeEventListener("focusout",T),M.removeEventListener("pointerdown",v)})),S&&(S.addEventListener("focusout",T),P&&(S.addEventListener("focusout",D,!0),V.push(()=>{S.removeEventListener("focusout",D,!0)})),V.push(()=>{S.removeEventListener("focusout",T)})),()=>{V.forEach(m=>{m()})}},[r,y,S,x,u,H,P,w,c,a,z,Y,N,ee,k,je,be,_e]);const f=l.useRef(null),I=l.useRef(null),E=xt(f,b,P?.beforeInsideRef),G=xt(I,P?.afterInsideRef);l.useEffect(()=>{if(r||!S||!O)return;const v=Array.from(P?.portalNode?.querySelectorAll(`[${et("portal")}]`)||[]),D=(H?Ot(H.nodesRef.current,N()):[]).find(m=>Ct(m.context?.elements.domReference||null))?.context?.elements.domReference,M=[S,D,...v,...$(),ie.current,at.current,f.current,I.current,P?.beforeOutsideRef.current,P?.afterOutsideRef.current,pe(p),pe(g),Y?y:null].filter(m=>m!=null),V=Ar(M,u||Y);return()=>{V()}},[O,r,y,S,u,ee,P,Y,H,N,$,g,p]),B(()=>{if(!O||r||!he(x))return;const v=K(x),T=Ee(v);queueMicrotask(()=>{const D=ue(x),M=se.current,V=typeof M=="function"?M(Oe.current||""):M;if(V===void 0||V===!1)return;let m;V===!0||V===null?m=D[0]||x:m=pe(V),m=m||D[0]||x,!_(x,T)&&dt(m,{preventScroll:m===x})})},[r,O,x,W,ue,se,Oe]),B(()=>{if(r||!x)return;const v=K(x),T=Ee(v);Fr(T);function D(m){if(m.open||(me.current=Lr(m.nativeEvent,J.current)),m.reason===Vn&&m.nativeEvent.type==="mouseleave"&&(q.current=!0),m.reason===Gt)if(m.nested)q.current=!1;else if(cr(m.nativeEvent)||ur(m.nativeEvent))q.current=!1;else{let C=!1;document.createElement("div").focus({get preventScroll(){return C=!0,!1}}),C?q.current=!1:q.current=!0}}F.on("openchange",D);const M=v.createElement("span");M.setAttribute("tabindex","-1"),M.setAttribute("aria-hidden","true"),Object.assign(M.style,bn),fe&&y&&y.insertAdjacentElement("afterend",M);function V(){const m=ce.current;let C=typeof m=="function"?m(me.current):m;if(C===void 0||C===!1)return null;if(C===null&&(C=!0),typeof C=="boolean"){const U=y||ht();return U&&U.isConnected?U:M}const ae=y||ht()||M;return pe(C)||ae}return()=>{F.off("openchange",D);const m=Ee(v),C=_(S,m)||H&&Se(H.nodesRef.current,N(),!1).some(U=>_(U.context?.elements.floating,m)),ae=V();queueMicrotask(()=>{const U=Nr(ae),ve=typeof ce.current!="boolean";ce.current&&!q.current&&he(U)&&(!(!ve&&U!==m&&m!==v.body)||C)&&U.focus({preventScroll:!0}),M.remove()})}},[r,S,x,ce,k,F,H,fe,y,N]),l.useEffect(()=>{queueMicrotask(()=>{q.current=!1})},[r]),l.useEffect(()=>{if(r||!O)return;function v(D){ne(D)?.closest(`[${Bn}]`)&&(te.current=!0)}const T=K(x);return T.addEventListener("pointerdown",v,!0),()=>{T.removeEventListener("pointerdown",v,!0)}},[r,O,x]),B(()=>{if(!r&&P)return P.setFocusManagerState({modal:u,closeOnFocusOut:c,open:O,onOpenChange:w.setOpen,domReference:y}),()=>{P.setFocusManagerState(null)}},[r,P,u,O,w,c,y]),B(()=>{if(!(r||!x))return Ft(x,ee),()=>{queueMicrotask(wt)}},[r,x,ee]);const A=!r&&(u?!Y:!0)&&(fe||u);return Z.jsxs(l.Fragment,{children:[A&&Z.jsx(tt,{"data-type":"inside",ref:E,onFocus:v=>{if(u){const T=ue();dt(T[T.length-1])}else P?.portalNode&&(q.current=!1,Me(v,P.portalNode)?fn(y)?.focus():pe(p??P.beforeOutsideRef)?.focus())}}),n,A&&Z.jsx(tt,{"data-type":"inside",ref:G,onFocus:v=>{u?dt(ue()[0]):P?.portalNode&&(c&&(q.current=!0),Me(v,P.portalNode)?dn(y)?.focus():pe(g??P.afterOutsideRef)?.focus())}})]})}function Zo(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.context.dataRef,{enabled:o=!0,event:s="click",toggle:i=!0,ignoreMouse:a=!1,stickIfOpen:u=!0,touchOpenDelay:c=0}=t,d=l.useRef(void 0),h=Rt(),g=Fe(),p=l.useMemo(()=>({onPointerDown(b){d.current=b.pointerType},onMouseDown(b){const R=d.current,w=b.nativeEvent,O=n.select("open");if(b.button!==0||s==="click"||It(R,!0)&&a)return;const y=r.current.openEvent,S=y?.type,F=n.select("domReferenceElement")!==b.currentTarget,k=O&&F||!(O&&i&&(!(y&&u)||S==="click"||S==="mousedown"));if(en(w.target)){const $=oe(Pe,w,w.target);k&&R==="touch"&&c>0?g.start(c,()=>{n.setOpen(!0,$)}):n.setOpen(k,$);return}const N=b.currentTarget;h.request(()=>{const $=oe(Pe,w,N);k&&R==="touch"&&c>0?g.start(c,()=>{n.setOpen(!0,$)}):n.setOpen(k,$)})},onClick(b){if(s==="mousedown-only")return;const R=d.current;if(s==="mousedown"&&R){d.current=void 0;return}if(It(R,!0)&&a)return;const w=n.select("open"),O=r.current.openEvent,y=n.select("domReferenceElement")!==b.currentTarget,S=w&&y||!(w&&i&&(!(O&&u)||tn(O))),F=oe(Pe,b.nativeEvent,b.currentTarget);S&&R==="touch"&&c>0?g.start(c,()=>{n.setOpen(!0,F)}):n.setOpen(S,F)},onKeyDown(){d.current=void 0}}),[r,s,a,n,u,i,h,g,c]);return l.useMemo(()=>o?{reference:p}:ye,[o,p])}const Vr={intentional:"onClick",sloppy:"onPointerDown"};function Wr(e){return{escapeKey:typeof e=="boolean"?e:e?.escapeKey??!1,outsidePress:typeof e=="boolean"?e:e?.outsidePress??!0}}function Jo(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("referenceElement"),i=n.useState("domReferenceElement"),{onOpenChange:a,dataRef:u}=n.context,{enabled:c=!0,escapeKey:d=!0,outsidePress:h=!0,outsidePressEvent:g="sloppy",referencePress:p=!1,referencePressEvent:b="sloppy",ancestorScroll:R=!1,bubbles:w,externalTree:O}=t,y=Tt(O),S=L(typeof h=="function"?h:()=>!1),F=typeof h=="function"?S:h,k=l.useRef(!1),{escapeKey:N,outsidePress:$}=Wr(w),W=l.useRef(null),Y=Fe(),ee=Fe(),se=L(()=>{ee.clear(),u.current.insideReactTree=!1}),ce=l.useRef(!1),Oe=l.useRef(""),H=L(f=>{Oe.current=f.pointerType}),P=L(()=>{const f=Oe.current,I=f==="pen"||!f?"mouse":f,E=typeof g=="function"?g():g;return typeof E=="string"?E:E[I]}),ie=L(f=>{if(!r||!c||!d||f.key!=="Escape"||ce.current)return;const I=u.current.floatingContext?.nodeId,E=y?Se(y.nodesRef.current,I):[];if(!N&&E.length>0){let v=!0;if(E.forEach(T=>{T.context?.open&&!T.context.dataRef.current.__escapeKeyBubbles&&(v=!1)}),!v)return}const G=ar(f)?f.nativeEvent:f,A=oe(Wn,G);n.setOpen(!1,A),!N&&!A.isPropagationAllowed&&f.stopPropagation()}),at=L(f=>{const I=P();return I==="intentional"&&f.type!=="click"||I==="sloppy"&&f.type==="click"}),q=L(()=>{u.current.insideReactTree=!0,ee.start(0,se)}),te=L((f,I=!1)=>{if(at(f)){se();return}if(u.current.insideReactTree){se();return}if(P()==="intentional"&&I||typeof F=="function"&&!F(f))return;const E=ne(f),G=`[${et("inert")}]`,A=K(n.select("floatingElement")).querySelectorAll(G),v=n.context.triggerElements;if(E&&(v.hasElement(E)||v.hasMatchingElement(m=>_(m,E))))return;let T=de(E)?E:null;for(;T&&!ut(T);){const m=Fn(T);if(ut(m)||!de(m))break;T=m}if(A.length&&de(E)&&!sr(E)&&!_(E,n.select("floatingElement"))&&Array.from(A).every(m=>!_(T,m)))return;if(he(E)&&!("touches"in f)){const m=ut(E),C=qt(E),ae=/auto|scroll/,U=m||ae.test(C.overflowX),ve=m||ae.test(C.overflowY),Be=U&&E.clientWidth>0&&E.scrollWidth>E.clientWidth,ct=ve&&E.clientHeight>0&&E.scrollHeight>E.clientHeight,X=C.direction==="rtl",Ie=ct&&(X?f.offsetX<=E.offsetWidth-E.clientWidth:f.offsetX>E.clientWidth),qe=Be&&f.offsetY>E.clientHeight;if(Ie||qe)return}const D=u.current.floatingContext?.nodeId,M=y&&Se(y.nodesRef.current,D).some(m=>Q(f,m.context?.elements.floating));if(Q(f,n.select("floatingElement"))||Q(f,n.select("domReferenceElement"))||M)return;const V=y?Se(y.nodesRef.current,D):[];if(V.length>0){let m=!0;if(V.forEach(C=>{C.context?.open&&!C.context.dataRef.current.__outsidePressBubbles&&(m=!1)}),!m)return}n.setOpen(!1,oe(Gt,f)),se()}),ge=L(f=>{P()!=="sloppy"||f.pointerType==="touch"||!n.select("open")||!c||Q(f,n.select("floatingElement"))||Q(f,n.select("domReferenceElement"))||te(f)}),We=L(f=>{if(P()!=="sloppy"||!n.select("open")||!c||Q(f,n.select("floatingElement"))||Q(f,n.select("domReferenceElement")))return;const I=f.touches[0];I&&(W.current={startTime:Date.now(),startX:I.clientX,startY:I.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},Y.start(1e3,()=>{W.current&&(W.current.dismissOnTouchEnd=!1,W.current.dismissOnMouseDown=!1)}))}),me=L(f=>{const I=ne(f);function E(){We(f),I?.removeEventListener(f.type,E)}I?.addEventListener(f.type,E)}),J=L(f=>{const I=k.current;if(k.current=!1,Y.clear(),f.type==="mousedown"&&W.current&&!W.current.dismissOnMouseDown)return;const E=ne(f);function G(){f.type==="pointerdown"?ge(f):te(f,I),E?.removeEventListener(f.type,G)}E?.addEventListener(f.type,G)}),je=L(f=>{if(P()!=="sloppy"||!W.current||Q(f,n.select("floatingElement"))||Q(f,n.select("domReferenceElement")))return;const I=f.touches[0];if(!I)return;const E=Math.abs(I.clientX-W.current.startX),G=Math.abs(I.clientY-W.current.startY),A=Math.sqrt(E*E+G*G);A>5&&(W.current.dismissOnTouchEnd=!0),A>10&&(te(f),Y.clear(),W.current=null)}),be=L(f=>{const I=ne(f);function E(){je(f),I?.removeEventListener(f.type,E)}I?.addEventListener(f.type,E)}),_e=L(f=>{P()!=="sloppy"||!W.current||Q(f,n.select("floatingElement"))||Q(f,n.select("domReferenceElement"))||(W.current.dismissOnTouchEnd&&te(f),Y.clear(),W.current=null)}),fe=L(f=>{const I=ne(f);function E(){_e(f),I?.removeEventListener(f.type,E)}I?.addEventListener(f.type,E)});l.useEffect(()=>{if(!r||!c)return;u.current.__escapeKeyBubbles=N,u.current.__outsidePressBubbles=$;const f=new Re;function I(T){n.setOpen(!1,oe(jn,T))}function E(){f.clear(),ce.current=!0}function G(){f.start(Nn()?5:0,()=>{ce.current=!1})}const A=K(o);A.addEventListener("pointerdown",H,!0),d&&(A.addEventListener("keydown",ie),A.addEventListener("compositionstart",E),A.addEventListener("compositionend",G)),F&&(A.addEventListener("click",J,!0),A.addEventListener("pointerdown",J,!0),A.addEventListener("touchstart",me,!0),A.addEventListener("touchmove",be,!0),A.addEventListener("touchend",fe,!0),A.addEventListener("mousedown",J,!0));let v=[];return R&&(de(i)&&(v=lt(i)),de(o)&&(v=v.concat(lt(o))),!de(s)&&s&&s.contextElement&&(v=v.concat(lt(s.contextElement)))),v=v.filter(T=>T!==A.defaultView?.visualViewport),v.forEach(T=>{T.addEventListener("scroll",I,{passive:!0})}),()=>{A.removeEventListener("pointerdown",H,!0),d&&(A.removeEventListener("keydown",ie),A.removeEventListener("compositionstart",E),A.removeEventListener("compositionend",G)),F&&(A.removeEventListener("click",J,!0),A.removeEventListener("pointerdown",J,!0),A.removeEventListener("touchstart",me,!0),A.removeEventListener("touchmove",be,!0),A.removeEventListener("touchend",fe,!0),A.removeEventListener("mousedown",J,!0)),v.forEach(T=>{T.removeEventListener("scroll",I)}),f.clear()}},[u,o,s,i,d,F,r,a,R,c,N,$,ie,te,J,ge,me,be,fe,H,n]),l.useEffect(se,[F,se]);const x=l.useMemo(()=>({onKeyDown:ie,...p&&{[Vr[b]]:f=>{n.setOpen(!1,oe(Pe,f.nativeEvent))},...b!=="intentional"&&{onClick(f){n.setOpen(!1,oe(Pe,f.nativeEvent))}}}}),[ie,n,p,b]),z=L(f=>{const I=ne(f.nativeEvent);!_(n.select("floatingElement"),I)||f.button!==0||(k.current=!0)}),ue=l.useMemo(()=>({onKeyDown:ie,onPointerDown:z,onMouseDown:z,onMouseUp:z,onClickCapture:q,onMouseDownCapture:q,onPointerDownCapture:q,onMouseUpCapture:q,onTouchEndCapture:q,onTouchMoveCapture:q}),[ie,z,q]);return l.useMemo(()=>c?{reference:x,floating:ue,trigger:x}:{},[c,x,ue])}var nt=Symbol("NOT_FOUND");function jr(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _r(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Br(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Nt=e=>Array.isArray(e)?e:[e];function qr(e){const t=Array.isArray(e[0])?e[0]:e;return Br(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $r(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}function Yr(e){let t;return{get(n){return t&&e(t.key,n)?t.value:nt},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Kr(e,t){let n=[];function r(a){const u=n.findIndex(c=>t(a,c.key));if(u>-1){const c=n[u];return u>0&&(n.splice(u,1),n.unshift(c)),c.value}return nt}function o(a,u){r(a)===nt&&(n.unshift({key:a,value:u}),n.length>e&&n.pop())}function s(){return n}function i(){n=[]}return{get:r,put:o,getEntries:s,clear:i}}var Hr=(e,t)=>e===t;function Gr(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let s=0;s<o;s++)if(!e(n[s],r[s]))return!1;return!0}}function Ur(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=Hr,maxSize:o=1,resultEqualityCheck:s}=n,i=Gr(r);let a=0;const u=o<=1?Yr(i):Kr(o,i);function c(){let d=u.get(arguments);if(d===nt){if(d=e.apply(null,arguments),a++,s){const g=u.getEntries().find(p=>s(p.value,d));g&&(d=g.value,a!==0&&a--)}u.put(arguments,d)}return d}return c.clearCache=()=>{u.clear(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}var zr=class{constructor(e){this.value=e}deref(){return this.value}},Xr=typeof WeakRef<"u"?WeakRef:zr,Zr=0,Dt=1;function Ge(){return{s:Zr,v:void 0,o:null,p:null}}function Sn(e,t={}){let n=Ge();const{resultEqualityCheck:r}=t;let o,s=0;function i(){let a=n;const{length:u}=arguments;for(let h=0,g=u;h<g;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let b=a.o;b===null&&(a.o=b=new WeakMap);const R=b.get(p);R===void 0?(a=Ge(),b.set(p,a)):a=R}else{let b=a.p;b===null&&(a.p=b=new Map);const R=b.get(p);R===void 0?(a=Ge(),b.set(p,a)):a=R}}const c=a;let d;if(a.s===Dt)d=a.v;else if(d=e.apply(null,arguments),s++,r){const h=o?.deref?.()??o;h!=null&&r(h,d)&&(d=h,s!==0&&s--),o=typeof d=="object"&&d!==null||typeof d=="function"?new Xr(d):d}return c.s=Dt,c.v=d,d}return i.clearCache=()=>{n=Ge(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Tn(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let s=0,i=0,a,u={},c=o.pop();typeof c=="object"&&(u=c,c=o.pop()),jr(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...u},{memoize:h,memoizeOptions:g=[],argsMemoize:p=Sn,argsMemoizeOptions:b=[]}=d,R=Nt(g),w=Nt(b),O=qr(o),y=h(function(){return s++,c.apply(null,arguments)},...R),S=p(function(){i++;const k=$r(O,arguments);return a=y.apply(null,k),a},...w);return Object.assign(S,{resultFunc:c,memoizedResultFunc:y,dependencies:O,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var Jr=Tn(Sn),Qr=Object.assign((e,t=Jr)=>{_r(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((i,a,u)=>(i[n[u]]=a,i),{}))},{withTypes:()=>Qr});Tn({memoize:Ur,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const j=(e,t,n,r,o,s,...i)=>{if(i.length>0)throw new Error(Dn(1));let a;if(e)a=e;else throw new Error("Missing arguments");return a},eo=$t(19),to=eo?ro:oo;function no(e,t,n,r,o){return to(e,t,n,r,o)}function ro(e,t,n,r,o){const s=l.useCallback(()=>t(e.getSnapshot(),n,r,o),[e,t,n,r,o]);return _n.useSyncExternalStore(e.subscribe,s,s)}function oo(e,t,n,r,o){return An.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,s=>t(s,n,r,o))}class Le{constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){if(this.state===t)return;this.state=t,this.updateTick+=1;const n=this.updateTick;for(const r of this.listeners){if(n!==this.updateTick)return;r(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){Le.prototype.setState.call(this,{...this.state,...t});return}}set(t,n){Object.is(this.state[t],n)||Le.prototype.setState.call(this,{...this.state,[t]:n})}notifyAll(){const t={...this.state};Le.prototype.setState.call(this,t)}}class so extends Le{constructor(t,n={},r){super(t),this.context=n,this.selectors=r}controlledValues=new Map;useSyncedValue(t,n){l.useDebugValue(t),B(()=>{this.state[t]!==n&&this.set(t,n)},[t,n])}useSyncedValueWithCleanup(t,n){B(()=>(this.state[t]!==n&&this.set(t,n),()=>{this.set(t,void 0)}),[t,n])}useSyncedValues(t){const n=Object.values(t);B(()=>{this.update(t)},n)}useControlledProp(t,n,r){l.useDebugValue(t);const o=n!==void 0;this.controlledValues.has(t)||(this.controlledValues.set(t,o),!o&&!Object.is(this.state[t],r)&&super.setState({...this.state,[t]:r})),B(()=>{o&&!Object.is(this.state[t],n)&&super.setState({...this.state,[t]:n})},[t,n,r,o])}set(t,n){this.controlledValues.get(t)!==!0&&super.set(t,n)}update(t){const n={...t};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.update(n)}setState(t){const n={...t};for(const r in n)if(Object.hasOwn(n,r)&&this.controlledValues.get(r)===!0){delete n[r];continue}super.setState({...this.state,...n})}select=(t,n,r,o)=>{const s=this.selectors[t];return s(this.state,n,r,o)};useState=(t,n,r,o)=>{l.useDebugValue(t);const s=this.selectors[t];return no(this,s,n,r,o)};useContextCallback(t,n){l.useDebugValue(t);const r=L(n??Yt);this.context[t]=r}useStateSetter(t){const n=l.useRef(void 0);return n.current===void 0&&(n.current=r=>{this.set(t,r)}),n.current}observe(t,n){let r;typeof t=="function"?r=t:r=this.selectors[t];let o=r(this.state);return n(o,o,this),this.subscribe(s=>{const i=r(s);if(!Object.is(o,i)){const a=o;o=i,n(i,a,this)}})}}const io={open:j(e=>e.open),domReferenceElement:j(e=>e.domReferenceElement),referenceElement:j(e=>e.positionReference??e.referenceElement),floatingElement:j(e=>e.floatingElement),floatingId:j(e=>e.floatingId)};class Rn extends so{constructor(t){const{nested:n,noEmit:r,onOpenChange:o,triggerElements:s,...i}=t;super({...i,positionReference:i.referenceElement,domReferenceElement:i.referenceElement},{onOpenChange:o,dataRef:{current:{}},events:hn(),nested:n,noEmit:r,triggerElements:s},io)}setOpen=(t,n)=>{if((!t||!this.state.open||tn(n.event))&&(this.context.dataRef.current.openEvent=t?n.event:void 0),!this.context.noEmit){const r={open:t,reason:n.reason,nativeEvent:n.event,nested:this.context.nested,triggerElement:n.trigger};this.context.events.emit("openchange",r)}this.context.onOpenChange?.(t,n)}}function ao(e,t=!1,n=!1){const[r,o]=l.useState(e&&t?"idle":void 0),[s,i]=l.useState(e);return e&&!s&&(i(!0),o("starting")),!e&&s&&r!=="ending"&&!n&&o("ending"),!e&&!s&&r==="ending"&&o(void 0),B(()=>{if(!e&&s&&r!=="ending"&&n){const a=re.request(()=>{o("ending")});return()=>{re.cancel(a)}}},[e,s,r,n]),B(()=>{if(!e||t)return;const a=re.request(()=>{o(void 0)});return()=>{re.cancel(a)}},[t,e]),B(()=>{if(!e||!t)return;e&&s&&r!=="idle"&&o("starting");const a=re.request(()=>{o("idle")});return()=>{re.cancel(a)}},[t,e,s,o,r]),l.useMemo(()=>({mounted:s,setMounted:i,transitionStatus:r}),[s,r])}function co(e,t=!1,n=!0){const r=Rt();return L((o,s=null)=>{r.cancel();const i=pe(e);i!=null&&(typeof i.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?o():r.request(()=>{function a(){i&&Promise.all(i.getAnimations().map(u=>u.finished)).then(()=>{s!=null&&s.aborted||ze.flushSync(o)}).catch(()=>{if(n){if(s!=null&&s.aborted)return;ze.flushSync(o)}else i.getAnimations().length>0&&i.getAnimations().some(u=>u.pending||u.playState!=="finished")&&a()})}t?r.request(a):a()}))})}function uo(e){const{enabled:t=!0,open:n,ref:r,onComplete:o}=e,s=Ae(n),i=L(o),a=co(r,n);l.useEffect(()=>{t&&a(()=>{n===s.current&&i()})},[t,n,i,a,s])}function lo(e,t){const n=l.useRef(null);return l.useCallback(r=>{e!==void 0&&(n.current!==null&&(t.context.triggerElements.delete(n.current),n.current=null),r!==null&&(n.current=e,t.context.triggerElements.add(e,r)))},[t,e])}function Qo(e,t,n,r){const o=n.useState("isMountedByTrigger",e),s=lo(e,n),i=L(a=>{s(a),a!==null&&n.select("open")&&n.select("activeTriggerId")==null&&n.update({activeTriggerId:e,activeTriggerElement:a,...r})});return B(()=>{o&&n.update({activeTriggerElement:t.current,...r})},[o,n,t,...Object.values(r)]),{registerTrigger:i,isMountedByThisTrigger:o}}function es(e){const t=e.useState("open");B(()=>{if(t&&!e.select("activeTriggerId")&&e.context.triggerElements.size===1){const n=e.context.triggerElements.entries().next();if(!n.done){const[r,o]=n.value;e.update({activeTriggerId:r,activeTriggerElement:o})}}},[t,e])}function ts(e,t,n){const{mounted:r,setMounted:o,transitionStatus:s}=ao(e);t.useSyncedValues({mounted:r,transitionStatus:s});const i=L(()=>{o(!1),t.update({activeTriggerId:null,activeTriggerElement:null,mounted:!1}),n?.(),t.context.onOpenChangeComplete?.(!1)}),a=t.useState("preventUnmountingOnClose");return uo({enabled:!a,open:e,ref:t.context.popupRef,onComplete(){e||i()}}),{forceUnmount:i,transitionStatus:s}}class fo{constructor(){this.elements=new Set,this.idMap=new Map}add(t,n){const r=this.idMap.get(t);r!==n&&(r!==void 0&&this.elements.delete(r),this.elements.add(n),this.idMap.set(t,n))}delete(t){const n=this.idMap.get(t);n&&(this.elements.delete(n),this.idMap.delete(t))}hasElement(t){return this.elements.has(t)}hasMatchingElement(t){for(const n of this.elements)if(t(n))return!0;return!1}getById(t){return this.idMap.get(t)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function po(){return new Rn({open:!1,floatingElement:null,referenceElement:null,triggerElements:new fo,floatingId:"",nested:!1,noEmit:!1,onOpenChange:void 0})}function ns(){return{open:!1,mounted:!1,transitionStatus:"idle",floatingRootContext:po(),preventUnmountingOnClose:!1,payload:void 0,activeTriggerId:null,activeTriggerElement:null,popupElement:null,positionerElement:null,activeTriggerProps:ye,inactiveTriggerProps:ye,popupProps:ye}}const rs={open:j(e=>e.open),mounted:j(e=>e.mounted),transitionStatus:j(e=>e.transitionStatus),floatingRootContext:j(e=>e.floatingRootContext),preventUnmountingOnClose:j(e=>e.preventUnmountingOnClose),payload:j(e=>e.payload),activeTriggerId:j(e=>e.activeTriggerId),activeTriggerElement:j(e=>e.mounted?e.activeTriggerElement:null),isTriggerActive:j((e,t)=>t!==void 0&&e.activeTriggerId===t),isOpenedByTrigger:j((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.open),isMountedByTrigger:j((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.mounted),triggerProps:j((e,t)=>t?e.activeTriggerProps:e.inactiveTriggerProps),popupProps:j(e=>e.popupProps),popupElement:j(e=>e.popupElement),positionerElement:j(e=>e.positionerElement)};function os(e){const{popupStore:t,noEmit:n=!1,treatPopupAsFloatingElement:r=!1,onOpenChange:o}=e,s=ot(),i=st()!=null,a=t.useState("open"),u=t.useState("activeTriggerElement"),c=t.useState(r?"popupElement":"positionerElement"),d=t.context.triggerElements,h=De(()=>new Rn({open:a,referenceElement:u,floatingElement:c,triggerElements:d,onOpenChange:o,floatingId:s,nested:i,noEmit:n})).current;return B(()=>{const g={open:a,floatingId:s,referenceElement:u,floatingElement:c};de(u)&&(g.domReferenceElement=u),h.update(g)},[a,s,u,c,h]),h.context.onOpenChange=o,h.context.nested=i,h.context.noEmit=n,h}function ss(e=[]){const t=e.map(c=>c?.reference),n=e.map(c=>c?.floating),r=e.map(c=>c?.item),o=e.map(c=>c?.trigger),s=l.useCallback(c=>Ue(c,e,"reference"),t),i=l.useCallback(c=>Ue(c,e,"floating"),n),a=l.useCallback(c=>Ue(c,e,"item"),r),u=l.useCallback(c=>Ue(c,e,"trigger"),o);return l.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:a,getTriggerProps:u}),[s,i,a,u])}function Ue(e,t,n){const r=new Map,o=n==="item",s={};n==="floating"&&(s.tabIndex=-1,s[bt]="");for(const i in e)o&&e&&(i===Jt||i===Qt)||(s[i]=e[i]);for(let i=0;i<t.length;i+=1){let a;const u=t[i]?.[n];typeof u=="function"?a=e?u(e):null:a=u,a&&Vt(s,a,o,r)}return Vt(s,e,o,r),s}function Vt(e,t,n,r){for(const o in t){const s=t[o];n&&(o===Jt||o===Qt)||(o.startsWith("on")?(r.has(o)||r.set(o,[]),typeof s=="function"&&(r.get(o)?.push(s),e[o]=(...i)=>r.get(o)?.map(a=>a(...i)).find(a=>a!==void 0))):e[o]=s)}}const ho=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function is(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingId"),s=n.useState("domReferenceElement"),i=n.useState("floatingElement"),{enabled:a=!0,role:u="dialog"}=t,c=ot(),d=s?.id||c,h=l.useMemo(()=>vt(i)?.id||o,[i,o]),g=ho.get(u)??u,b=st()!=null,R=l.useMemo(()=>g==="tooltip"||u==="label"?ye:{"aria-haspopup":g==="alertdialog"?"dialog":g,"aria-expanded":"false",...g==="listbox"&&{role:"combobox"},...g==="menu"&&b&&{role:"menuitem"},...u==="select"&&{"aria-autocomplete":"none"},...u==="combobox"&&{"aria-autocomplete":"list"}},[g,b,u]),w=l.useMemo(()=>g==="tooltip"||u==="label"?{[`aria-${u==="label"?"labelledby":"describedby"}`]:r?h:void 0}:{...R,"aria-expanded":r?"true":"false","aria-controls":r?h:void 0,...g==="menu"&&{id:d}},[g,h,r,d,u,R]),O=l.useMemo(()=>{const S={id:h,...g&&{role:g}};return g==="tooltip"||u==="label"?S:{...S,...g==="menu"&&{"aria-labelledby":d}}},[g,h,d,u]),y=l.useCallback(({active:S,selected:F})=>{const k={role:"option",...S&&{id:`${h}-fui-option`}};switch(u){case"select":case"combobox":return{...k,"aria-selected":F}}return{}},[h,u]);return l.useMemo(()=>a?{reference:w,floating:O,item:y,trigger:R}:{},[a,w,O,R,y])}const wn="ArrowUp",xn="ArrowDown",Cn="ArrowLeft",On="ArrowRight",In="Home",kn="End",go=new Set([Cn,On]),mo=new Set([wn,xn]),bo=new Set([...go,...mo]);[...bo];const as=new Set([wn,xn,Cn,On,In,kn]);function cs(e){return $t(19)?e:e?"true":void 0}const us=l.forwardRef(function(t,n){const{cutout:r,...o}=t;let s;if(r){const i=r?.getBoundingClientRect();s=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${i.left}px ${i.top}px,
      ${i.left}px ${i.bottom}px,
      ${i.right}px ${i.bottom}px,
      ${i.right}px ${i.top}px,
      ${i.left}px ${i.top}px
    )`}return Z.jsx("div",{ref:n,role:"presentation","data-base-ui-inert":"",...o,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:s}})});let Wt={},jt={},_t="";function vo(e){if(typeof document>"u")return!1;const t=it(e);return rt(t).innerWidth-t.documentElement.clientWidth>0}function Eo(e){const t=it(e),n=t.documentElement,r=t.body,o=Kt(n)?n:r,s=o.style.overflow;return o.style.overflow="hidden",()=>{o.style.overflow=s}}function yo(e){const t=it(e),n=t.documentElement,r=t.body,o=rt(n);let s=0,i=0;const a=re.create(),u=typeof CSS<"u"&&CSS.supports?.("scrollbar-gutter","stable");if(Jn&&(o.visualViewport?.scale??1)!==1)return()=>{};function c(){const g=o.getComputedStyle(n),p=o.getComputedStyle(r),w=(g.scrollbarGutter||"").includes("both-edges")?"stable both-edges":"stable";s=n.scrollTop,i=n.scrollLeft,Wt={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},_t=n.style.scrollBehavior,jt={position:r.style.position,height:r.style.height,width:r.style.width,boxSizing:r.style.boxSizing,overflowY:r.style.overflowY,overflowX:r.style.overflowX,scrollBehavior:r.style.scrollBehavior};const O=n.scrollHeight>n.clientHeight,y=n.scrollWidth>n.clientWidth,S=g.overflowY==="scroll"||p.overflowY==="scroll",F=g.overflowX==="scroll"||p.overflowX==="scroll",k=Math.max(0,o.innerWidth-n.clientWidth),N=Math.max(0,o.innerHeight-n.clientHeight),$=parseFloat(p.marginTop)+parseFloat(p.marginBottom),W=parseFloat(p.marginLeft)+parseFloat(p.marginRight),Y=Kt(n)?n:r;if(u){n.style.scrollbarGutter=w,Y.style.overflowY="hidden",Y.style.overflowX="hidden";return}Object.assign(n.style,{scrollbarGutter:w,overflowY:"hidden",overflowX:"hidden"}),(O||S)&&(n.style.overflowY="scroll"),(y||F)&&(n.style.overflowX="scroll"),Object.assign(r.style,{position:"relative",height:$||N?`calc(100dvh - ${$+N}px)`:"100dvh",width:W||k?`calc(100vw - ${W+k}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),r.scrollTop=s,r.scrollLeft=i,n.setAttribute("data-base-ui-scroll-locked",""),n.style.scrollBehavior="unset"}function d(){Object.assign(n.style,Wt),Object.assign(r.style,jt),u||(n.scrollTop=s,n.scrollLeft=i,n.removeAttribute("data-base-ui-scroll-locked"),n.style.scrollBehavior=_t)}function h(){d(),a.request(c)}return c(),o.addEventListener("resize",h),()=>{a.cancel(),d(),typeof o.removeEventListener=="function"&&o.removeEventListener("resize",h)}}class So{lockCount=0;restore=null;timeoutLock=Re.create();timeoutUnlock=Re.create();acquire(t){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(t)),this.release}release=()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)};unlock=()=>{this.lockCount===0&&this.restore&&(this.restore?.(),this.restore=null)};lock(t){if(this.lockCount===0||this.restore!==null)return;const r=it(t).documentElement,o=rt(r).getComputedStyle(r).overflowY;if(o==="hidden"||o==="clip"){this.restore=Yt;return}const s=Qn||!vo(t);this.restore=s?Eo(t):yo(t)}}const To=new So;function ls(e=!0,t=null){B(()=>{if(e)return To.acquire(t)},[e,t])}function Ro(e){const t=l.useRef(""),n=l.useCallback(o=>{o.defaultPrevented||(t.current=o.pointerType,e(o,o.pointerType))},[e]);return{onClick:l.useCallback(o=>{if(o.detail===0){e(o,"keyboard");return}"pointerType"in o&&e(o,o.pointerType),e(o,t.current),t.current=""},[e]),onPointerDown:n}}function fs(e){const[t,n]=l.useState(null),r=L((a,u)=>{e||n(u)}),o=l.useCallback(()=>{n(null)},[]),{onClick:s,onPointerDown:i}=Ro(r);return l.useMemo(()=>({openMethod:t,reset:o,triggerProps:{onClick:s,onPointerDown:i}}),[t,o,s,i])}export{Se as $,Bo as A,_o as B,St as C,It as D,st as E,Xo as F,Rn as G,Tt as H,us as I,Fe as J,et as K,Ee as L,en as M,$o as N,K as O,fo as P,Wo as Q,so as R,er as S,or as T,Ae as U,vt as V,Ct as W,dt as X,cr as Y,ur as Z,Re as _,as as a,Po as a0,it as a1,Mo as a2,Lo as a3,Go as a4,Cr as a5,Ho as a6,ko as a7,Rt as a8,Uo as a9,Ko as aa,Me as ab,Yo as ac,fn as ad,Do as ae,tt as af,Ao as ag,ao as ah,no as ai,bn as aj,Le as ak,Jn as al,zo as b,fs as c,es as d,ts as e,os as f,is as g,Jo as h,cs as i,ne as j,_ as k,ls as l,ss as m,j as n,rs as o,Vo as p,ns as q,Qo as r,Zo as s,Fo as t,uo as u,No as v,Bn as w,ir as x,qo as y,jo as z};
