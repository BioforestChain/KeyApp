# BFM Pay - 产品需求文档 (PRD)

---

## 1. 产品愿景

**让每个人都能安全、简单地管理自己的数字资产。**

BFM Pay 是一款多链数字钱包，目标是成为用户进入 Web3 世界的可信赖入口。我们相信：复杂的区块链技术不应成为普通用户的障碍。

---

## 2. 用户画像

### 2.1 主要用户群体

#### 👤 新手小白（Alice，28岁，设计师）
- **背景**：听朋友说起加密货币，想尝试但觉得技术门槛高
- **痛点**：害怕操作失误丢失资产；不理解"助记词""Gas费"等概念
- **期望**：像支付宝一样简单，有清晰的引导
- **心智模型**：把钱包当作"银行账户"，助记词是"银行卡密码"

#### 👤 进阶用户（Bob，35岁，程序员）
- **背景**：已有多个链的资产，使用过 MetaMask、Trust Wallet
- **痛点**：需要在多个钱包间切换；跨链操作繁琐
- **期望**：一个钱包管理所有链；快速完成日常操作
- **心智模型**：钱包是"资产管理工具"，追求效率

#### 👤 交易活跃用户（Carol，30岁，交易员）
- **背景**：频繁进行转账、质押等操作
- **痛点**：担心转错地址；需要快速确认交易状态
- **期望**：地址簿、历史记录、实时状态
- **心智模型**：钱包是"交易终端"，安全与速度并重

### 2.2 用户心智关键洞察

| 用户认知 | 产品对应设计 |
|---------|-------------|
| "钱包 = 存钱的地方" | 首页突出显示余额，像银行App |
| "地址 = 账号" | 简化地址展示，提供复制和二维码 |
| "助记词 = 最高密码" | 强调备份重要性，提供安全提示 |
| "转账要确认" | 双重确认机制，显示手续费 |
| "不同链 = 不同银行" | 清晰的链切换，统一的操作体验 |

---

## 3. 核心用户故事

### 3.1 Epic 1：我想拥有一个自己的钱包

> 作为一个新用户，我想创建自己的数字钱包，以便开始管理我的数字资产。

#### Story 1.1：首次启动引导
**场景**：用户首次打开App

**主线流程**：
1. 展示产品价值介绍（3页轮播）
   - "轻松转账 - 随时随地管理资产"
   - "多链支持 - 无限可能"
   - "全面加密 - 资产更安全"
2. 点击"进入"按钮
3. 进入钱包创建/导入选择页

**用户心智考量**：
- 首次印象决定信任度 → 使用专业但友好的视觉设计
- 用户可能不耐烦 → 最多3页，可跳过
- 降低焦虑感 → 强调"安全"和"简单"

---

#### Story 1.2：创建新钱包
**场景**：用户选择创建新钱包

**主线流程**：
1. 显示用户协议，需勾选同意
2. 设置钱包密码（6-20位，需包含字母和数字）
3. 确认密码
4. 可选：设置密码提示
5. 生成助记词（12个英文单词）
6. **关键步骤**：提示用户手抄备份
7. 验证备份：随机选择3个位置让用户填写
8. 创建成功，进入主页

**支线流程**：
- 用户点击"稍后备份" → 首页显示"未备份"警告标签
- 用户验证失败 → 可重试，最多3次后需重新查看助记词

**异常处理**：
- 密码不符合要求 → 实时提示规则
- 两次密码不一致 → 提示"密码不匹配"
- 助记词验证错误 → 提示具体哪个位置错误

**用户心智考量**：
- 用户不理解助记词的重要性 → 用"通俗类比"解释
  > "助记词是恢复钱包的唯一方式，就像银行卡的密码。一旦丢失，资产将无法找回。"
- 用户嫌麻烦不想备份 → 允许跳过但持续提醒
- 用户担心被偷窥 → 提供"安全环境检查"提示

---

#### Story 1.3：导入已有钱包
**场景**：用户已有助记词或私钥

**主线流程（助记词导入）**：
1. 选择"助记词导入"
2. 输入12/24个助记词
3. 设置钱包密码
4. 选择要导入的链（可多选）
5. 导入成功

**主线流程（私钥导入）**：
1. 选择"私钥导入"
2. 选择目标链
3. 输入私钥
4. 设置钱包密码
5. 导入成功（仅导入单链地址）

**异常处理**：
- 助记词格式错误 → "请检查助记词是否正确，注意空格和拼写"
- 私钥无效 → "私钥格式不正确，请确认后重试"
- 网络超时 → "网络连接失败，请检查网络后重试"

**用户心智考量**：
- 从其他钱包迁移的用户需要无缝体验 → 支持主流格式
- 私钥暴露风险 → 输入时默认隐藏，提供显示开关
- 用户可能记不清词序 → 提供智能提示（如自动完成）

---

### 3.2 Epic 2：我想查看我的资产

> 作为钱包用户，我想随时查看我的资产情况，了解我有多少钱。

#### Story 2.1：查看资产总览
**场景**：用户登录后进入首页

**主线流程**：
1. 显示当前选中钱包的卡片
   - 钱包名称
   - 当前链的地址（中间省略）
   - 复制地址按钮
2. 显示三个快捷操作：转账、铸造、收款
3. 下方显示代币列表
   - 代币图标 + 名称 + 余额
4. 下拉刷新更新余额

**支线流程**：
- 点击钱包名称 → 打开钱包切换面板
- 点击链名称 → 打开链切换面板
- 点击代币行 → 进入代币详情页
- 切换"资产/DP"标签 → 查看数字藏品

**异常处理**：
- 网络断开 → 显示离线标识，展示缓存数据
- 余额加载失败 → 显示"------"，支持手动刷新
- 地址被冻结（特定链） → 显示"冻结"标签

**用户心智考量**：
- 用户最关心的是"我有多少钱" → 余额放在最显眼位置
- 多链切换是高频操作 → 放在顶部，一键可达
- 用户需要安全感 → 未备份提醒、冻结状态提示

---

#### Story 2.2：切换钱包/链
**场景**：用户有多个钱包或想查看其他链

**主线流程（切换钱包）**：
1. 点击顶部钱包名称
2. 底部弹出钱包列表
3. 显示所有身份钱包（带头像、名称）
4. 点击选择目标钱包
5. 首页刷新为该钱包数据

**主线流程（切换链）**：
1. 点击顶部链名称
2. 底部弹出链/地址列表
3. 按链分组显示地址
4. 点击选择目标地址
5. 首页刷新为该地址数据

**用户心智考量**：
- 用户可能有多个"身份" → 钱包层级管理
- 同一钱包对应多个链 → 清晰的层级关系
- 快速切换是刚需 → 保持最近使用的选择

---

### 3.3 Epic 3：我想给别人转账

> 作为钱包用户，我想把我的代币转给别人，完成支付或转移。

#### Story 3.1：发起转账
**场景**：用户想转账给他人

**主线流程**：
1. 从首页点击"转账"按钮
2. 默认使用当前选中的代币
3. 填写收款地址（手动输入/扫码/地址簿）
4. 输入转账金额
5. 可选：填写备注（部分链支持）
6. 确认交易详情（金额、手续费、收款地址）
7. 输入钱包密码（或指纹）
8. 提交交易
9. 显示"交易已发送"，跳转到交易详情

**支线流程**：
- 点击代币选择器 → 切换要转账的代币
- 点击"全部"按钮 → 自动填入最大可转金额
- 点击扫码图标 → 打开相机扫描二维码
- 点击地址簿图标 → 从地址簿选择

**异常处理**：

| 异常场景 | 用户看到的提示 | 处理方式 |
|---------|--------------|---------|
| 地址格式错误 | "地址格式不正确" | 无法继续 |
| 地址与当前链不匹配 | "该地址不属于 [链名]" | 无法继续 |
| 收款地址是自己 | "收款地址不能与发送地址相同" | 无法继续 |
| 余额不足 | "余额不足" | 无法继续 |
| 手续费不足 | "[主币] 余额不足以支付手续费" | 提示充值主币 |
| 短时间内重复交易 | "检测到相同的转账正在处理中，是否继续？" | 弹窗确认 |
| 地址未激活（Tron） | "该地址未激活，将额外消耗1.1 TRX激活" | 提示继续 |
| 地址被冻结 | "该地址已被冻结，无法转账" | 无法继续 |
| 网络错误 | "网络连接失败，请稍后重试" | 可重试 |
| 密码错误 | "密码错误" | 可重试 |

**用户心智考量**：
- 转账是最敏感的操作 → 多重确认，清晰展示细节
- 用户害怕转错地址 → 地址簿、历史记录减少手动输入
- 手续费是困惑点 → 用通俗语言解释，显示预估成本
- 不同链体验要一致 → 统一的转账流程

---

#### Story 3.2：扫码转账
**场景**：用户扫描对方的收款码

**主线流程**：
1. 点击扫码按钮进入扫描页
2. 对准二维码
3. 解析成功后：
   - 如果是简单地址 → 自动填入地址栏
   - 如果包含金额/代币 → 自动填入对应字段
4. 用户确认后继续转账流程

**支线流程**：
- 从相册选择二维码图片
- 扫描结果与当前链不匹配 → 提示切换钱包或选择对应地址

**异常处理**：
- 扫描超时（60秒） → "未检测到二维码，是否重试？"
- 无法识别的二维码 → "无法识别该二维码"
- 相机权限未授予 → 引导开启权限

**用户心智考量**：
- 扫码是最快捷的方式 → 放在显眼位置
- 用户期望自动填充 → 解析二维码中的所有信息
- 相机权限敏感 → 说明用途，只在需要时请求

---

#### Story 3.3：查看交易记录
**场景**：用户想确认交易状态或查看历史

**主线流程**：
1. 从代币详情页查看该代币的交易列表
2. 每条记录显示：
   - 类型图标（转入/转出）
   - 金额
   - 状态（成功/失败/待确认）
   - 时间
3. 点击进入详情页：
   - 完整的发送/接收地址
   - 交易哈希（可复制）
   - 区块高度
   - 手续费
   - 备注

**异常处理**：
- 无交易记录 → 显示空状态"暂无交易记录"
- 加载失败 → "加载失败，点击重试"

**用户心智考量**：
- 交易状态是核心关注点 → 用颜色和图标区分状态
- 用户可能需要凭证 → 支持交易详情分享

---

### 3.4 Epic 4：我想收款

> 作为钱包用户，我想让别人给我转账。

#### Story 4.1：展示收款码
**场景**：用户想接收转账

**主线流程**：
1. 从首页点击"收款"按钮
2. 显示收款页面：
   - 大尺寸收款二维码
   - 完整地址（可复制）
   - 当前链和代币信息
3. 对方扫码即可获取地址

**支线流程**：
- 点击"设置金额" → 生成带金额的收款码
- 切换代币 → 更新二维码信息
- 保存二维码到相册

**用户心智考量**：
- 收款应该简单 → 一键展示二维码
- 用户可能需要指定金额 → 可选的金额输入
- 线下场景 → 支持保存图片分享

---

### 3.5 Epic 5：我想进行跨链质押

> 作为进阶用户，我想通过质押外链代币获取内链代币。

#### Story 5.1：铸造（Mint）代币
**场景**：用户想用 USDT 铸造 USDM

**主线流程**：
1. 从首页点击"铸造"按钮
2. 进入质押页面，默认在"Mint"标签
3. 选择质押的代币（如 BSC 上的 USDT）
4. 选择获取的代币（如 BFMeta 上的 USDM）
5. 输入质押数量（两边同步显示）
6. 确认交易详情
7. 输入密码确认
8. 显示订单状态

**支线流程**：
- 切换到"Burn"标签 → 反向操作
- 查看历史记录 → 跳转到记录列表

**前置条件**：
- 钱包必须同时支持质押链和目标链
- 如不支持 → 提示"请切换到支持的钱包"

**用户心智考量**：
- 跨链是复杂概念 → 用"质押→获取"的简单模型
- 1:1兑换最好理解 → 强调等值关系
- 用户担心资产安全 → 明确说明机制

---

### 3.6 Epic 6：我想保护我的钱包安全

> 作为用户，我希望我的钱包是安全的，不会被他人使用。

#### Story 6.1：设置应用锁
**场景**：用户想在每次打开App时验证身份

**主线流程**：
1. 进入"我的" → "应用锁"
2. 开启密码锁开关
3. 验证当前钱包密码
4. 设置成功
5. 下次打开App需要验证密码

**支线流程**：
- 开启指纹锁 → 需先开启密码锁
- 开启指纹支付 → 转账时用指纹替代密码

**异常处理**：
- 设备不支持指纹 → 隐藏指纹选项
- 指纹未录入 → "请先在系统设置中录入指纹"
- 多次指纹失败 → 30秒后重试

**用户心智考量**：
- 安全是基本需求 → 提供但不强制
- 便捷与安全的平衡 → 指纹比密码更快
- 忘记密码是大问题 → 提供密码提示和重置路径

---

#### Story 6.2：备份助记词
**场景**：用户之前跳过了备份，现在想补上

**主线流程**：
1. 首页看到"未备份"警告
2. 点击警告或进入钱包管理
3. 验证钱包密码
4. 显示安全提示（确保无人偷窥）
5. 展示助记词
6. 完成确认验证
7. 消除"未备份"警告

**用户心智考量**：
- 未备份是真实风险 → 持续但不烦人的提醒
- 备份环境很重要 → 提醒"确保周围无人"
- 只需做一次 → 完成后不再打扰

---

#### Story 6.3：修改/重置密码
**场景**：用户想更换密码或忘记了密码

**主线流程（修改密码）**：
1. 我的 → 修改密码
2. 输入当前密码
3. 输入新密码（两次）
4. 修改成功

**主线流程（重置密码）**：
1. 我的 → 重置密码
2. 输入助记词验证身份
3. 设置新密码
4. 重置成功

**用户心智考量**：
- 忘记密码不应丢失资产 → 助记词是最后防线
- 重置密码需要更高验证 → 防止他人篡改

---

### 3.7 Epic 7：我想管理常用地址

> 作为频繁转账的用户，我不想每次都手动输入地址。

#### Story 7.1：添加地址到地址簿
**场景**：用户想保存一个常用地址

**主线流程**：
1. 我的 → 地址簿 → 添加
2. 输入名称（如"小明的钱包"）
3. 选择链类型
4. 输入地址
5. 保存成功

**支线流程**：
- 从转账页保存 → 转账成功后提示"是否保存到地址簿"
- 扫码添加 → 扫描对方的收款码

**用户心智考量**：
- 地址簿像手机通讯录 → 熟悉的概念
- 地址太长记不住 → 用名称标识
- 按链分类更清晰 → 避免跨链转错

---

### 3.8 Epic 8：我想与DApp交互（DWEB协议）

> 作为Web3用户，我想用钱包连接和使用DApp，通过 DWEB 协议实现跨应用安全通讯。

#### DWEB 协议概述

DWEB（Decentralized Web）是一种分布式应用运行环境，BFM Pay 通过 **Plaoc 协议** 与其他 DWEB 应用进行跨应用通讯，实现：
- 钱包地址授权
- 消息/交易签名
- 资产查询
- 智能合约交互

```
┌─────────────────┐     Plaoc 协议      ┌─────────────────┐
│   DApp (请求方)  │ ◄─────────────────► │  BFM Pay (钱包)  │
│                 │   getAddress        │                 │
│  商城/游戏/DeFi  │   signature         │  授权/签名/查询   │
│                 │   assetBalance      │                 │
└─────────────────┘                     └─────────────────┘
```

---

#### Story 8.1：DApp请求钱包地址
**场景**：用户在 DWEB 应用中，DApp 请求获取钱包地址

**主线流程**：
1. DApp 发起 `getAddress` 请求
2. 钱包弹出授权页面，显示：
   - 请求来源（DApp 名称 + 图标 + 域名）
   - 授权类型（单钱包/单链/全部）
   - 将要分享的信息
3. 用户选择要授权的钱包/链
4. 输入钱包密码确认
5. 返回地址信息给 DApp

**授权类型**：

| 类型 | 说明 | 返回数据 |
|-----|------|---------|
| **单钱包授权** | 授权当前钱包的所有链地址 | 钱包名、各链地址、公钥 |
| **单链授权** | 授权指定链的所有钱包地址 | 该链下所有地址 |
| **全部授权** | 授权 App 内所有钱包地址 | 所有钱包的所有地址 |

**支线流程**：
- DApp 请求带签名验证 → 同时返回签名证明
- 用户选择不同钱包 → 切换后更新返回数据
- 用户拒绝 → DApp 收到拒绝响应

**用户心智考量**：
- "谁"在请求"什么" → 清晰展示 DApp 来源和请求内容
- 最小权限原则 → 默认单钱包授权，全部授权需二次确认
- 类似 OAuth 授权 → 熟悉的授权模式

---

#### Story 8.2：DApp请求签名
**场景**：DApp 请求用户签名消息或交易

**签名类型**：

| 类型 | 场景 | 用户看到的信息 |
|-----|------|--------------|
| **消息签名** | 登录验证、身份证明 | 签名的原始消息内容 |
| **JSON签名** | 结构化数据签名 | JSON 格式的数据 |
| **转账签名** | 发起转账 | 收款地址、金额、手续费 |
| **凭证转账** | 链上凭证转移 | 凭证ID、接收方 |
| **合约签名** | 智能合约交互 | 合约地址、调用数据、Gas |
| **实体操作** | NFT/数字藏品相关 | 操作类型、资产详情 |

**主线流程（转账签名）**：
1. DApp 发起 `signature` 请求，类型为 `transfer`
2. 钱包弹出签名确认页，显示：
   - DApp 来源信息
   - 交易详情（发送方、接收方、金额）
   - 手续费估算
   - 链名称和代币类型
3. 用户确认交易详情
4. 输入钱包密码（或指纹）
5. 钱包签名并返回交易数据

**主线流程（消息签名）**：
1. DApp 发起签名请求，类型为 `message`
2. 钱包弹出签名确认页，显示：
   - DApp 来源信息
   - 要签名的消息内容（纯文本）
3. 用户确认消息内容
4. 输入密码确认
5. 返回签名结果

**异常处理**：

| 异常场景 | 用户提示 | 处理方式 |
|---------|---------|---------|
| 地址未导入 | "该地址未在钱包中，请先导入" | 无法继续 |
| 余额不足 | "余额不足以完成交易" | 无法继续 |
| 手续费不足 | "[主币]余额不足以支付手续费" | 无法继续 |
| 二次密码 | "该地址设置了安全密码，请输入" | 额外验证 |
| 签名超时 | "签名已超时，请重新发起" | DApp 重试 |

**用户心智考量**：
- 签名 = 授权操作 → 每次都需要确认
- 转账签名是高风险操作 → 完整展示交易详情
- 消息签名相对安全 → 但仍需展示内容防钓鱼
- 不理解的数据不要签 → 警告可疑请求

---

#### Story 8.3：DApp查询资产余额
**场景**：DApp 需要查询用户的资产余额

**主线流程**：
1. DApp 发起 `assetTypeBalance` 请求
2. 钱包弹出授权确认：
   - DApp 来源
   - 要查询的资产类型列表
3. 用户确认授权
4. 返回各资产余额

**用户心智考量**：
- 余额查询是只读操作 → 风险较低
- 仍需告知用户 → 隐私保护意识

---

#### Story 8.4：批量签名请求
**场景**：DApp 一次请求多个签名（如复杂 DeFi 操作）

**主线流程**：
1. DApp 发起包含多个签名项的请求
2. 钱包显示请求总览：
   - "本次请求包含 N 项操作"
   - 列出每项操作的类型和摘要
3. 用户可展开查看每项详情
4. 一次性确认所有操作
5. 按顺序签名并返回结果

**用户心智考量**：
- 批量操作需要更谨慎 → 强制展示每项详情
- 部分失败的处理 → 明确告知哪些成功/失败

---

#### Story 8.5：管理 DApp 授权
**场景**：用户想查看和管理已授权的 DApp

**主线流程**：
1. 进入"我的" → "DApp 管理"
2. 显示已授权的 DApp 列表：
   - DApp 名称和图标
   - 授权时间
   - 授权类型（地址/签名）
3. 点击 DApp 查看详情：
   - 已授权的钱包/链
   - 历史签名记录
4. 可执行操作：
   - 取消授权
   - 查看交易记录

**用户心智考量**：
- 用户需要掌控权 → 随时可撤销授权
- 透明可追溯 → 展示历史操作记录

---

### 3.9 Epic 9：我想个性化我的钱包

> 作为用户，我想按自己的偏好使用钱包，包括语言、货币单位等。

#### Story 9.1：切换应用语言
**场景**：用户想使用母语或其他语言

**主线流程**：
1. 进入"我的" → "设置" → "语言"
2. 显示支持的语言列表
   - 简体中文
   - 繁體中文
   - English
   - 日本語
   - 한국어
   - العربية
3. 点击选择目标语言
4. 界面立即切换到新语言
5. 设置自动保存

**首次启动**：
- 自动检测系统语言
- 如系统语言不支持 → 默认使用 English
- 用户可随时在设置中更改

**用户心智考量**：
- 语言是基础需求 → 放在设置首位
- 即时反馈 → 切换后立刻生效，无需重启
- 语言名称用原文显示 → "日本語" 而非 "Japanese"

---

#### Story 9.2：设置货币单位
**场景**：用户想用熟悉的法币查看资产价值

**主线流程**：
1. 进入"我的" → "设置" → "货币单位"
2. 显示支持的法币列表
   - USD ($)
   - CNY (¥)
   - EUR (€)
   - JPY (¥)
   - KRW (₩)
   - ...
3. 选择目标货币
4. 首页资产总值显示更新

**用户心智考量**：
- 用户关心"值多少钱" → 用熟悉的货币衡量
- 汇率应实时更新 → 显示"参考价格"提示
- 只影响显示，不影响实际资产 → 明确说明

---

#### Story 9.3：管理钱包
**场景**：用户想重命名钱包或查看详情

**主线流程**：
1. 进入"我的" → "钱包管理"
2. 显示所有身份钱包列表
3. 点击钱包进入详情：
   - 钱包名称（可编辑）
   - 钱包头像（可更换）
   - 导入方式（只读）
   - 创建时间
   - 支持的链列表
4. 可执行操作：
   - 重命名
   - 备份助记词
   - 导出私钥
   - 删除钱包

**删除钱包流程**：
1. 点击"删除钱包"
2. 弹出警告：
   > "删除钱包将清除本地数据。如果您没有备份助记词，资产将永久丢失！"
3. 输入钱包密码确认
4. 再次确认："确定删除？"
5. 删除成功，返回钱包列表

**异常处理**：
- 只有一个钱包时 → "无法删除唯一的钱包，请先创建或导入新钱包"
- 钱包有未完成交易 → "该钱包有待处理的交易，请稍后再试"

**用户心智考量**：
- 删除是高危操作 → 多重确认
- 用户可能想整理多个钱包 → 提供重命名
- 头像帮助区分 → 可视化识别

---

#### Story 9.4：网络设置
**场景**：进阶用户想自定义网络节点

**主线流程**：
1. 进入"我的" → "设置" → "网络"
2. 显示当前各链的网络状态
   - 延迟（ms）
   - 状态（正常/异常）
3. 点击链进入详情：
   - 当前节点 URL
   - 可选：添加自定义节点
4. 切换节点后自动重连

**用户心智考量**：
- 大多数用户不需要关心 → 默认配置即可
- 进阶用户需要诊断 → 显示网络状态
- 自定义节点是高级功能 → 放在二级页面

---

#### Story 9.5：关于与帮助
**场景**：用户想了解App信息或寻求帮助

**主线流程**：
1. 进入"我的" → "关于"
2. 显示：
   - App 版本号
   - 检查更新
   - 用户协议
   - 隐私政策
   - 联系我们
   - 常见问题（FAQ）

**用户心智考量**：
- 版本号帮助排查问题 → 方便复制
- 用户需要帮助入口 → 常见问题优先
- 法律信息必须提供 → 协议和政策

---

### 3.10 Epic 10："我的"页面总览

> 作为用户，我希望有一个统一的入口管理所有个人设置。

#### "我的"页面结构

```
┌─────────────────────────────────────┐
│  👤 头像    用户名/钱包名             │
│         当前钱包地址（简略）          │
├─────────────────────────────────────┤
│  📁 钱包管理                    >    │
│  📒 地址簿                      >    │
├─────────────────────────────────────┤
│  🔒 应用锁                      >    │
│  🔑 修改密码                    >    │
│  📝 备份助记词                  >    │ ← 未备份时显示红点
├─────────────────────────────────────┤
│  🌐 语言                  简体中文 > │
│  💰 货币单位                  CNY > │
│  📡 网络                        >    │
├─────────────────────────────────────┤
│  ❓ 帮助与反馈                  >    │
│  ℹ️ 关于                        >    │
└─────────────────────────────────────┘
```

**分组逻辑**：
1. **身份信息**：钱包/地址基本信息
2. **资产管理**：钱包管理、地址簿
3. **安全设置**：应用锁、密码、备份
4. **偏好设置**：语言、货币、网络
5. **帮助信息**：帮助、关于

**用户心智考量**：
- 分组清晰 → 快速找到需要的功能
- 高频操作上方 → 钱包管理最常用
- 安全相关集中 → 便于管理
- 未完成项提醒 → 红点引导完成备份

---

## 4. 用户旅程地图

### 4.1 新用户首次体验

```
启动App → 查看引导 → 创建钱包 → 设置密码 → 备份助记词 → 进入首页 → 探索功能
   │          │           │           │            │            │
   │          │           │           │            │            └─ 💡 引导发现"收款"功能
   │          │           │           │            │
   │          │           │           │            └─ ⚠️ 可跳过但会持续提醒
   │          │           │           │
   │          │           │           └─ 💡 密码提示帮助记忆
   │          │           │
   │          │           └─ 或选择"导入钱包"
   │          │
   │          └─ 可跳过，但首次用户不建议
   │
   └─ 首次打开触发
```

### 4.2 日常转账流程

```
解锁App → 首页 → 转账 → 填写信息 → 确认 → 输入密码 → 完成
   │        │       │        │         │        │         │
   │        │       │        │         │        │         └─ 查看交易状态
   │        │       │        │         │        │
   │        │       │        │         │        └─ 或指纹验证
   │        │       │        │         │
   │        │       │        │         └─ 显示手续费预估
   │        │       │        │
   │        │       │        ├─ 扫码快捷输入
   │        │       │        └─ 地址簿选择
   │        │       │
   │        │       └─ 如需切换代币先选择
   │        │
   │        └─ 查看余额确认足够
   │
   └─ 密码锁/指纹验证（如已开启）
```

---

## 5. 设计原则

### 5.1 信任优先
- **透明**：所有操作都清晰展示细节（地址、金额、手续费）
- **可控**：用户始终可以取消、返回、重试
- **安全提示**：在敏感操作前给予警告

### 5.2 渐进式复杂度
- **新手友好**：核心功能（查看/收款/转账）零学习成本
- **进阶可选**：质押、DApp等功能不干扰基础体验
- **专家高效**：提供快捷操作给熟练用户

### 5.3 错误预防
- **格式验证**：实时校验输入格式
- **二次确认**：大额/异常操作需确认
- **可恢复**：提供明确的补救路径

### 5.4 一致性体验
- **跨链统一**：不同链的操作流程保持一致
- **视觉统一**：相同功能使用相同的图标和位置
- **语言统一**：用通俗语言解释技术概念

### 5.5 自适应布局

> 随着折叠屏手机和小平板的普及，BFM Pay 在不同屏幕尺寸上提供最佳体验。

**设计目标**：
- **一份代码**：无需为不同设备开发独立版本
- **内容优先**：根据可用空间展示合适的信息量
- **交互一致**：核心操作在各设备上保持相同

**屏幕适配策略**：

| 设备类型 | 屏幕宽度 | 布局特点 |
|---------|---------|---------|
| 小型手机 | < 360px | 紧凑单列，核心信息优先 |
| 标准手机 | 360-414px | 标准单列，完整功能展示 |
| 大屏手机 | 414-600px | 宽松单列，可显示更多细节 |
| 折叠屏展开 | 600-840px | 卡片并排，利用宽屏空间 |
| 小平板 | > 840px | 分栏布局，列表+详情 |

**用户感知**：
- 手机上：专注于当前任务，一次一屏
- 折叠屏展开时：同时看到更多信息，减少页面跳转
- 平板上：左侧资产列表 + 右侧详情，提升效率

**典型场景**：
1. **钱包卡片**：窄屏垂直排列信息 → 宽屏水平展开显示更多
2. **资产列表**：始终单列 → 宽屏显示更多余额细节
3. **转账确认**：窄屏全屏弹窗 → 宽屏居中卡片式弹窗
4. **设置页面**：窄屏单列 → 宽屏分组卡片布局

---

## 6. 术语表（用户可见的措辞）

| 技术术语 | 用户友好表述 | 说明时机 |
|---------|-------------|---------|
| 助记词 (Mnemonic) | 助记词 | 首次展示时解释："这12个单词是恢复钱包的唯一方式" |
| 私钥 (Private Key) | 私钥 | 导入时解释："私钥是另一种导入方式，仅支持单链" |
| Gas Fee | 手续费 | 每次转账时显示："需支付给网络的费用" |
| 地址 (Address) | 钱包地址 | 收款时："把这个地址发给对方" |
| 主网 (Mainnet) | [链名称] | 直接显示链名，如"以太坊"、"波场" |
| 区块确认 | 交易确认中 | "交易已提交，等待网络确认" |
| 未激活地址 | 新地址 | "该地址是新地址，首次转账需额外费用激活" |

---

## 7. 版本规划

### v1.0 核心功能
- ✅ 创建/导入钱包
- ✅ 多链资产查看
- ✅ 转账/收款
- ✅ 基础安全设置
- ✅ 多语言支持（6种语言）
- ✅ 货币单位设置

### v1.1 体验优化
- ✅ 地址簿
- ✅ 交易记录
- ✅ 指纹支付
- ✅ 钱包管理（重命名/头像）

### v1.2 进阶功能
- ✅ 跨链质押（Mint/Burn）
- ✅ DApp授权
- ✅ 自定义网络节点

### v2.0 规划中
- 🔲 代币兑换（Swap）
- 🔲 DeFi聚合
- 🔲 NFT展示
- 🔲 深色模式

---

## 附录A：支持的区块链网络

| 链名称 | 主币 | 特点 |
|-------|------|------|
| 以太坊 (Ethereum) | ETH | 最大的智能合约平台 |
| 波场 (Tron) | TRX | 高吞吐量，低手续费 |
| 币安链 (BSC) | BNB | 兼容以太坊，快速便宜 |
| 比特币 (Bitcoin) | BTC | 第一大加密货币 |
| BFMeta | BFM | 生物链林生态主链 |
| BTGMeta | BTGM | 生物链林生态 |
| ETHMeta | ETHM | 生物链林生态 |
| CCChain | CCC | 生物链林生态 |
| PMChain | PMC | 生物链林生态 |

---

## 附录B：支持的语言

| 语言代码 | 语言名称 | 显示名称 | 文字方向 |
|---------|---------|---------|---------|
| zh-CN | 简体中文 | 简体中文 | LTR |
| zh-TW | 繁体中文 | 繁體中文 | LTR |
| en | 英语 | English | LTR |
| ja | 日语 | 日本語 | LTR |
| ko | 韩语 | 한국어 | LTR |
| ar | 阿拉伯语 | العربية | RTL |

**语言检测逻辑**：
1. 首先检查用户本地存储的语言偏好
2. 如无存储，检测系统/浏览器语言
3. 如系统语言不在支持列表中，默认使用 English

---

*文档版本：2.0*
*最后更新：2024年*
*配套文档：TDD.md（技术设计）/ SERVICE-SPEC.md（服务接口规范）*
